var Mx=Object.defineProperty;var Dx=(n,t,e)=>t in n?Mx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var lt=(n,t,e)=>Dx(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function Cx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xg={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Ox(){if(z0)return Ll;z0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return Ll.Fragment=t,Ll.jsx=e,Ll.jsxs=e,Ll}var B0;function Ix(){return B0||(B0=1,xg.exports=Ox()),xg.exports}var St=Ix(),Ag={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function kx(){if(U0)return Dt;U0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function C(P,st,ot){this.props=P,this.context=st,this.refs=M,this.updater=ot||S}C.prototype.isReactComponent={},C.prototype.setState=function(P,st){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,st,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function B(){}B.prototype=C.prototype;function H(P,st,ot){this.props=P,this.context=st,this.refs=M,this.updater=ot||S}var X=H.prototype=new B;X.constructor=H,A(X,C.prototype),X.isPureReactComponent=!0;var $=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},et=Object.prototype.hasOwnProperty;function I(P,st,ot,at,mt,At){return ot=At.ref,{$$typeof:n,type:P,key:st,ref:ot!==void 0?ot:null,props:At}}function w(P,st){return I(P.type,st,void 0,void 0,void 0,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function k(P){var st={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ot){return st[ot]})}var N=/\/+/g;function L(P,st){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):st.toString(36)}function D(){}function ft(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(st){P.status==="pending"&&(P.status="fulfilled",P.value=st)},function(st){P.status==="pending"&&(P.status="rejected",P.reason=st)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ht(P,st,ot,at,mt){var At=typeof P;(At==="undefined"||At==="boolean")&&(P=null);var yt=!1;if(P===null)yt=!0;else switch(At){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(P.$$typeof){case n:case t:yt=!0;break;case p:return yt=P._init,ht(yt(P._payload),st,ot,at,mt)}}if(yt)return mt=mt(P),yt=at===""?"."+L(P,0):at,$(mt)?(ot="",yt!=null&&(ot=yt.replace(N,"$&/")+"/"),ht(mt,st,ot,"",function(ii){return ii})):mt!=null&&(O(mt)&&(mt=w(mt,ot+(mt.key==null||P&&P.key===mt.key?"":(""+mt.key).replace(N,"$&/")+"/")+yt)),st.push(mt)),1;yt=0;var Be=at===""?".":at+":";if($(P))for(var ie=0;ie<P.length;ie++)at=P[ie],At=Be+L(at,ie),yt+=ht(at,st,ot,At,mt);else if(ie=b(P),typeof ie=="function")for(P=ie.call(P),ie=0;!(at=P.next()).done;)at=at.value,At=Be+L(at,ie++),yt+=ht(at,st,ot,At,mt);else if(At==="object"){if(typeof P.then=="function")return ht(ft(P),st,ot,at,mt);throw st=String(P),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return yt}function j(P,st,ot){if(P==null)return P;var at=[],mt=0;return ht(P,at,"","",function(At){return st.call(ot,At,mt++)}),at}function it(P){if(P._status===-1){var st=P._result;st=st(),st.then(function(ot){(P._status===0||P._status===-1)&&(P._status=1,P._result=ot)},function(ot){(P._status===0||P._status===-1)&&(P._status=2,P._result=ot)}),P._status===-1&&(P._status=0,P._result=st)}if(P._status===1)return P._result.default;throw P._result}var ct=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function vt(){}return Dt.Children={map:j,forEach:function(P,st,ot){j(P,function(){st.apply(this,arguments)},ot)},count:function(P){var st=0;return j(P,function(){st++}),st},toArray:function(P){return j(P,function(st){return st})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Dt.Component=C,Dt.Fragment=e,Dt.Profiler=a,Dt.PureComponent=H,Dt.StrictMode=i,Dt.Suspense=f,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return G.H.useMemoCache(P)}},Dt.cache=function(P){return function(){return P.apply(null,arguments)}},Dt.cloneElement=function(P,st,ot){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var at=A({},P.props),mt=P.key,At=void 0;if(st!=null)for(yt in st.ref!==void 0&&(At=void 0),st.key!==void 0&&(mt=""+st.key),st)!et.call(st,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&st.ref===void 0||(at[yt]=st[yt]);var yt=arguments.length-2;if(yt===1)at.children=ot;else if(1<yt){for(var Be=Array(yt),ie=0;ie<yt;ie++)Be[ie]=arguments[ie+2];at.children=Be}return I(P.type,mt,void 0,void 0,At,at)},Dt.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Dt.createElement=function(P,st,ot){var at,mt={},At=null;if(st!=null)for(at in st.key!==void 0&&(At=""+st.key),st)et.call(st,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(mt[at]=st[at]);var yt=arguments.length-2;if(yt===1)mt.children=ot;else if(1<yt){for(var Be=Array(yt),ie=0;ie<yt;ie++)Be[ie]=arguments[ie+2];mt.children=Be}if(P&&P.defaultProps)for(at in yt=P.defaultProps,yt)mt[at]===void 0&&(mt[at]=yt[at]);return I(P,At,void 0,void 0,null,mt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(P){return{$$typeof:h,render:P}},Dt.isValidElement=O,Dt.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:it}},Dt.memo=function(P,st){return{$$typeof:g,type:P,compare:st===void 0?null:st}},Dt.startTransition=function(P){var st=G.T,ot={};G.T=ot;try{var at=P(),mt=G.S;mt!==null&&mt(ot,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(vt,ct)}catch(At){ct(At)}finally{G.T=st}},Dt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Dt.use=function(P){return G.H.use(P)},Dt.useActionState=function(P,st,ot){return G.H.useActionState(P,st,ot)},Dt.useCallback=function(P,st){return G.H.useCallback(P,st)},Dt.useContext=function(P){return G.H.useContext(P)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(P,st){return G.H.useDeferredValue(P,st)},Dt.useEffect=function(P,st,ot){var at=G.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(P,st)},Dt.useId=function(){return G.H.useId()},Dt.useImperativeHandle=function(P,st,ot){return G.H.useImperativeHandle(P,st,ot)},Dt.useInsertionEffect=function(P,st){return G.H.useInsertionEffect(P,st)},Dt.useLayoutEffect=function(P,st){return G.H.useLayoutEffect(P,st)},Dt.useMemo=function(P,st){return G.H.useMemo(P,st)},Dt.useOptimistic=function(P,st){return G.H.useOptimistic(P,st)},Dt.useReducer=function(P,st,ot){return G.H.useReducer(P,st,ot)},Dt.useRef=function(P){return G.H.useRef(P)},Dt.useState=function(P){return G.H.useState(P)},Dt.useSyncExternalStore=function(P,st,ot){return G.H.useSyncExternalStore(P,st,ot)},Dt.useTransition=function(){return G.H.useTransition()},Dt.version="19.1.0",Dt}var H0;function Um(){return H0||(H0=1,Ag.exports=kx()),Ag.exports}var Te=Um();const k1=Cx(Te);var wg={exports:{}},zl={},Rg={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function Vx(){return j0||(j0=1,function(n){function t(j,it){var ct=j.length;j.push(it);t:for(;0<ct;){var vt=ct-1>>>1,P=j[vt];if(0<a(P,it))j[vt]=it,j[ct]=P,ct=vt;else break t}}function e(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var it=j[0],ct=j.pop();if(ct!==it){j[0]=ct;t:for(var vt=0,P=j.length,st=P>>>1;vt<st;){var ot=2*(vt+1)-1,at=j[ot],mt=ot+1,At=j[mt];if(0>a(at,ct))mt<P&&0>a(At,at)?(j[vt]=At,j[mt]=ct,vt=mt):(j[vt]=at,j[ot]=ct,vt=ot);else if(mt<P&&0>a(At,ct))j[vt]=At,j[mt]=ct,vt=mt;else break t}}return it}function a(j,it){var ct=j.sortIndex-it.sortIndex;return ct!==0?ct:j.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],p=1,v=null,b=3,S=!1,A=!1,M=!1,C=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function $(j){for(var it=e(g);it!==null;){if(it.callback===null)i(g);else if(it.startTime<=j)i(g),it.sortIndex=it.expirationTime,t(f,it);else break;it=e(g)}}function G(j){if(M=!1,$(j),!A)if(e(f)!==null)A=!0,et||(et=!0,L());else{var it=e(g);it!==null&&ht(G,it.startTime-j)}}var et=!1,I=-1,w=5,O=-1;function k(){return C?!0:!(n.unstable_now()-O<w)}function N(){if(C=!1,et){var j=n.unstable_now();O=j;var it=!0;try{t:{A=!1,M&&(M=!1,H(I),I=-1),S=!0;var ct=b;try{e:{for($(j),v=e(f);v!==null&&!(v.expirationTime>j&&k());){var vt=v.callback;if(typeof vt=="function"){v.callback=null,b=v.priorityLevel;var P=vt(v.expirationTime<=j);if(j=n.unstable_now(),typeof P=="function"){v.callback=P,$(j),it=!0;break e}v===e(f)&&i(f),$(j)}else i(f);v=e(f)}if(v!==null)it=!0;else{var st=e(g);st!==null&&ht(G,st.startTime-j),it=!1}}break t}finally{v=null,b=ct,S=!1}it=void 0}}finally{it?L():et=!1}}}var L;if(typeof X=="function")L=function(){X(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ft=D.port2;D.port1.onmessage=N,L=function(){ft.postMessage(null)}}else L=function(){B(N,0)};function ht(j,it){I=B(function(){j(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(j){switch(b){case 1:case 2:case 3:var it=3;break;default:it=b}var ct=b;b=it;try{return j()}finally{b=ct}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(j,it){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ct=b;b=j;try{return it()}finally{b=ct}},n.unstable_scheduleCallback=function(j,it,ct){var vt=n.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?vt+ct:vt):ct=vt,j){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ct+P,j={id:p++,callback:it,priorityLevel:j,startTime:ct,expirationTime:P,sortIndex:-1},ct>vt?(j.sortIndex=ct,t(g,j),e(f)===null&&j===e(g)&&(M?(H(I),I=-1):M=!0,ht(G,ct-vt))):(j.sortIndex=P,t(f,j),A||S||(A=!0,et||(et=!0,L()))),j},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(j){var it=b;return function(){var ct=b;b=it;try{return j.apply(this,arguments)}finally{b=ct}}}}(Mg)),Mg}var F0;function Nx(){return F0||(F0=1,Rg.exports=Vx()),Rg.exports}var Dg={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function Px(){if(q0)return nn;q0=1;var n=Um();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:g,implementation:p}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(f,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,p)},nn.flushSync=function(f){var g=u.T,p=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=p,i.d.f()}},nn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},nn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},nn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):p==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},nn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,v=h(p,g.crossOrigin);i.d.L(f,p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(f,g){if(typeof f=="string")if(g){var p=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},nn.requestFormReset=function(f){i.d.r(f)},nn.unstable_batchedUpdates=function(f,g){return f(g)},nn.useFormState=function(f,g,p){return u.H.useFormState(f,g,p)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var Y0;function Lx(){if(Y0)return Dg.exports;Y0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Dg.exports=Px(),Dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function zx(){if(G0)return zl;G0=1;var n=Nx(),t=Um(),e=Lx();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,c=r;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),s;if(y===c)return h(m),r;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=y;else{for(var T=!1,x=m.child;x;){if(x===l){T=!0,l=m,c=y;break}if(x===c){T=!0,c=m,l=y;break}x=x.sibling}if(!T){for(x=y.child;x;){if(x===l){T=!0,l=y,c=m;break}if(x===c){T=!0,c=y,l=m;break}x=x.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function g(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=g(s),r!==null)return r;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),X=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function ft(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case C:return"Profiler";case M:return"StrictMode";case G:return"Suspense";case et:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case X:return(s.displayName||"Context")+".Provider";case H:return(s._context.displayName||"Context")+".Consumer";case $:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return r=s.displayName||null,r!==null?r:ft(s.type)||"Memo";case w:r=s._payload,s=s._init;try{return ft(s(r))}catch{}}return null}var ht=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},vt=[],P=-1;function st(s){return{current:s}}function ot(s){0>P||(s.current=vt[P],vt[P]=null,P--)}function at(s,r){P++,vt[P]=s.current,s.current=r}var mt=st(null),At=st(null),yt=st(null),Be=st(null);function ie(s,r){switch(at(yt,r),at(At,s),at(mt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?f0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=f0(r),s=d0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ot(mt),at(mt,s)}function ii(){ot(mt),ot(At),ot(yt)}function us(s){s.memoizedState!==null&&at(Be,s);var r=mt.current,l=d0(r,s.type);r!==l&&(at(At,s),at(mt,l))}function Mi(s){At.current===s&&(ot(mt),ot(At)),Be.current===s&&(ot(Be),Il._currentValue=ct)}var oa=Object.prototype.hasOwnProperty,la=n.unstable_scheduleCallback,ua=n.unstable_cancelCallback,Do=n.unstable_shouldYield,ku=n.unstable_requestPaint,Vn=n.unstable_now,xf=n.unstable_getCurrentPriorityLevel,Co=n.unstable_ImmediatePriority,ur=n.unstable_UserBlockingPriority,ca=n.unstable_NormalPriority,Af=n.unstable_LowPriority,cr=n.unstable_IdlePriority,Oo=n.log,Vu=n.unstable_setDisableYieldValue,ge=null,Qt=null;function Sn(s){if(typeof Oo=="function"&&Vu(s),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ge,s)}catch{}}var tn=Math.clz32?Math.clz32:ha,Nu=Math.log,wf=Math.LN2;function ha(s){return s>>>=0,s===0?32:31-(Nu(s)/wf|0)|0}var fa=256,da=4194304;function Xn(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function hr(s,r,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var x=c&134217727;return x!==0?(c=x&~y,c!==0?m=Xn(c):(T&=x,T!==0?m=Xn(T):l||(l=x&~s,l!==0&&(m=Xn(l))))):(x=c&~y,x!==0?m=Xn(x):T!==0?m=Xn(T):l||(l=c&~s,l!==0&&(m=Xn(l)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,l=r&-r,y>=l||y===32&&(l&4194048)!==0)?r:m}function ga(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Io(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var s=fa;return fa<<=1,(fa&4194048)===0&&(fa=256),s}function Vo(){var s=da;return da<<=1,(da&62914560)===0&&(da=4194304),s}function Di(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Ci(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function No(s,r,l,c,m,y){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var x=s.entanglements,V=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var Z=31-tn(l),tt=1<<Z;x[Z]=0,V[Z]=-1;var Q=Y[Z];if(Q!==null)for(Y[Z]=null,Z=0;Z<Q.length;Z++){var K=Q[Z];K!==null&&(K.lane&=-536870913)}l&=~tt}c!==0&&si(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~r))}function si(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-tn(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Po(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var c=31-tn(l),m=1<<c;m&r|s[c]&r&&(s[c]|=r),l&=~m}}function cs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function fr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function hs(){var s=it.p;return s!==0?s:(s=window.event,s===void 0?32:I0(s.type))}function Pu(s,r){var l=it.p;try{return it.p=s,r()}finally{it.p=l}}var le=Math.random().toString(36).slice(2),Oe="__reactFiber$"+le,we="__reactProps$"+le,Nn="__reactContainer$"+le,Lo="__reactEvents$"+le,Rf="__reactListeners$"+le,fs="__reactHandles$"+le,Lu="__reactResources$"+le,ma="__reactMarker$"+le;function ds(s){delete s[Oe],delete s[we],delete s[Lo],delete s[Rf],delete s[fs]}function Oi(s){var r=s[Oe];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Nn]||l[Oe]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=y0(s);s!==null;){if(l=s[Oe])return l;s=y0(s)}return r}s=l,l=s.parentNode}return null}function ai(s){if(s=s[Oe]||s[Nn]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function ri(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function cn(s){var r=s[Lu];return r||(r=s[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ve(s){s[ma]=!0}var zo=new Set,dr={};function Kn(s,r){Ii(s,r),Ii(s+"Capture",r)}function Ii(s,r){for(dr[s]=r,s=0;s<r.length;s++)zo.add(r[s])}var zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},pa={};function Uu(s){return oa.call(pa,s)?!0:oa.call(Bu,s)?!1:zu.test(s)?pa[s]=!0:(Bu[s]=!0,!1)}function gs(s,r,l){if(Uu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function oi(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Qe(s,r,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+c)}}var ya,Hu;function ki(s){if(ya===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);ya=r&&r[1]||"",Hu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+s+Hu}var gr=!1;function mr(s,r){if(!s||gr)return"";gr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var Q=K}Reflect.construct(s,[],tt)}else{try{tt.call()}catch(K){Q=K}s.call(tt.prototype)}}else{try{throw Error()}catch(K){Q=K}(tt=s())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&Q&&typeof K.stack=="string")return[K.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],x=y[1];if(T&&x){var V=T.split(`
`),Y=x.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===Y.length)for(c=V.length-1,m=Y.length-1;1<=c&&0<=m&&V[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==Y[m]){var Z=`
`+V[c].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=c&&0<=m);break}}}finally{gr=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ki(l):""}function Bo(s){switch(s.tag){case 26:case 27:case 5:return ki(s.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return mr(s.type,!1);case 11:return mr(s.type.render,!1);case 1:return mr(s.type,!0);case 31:return ki("Activity");default:return""}}function pr(s){try{var r="";do r+=Bo(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function hn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Uo(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Mf(s){var r=Uo(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),c=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function yr(s){s._valueTracker||(s._valueTracker=Mf(s))}function Ho(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return s&&(c=Uo(s)?s.checked?"true":"false":s.value),s=c,s!==l?(r.setValue(s),!0):!1}function _a(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Df=/[\n"\\]/g;function Re(s){return s.replace(Df,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xn(s,r,l,c,m,y,T,x){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+hn(r)):s.value!==""+hn(r)&&(s.value=""+hn(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?ms(s,T,hn(r)):l!=null?ms(s,T,hn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+hn(x):s.removeAttribute("name")}function va(s,r,l,c,m,y,T,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;l=l!=null?""+hn(l):"",r=r!=null?""+hn(r):l,x||r===s.value||(s.value=r),s.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=x?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function ms(s,r,l){r==="number"&&_a(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Vi(s,r,l,c){if(s=s.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=r.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+hn(l),r=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Zt(s,r,l){if(r!=null&&(r=""+hn(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+hn(l):""}function ba(s,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(ht(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=hn(r),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Pn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(s,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,l):typeof l!="number"||l===0||Ea.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function jo(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&l[m]!==c&&ju(s,m,c)}else for(var y in r)r.hasOwnProperty(y)&&ju(s,y,r[y])}function Fo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(s){return Of.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ni=null;function Ln(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Pi=null,Li=null;function qo(s){var r=ai(s);if(r&&(s=r.stateNode)){var l=s[we]||null;t:switch(s=r.stateNode,r.type){case"input":if(xn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Re(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==s&&c.form===s.form){var m=c[we]||null;if(!m)throw Error(i(90));xn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===s.form&&Ho(c)}break t;case"textarea":Zt(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Vi(s,!!l.multiple,r,!1)}}}var li=!1;function Fu(s,r,l){if(li)return s(r,l);li=!0;try{var c=s(r);return c}finally{if(li=!1,(Pi!==null||Li!==null)&&(Pc(),Pi&&(r=Pi,s=Li,Li=Pi=null,qo(r),s)))for(r=0;r<s.length;r++)qo(s[r])}}function Ta(s,r){var l=s.stateNode;if(l===null)return null;var c=l[we]||null;if(c===null)return null;l=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(Wn)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){zn=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{zn=!1}var ui=null,ps=null,zi=null;function Yo(){if(zi)return zi;var s,r=ps,l=r.length,c,m="value"in ui?ui.value:ui.textContent,y=m.length;for(s=0;s<l&&r[s]===m[s];s++);var T=l-s;for(c=1;c<=T&&r[l-c]===m[y-c];c++);return zi=m.slice(s,1<c?1-c:void 0)}function ci(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function hi(){return!0}function Go(){return!1}function Ue(s){function r(l,c,m,y,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(l=s[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hi:Go,this.isPropagationStopped=Go,this}return p(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=Ue(Gt),xa=p({},Gt,{view:0,detail:0}),qu=Ue(xa),br,Er,fi,Aa=p({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fi&&(fi&&s.type==="mousemove"?(br=s.screenX-fi.screenX,Er=s.screenY-fi.screenY):Er=br=0,fi=s),br)},movementY:function(s){return"movementY"in s?s.movementY:Er}}),Bn=Ue(Aa),Yu=p({},Aa,{dataTransfer:0}),If=Ue(Yu),wa=p({},xa,{relatedTarget:0}),Tr=Ue(wa),Qo=p({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=Ue(Qo),Gu=p({},Gt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xr=Ue(Gu),kf=p({},Gt,{data:0}),Xo=Ue(kf),Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Xu[s])?!!r[s]:!1}function Ma(){return Ko}var Ku=p({},xa,{key:function(s){if(s.key){var r=Ra[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ci(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Qu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(s){return s.type==="keypress"?ci(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ci(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ar=Ue(Ku),Wu=p({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Ue(Wu),Bi=p({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),$u=Ue(Bi),Zu=p({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=Ue(Zu),tc=p({},Aa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),wr=Ue(tc),fn=p({},Gt,{newState:0,oldState:0}),ec=Ue(fn),nc=[9,13,27,32],di=Wn&&"CompositionEvent"in window,d=null;Wn&&"documentMode"in document&&(d=document.documentMode);var _=Wn&&"TextEvent"in window&&!d,E=Wn&&(!di||d&&8<d&&11>=d),R=" ",F=!1;function W(s,r){switch(s){case"keyup":return nc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lt=!1;function Ie(s,r){switch(s){case"compositionend":return rt(r);case"keypress":return r.which!==32?null:(F=!0,R);case"textInput":return s=r.data,s===R&&F?null:s;default:return null}}function zt(s,r){if(Lt)return s==="compositionend"||!di&&W(s,r)?(s=Yo(),zi=ps=ui=null,Lt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ke(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!He[s.type]:r==="textarea"}function Ui(s,r,l,c){Pi?Li?Li.push(c):Li=[c]:Pi=c,r=jc(r,"onChange"),0<r.length&&(l=new vr("onChange","change",null,l,c),s.push({event:l,listeners:r}))}var Xe=null,gi=null;function $o(s){o0(s,0)}function ic(s){var r=ri(s);if(Ho(r))return s}function Mp(s,r){if(s==="change")return r}var Dp=!1;if(Wn){var Vf;if(Wn){var Nf="oninput"in document;if(!Nf){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Nf=typeof Cp.oninput=="function"}Vf=Nf}else Vf=!1;Dp=Vf&&(!document.documentMode||9<document.documentMode)}function Op(){Xe&&(Xe.detachEvent("onpropertychange",Ip),gi=Xe=null)}function Ip(s){if(s.propertyName==="value"&&ic(gi)){var r=[];Ui(r,gi,s,Ln(s)),Fu($o,r)}}function sS(s,r,l){s==="focusin"?(Op(),Xe=r,gi=l,Xe.attachEvent("onpropertychange",Ip)):s==="focusout"&&Op()}function aS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ic(gi)}function rS(s,r){if(s==="click")return ic(r)}function oS(s,r){if(s==="input"||s==="change")return ic(r)}function lS(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var An=typeof Object.is=="function"?Object.is:lS;function Zo(s,r){if(An(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!oa.call(r,m)||!An(s[m],r[m]))return!1}return!0}function kp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Vp(s,r){var l=kp(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=r&&c>=r)return{node:l,offset:r-s};s=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=kp(l)}}function Np(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Np(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Pp(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=_a(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=_a(s.document)}return r}function Pf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var uS=Wn&&"documentMode"in document&&11>=document.documentMode,Rr=null,Lf=null,Jo=null,zf=!1;function Lp(s,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zf||Rr==null||Rr!==_a(c)||(c=Rr,"selectionStart"in c&&Pf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Jo&&Zo(Jo,c)||(Jo=c,c=jc(Lf,"onSelect"),0<c.length&&(r=new vr("onSelect","select",null,r,l),s.push({event:r,listeners:c}),r.target=Rr)))}function Da(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Mr={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},Bf={},zp={};Wn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ca(s){if(Bf[s])return Bf[s];if(!Mr[s])return s;var r=Mr[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in zp)return Bf[s]=r[l];return s}var Bp=Ca("animationend"),Up=Ca("animationiteration"),Hp=Ca("animationstart"),cS=Ca("transitionrun"),hS=Ca("transitionstart"),fS=Ca("transitioncancel"),jp=Ca("transitionend"),Fp=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function $n(s,r){Fp.set(s,r),Kn(r,[s])}var qp=new WeakMap;function Un(s,r){if(typeof s=="object"&&s!==null){var l=qp.get(s);return l!==void 0?l:(r={value:s,source:r,stack:pr(r)},qp.set(s,r),r)}return{value:s,source:r,stack:pr(r)}}var Hn=[],Dr=0,Hf=0;function sc(){for(var s=Dr,r=Hf=Dr=0;r<s;){var l=Hn[r];Hn[r++]=null;var c=Hn[r];Hn[r++]=null;var m=Hn[r];Hn[r++]=null;var y=Hn[r];if(Hn[r++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&Yp(l,m,y)}}function ac(s,r,l,c){Hn[Dr++]=s,Hn[Dr++]=r,Hn[Dr++]=l,Hn[Dr++]=c,Hf|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function jf(s,r,l,c){return ac(s,r,l,c),rc(s)}function Cr(s,r){return ac(s,null,null,r),rc(s)}function Yp(s,r,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-tn(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[r]:c.push(r),r.lane=l|536870912),y):null}function rc(s){if(50<xl)throw xl=0,Xd=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Or={};function dS(s,r,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(s,r,l,c){return new dS(s,r,l,c)}function Ff(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Hi(s,r){var l=s.alternate;return l===null?(l=wn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Gp(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function oc(s,r,l,c,m,y){var T=0;if(c=s,typeof s=="function")Ff(s)&&(T=1);else if(typeof s=="string")T=mx(s,l,mt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case O:return s=wn(31,l,r,m),s.elementType=O,s.lanes=y,s;case A:return Oa(l.children,m,y,r);case M:T=8,m|=24;break;case C:return s=wn(12,l,r,m|2),s.elementType=C,s.lanes=y,s;case G:return s=wn(13,l,r,m),s.elementType=G,s.lanes=y,s;case et:return s=wn(19,l,r,m),s.elementType=et,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:case X:T=10;break t;case H:T=9;break t;case $:T=11;break t;case I:T=14;break t;case w:T=16,c=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=wn(T,l,r,m),r.elementType=s,r.type=c,r.lanes=y,r}function Oa(s,r,l,c){return s=wn(7,s,c,r),s.lanes=l,s}function qf(s,r,l){return s=wn(6,s,null,r),s.lanes=l,s}function Yf(s,r,l){return r=wn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Ir=[],kr=0,lc=null,uc=0,jn=[],Fn=0,Ia=null,ji=1,Fi="";function ka(s,r){Ir[kr++]=uc,Ir[kr++]=lc,lc=s,uc=r}function Qp(s,r,l){jn[Fn++]=ji,jn[Fn++]=Fi,jn[Fn++]=Ia,Ia=s;var c=ji;s=Fi;var m=32-tn(c)-1;c&=~(1<<m),l+=1;var y=32-tn(r)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,ji=1<<32-tn(r)+m|l<<m|c,Fi=y+s}else ji=1<<y|l<<m|c,Fi=s}function Gf(s){s.return!==null&&(ka(s,1),Qp(s,1,0))}function Qf(s){for(;s===lc;)lc=Ir[--kr],Ir[kr]=null,uc=Ir[--kr],Ir[kr]=null;for(;s===Ia;)Ia=jn[--Fn],jn[Fn]=null,Fi=jn[--Fn],jn[Fn]=null,ji=jn[--Fn],jn[Fn]=null}var dn=null,me=null,Yt=!1,Va=null,mi=!1,Xf=Error(i(519));function Na(s){var r=Error(i(418,""));throw nl(Un(r,s)),Xf}function Xp(s){var r=s.stateNode,l=s.type,c=s.memoizedProps;switch(r[Oe]=s,r[we]=c,l){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(l=0;l<wl.length;l++)Vt(wl[l],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),va(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),yr(r);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),ba(r,c.value,c.defaultValue,c.children),yr(r)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||h0(r.textContent,l)?(c.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),c.onScroll!=null&&Vt("scroll",r),c.onScrollEnd!=null&&Vt("scrollend",r),c.onClick!=null&&(r.onclick=Fc),r=!0):r=!1,r||Na(s)}function Kp(s){for(dn=s.return;dn;)switch(dn.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:dn=dn.return}}function tl(s){if(s!==dn)return!1;if(!Yt)return Kp(s),Yt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||cg(s.type,s.memoizedProps)),l=!l),l&&me&&Na(s),Kp(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){me=Jn(s.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}me=null}}else r===27?(r=me,Is(s.type)?(s=gg,gg=null,me=s):me=r):me=dn?Jn(s.stateNode.nextSibling):null;return!0}function el(){me=dn=null,Yt=!1}function Wp(){var s=Va;return s!==null&&(yn===null?yn=s:yn.push.apply(yn,s),Va=null),s}function nl(s){Va===null?Va=[s]:Va.push(s)}var Kf=st(null),Pa=null,qi=null;function ys(s,r,l){at(Kf,r._currentValue),r._currentValue=l}function Yi(s){s._currentValue=Kf.current,ot(Kf)}function Wf(s,r,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===l)break;s=s.return}}function $f(s,r,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;t:for(;y!==null;){var x=y;y=m;for(var V=0;V<r.length;V++)if(x.context===r[V]){y.lanes|=l,x=y.alternate,x!==null&&(x.lanes|=l),Wf(y.return,l,s),c||(T=null);break t}y=x.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),Wf(T,l,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function il(s,r,l,c){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var x=m.type;An(m.pendingProps.value,T.value)||(s!==null?s.push(x):s=[x])}}else if(m===Be.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Il):s=[Il])}m=m.return}s!==null&&$f(r,s,l,c),r.flags|=262144}function cc(s){for(s=s.firstContext;s!==null;){if(!An(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function La(s){Pa=s,qi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return $p(Pa,s)}function hc(s,r){return Pa===null&&La(s),$p(s,r)}function $p(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},qi===null){if(s===null)throw Error(i(308));qi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else qi=qi.next=r;return l}var gS=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},mS=n.unstable_scheduleCallback,pS=n.unstable_NormalPriority,Ve={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new gS,data:new Map,refCount:0}}function sl(s){s.refCount--,s.refCount===0&&mS(pS,function(){s.controller.abort()})}var al=null,Jf=0,Vr=0,Nr=null;function yS(s,r){if(al===null){var l=al=[];Jf=0,Vr=eg(),Nr={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Jf++,r.then(Zp,Zp),r}function Zp(){if(--Jf===0&&al!==null){Nr!==null&&(Nr.status="fulfilled");var s=al;al=null,Vr=0,Nr=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function _S(s,r){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<l.length;m++)(0,l[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var Jp=j.S;j.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&yS(s,r),Jp!==null&&Jp(s,r)};var za=st(null);function td(){var s=za.current;return s!==null?s:se.pooledCache}function fc(s,r){r===null?at(za,za.current):at(za,r.pool)}function ty(){var s=td();return s===null?null:{parent:Ve._currentValue,pool:s}}var rl=Error(i(460)),ey=Error(i(474)),dc=Error(i(542)),ed={then:function(){}};function ny(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gc(){}function iy(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(gc,gc),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ay(s),s;default:if(typeof r.status=="string")r.then(gc,gc);else{if(s=se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ay(s),s}throw ol=r,rl}}var ol=null;function sy(){if(ol===null)throw Error(i(459));var s=ol;return ol=null,s}function ay(s){if(s===rl||s===dc)throw Error(i(483))}var _s=!1;function nd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function bs(s,r,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Xt&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=rc(s),Yp(s,null,l),r}return ac(s,c,r,l),rc(s)}function ll(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,Po(s,l)}}function sd(s,r){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=r:y=y.next=r}else m=y=r;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var ad=!1;function ul(){if(ad){var s=Nr;if(s!==null)throw s}}function cl(s,r,l,c){ad=!1;var m=s.updateQueue;_s=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var V=x,Y=V.next;V.next=null,T===null?y=Y:T.next=Y,T=V;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,x=Z.lastBaseUpdate,x!==T&&(x===null?Z.firstBaseUpdate=Y:x.next=Y,Z.lastBaseUpdate=V))}if(y!==null){var tt=m.baseState;T=0,Z=Y=V=null,x=y;do{var Q=x.lane&-536870913,K=Q!==x.lane;if(K?(Bt&Q)===Q:(c&Q)===Q){Q!==0&&Q===Vr&&(ad=!0),Z!==null&&(Z=Z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Tt=s,_t=x;Q=r;var ee=l;switch(_t.tag){case 1:if(Tt=_t.payload,typeof Tt=="function"){tt=Tt.call(ee,tt,Q);break t}tt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=_t.payload,Q=typeof Tt=="function"?Tt.call(ee,tt,Q):Tt,Q==null)break t;tt=p({},tt,Q);break t;case 2:_s=!0}}Q=x.callback,Q!==null&&(s.flags|=64,K&&(s.flags|=8192),K=m.callbacks,K===null?m.callbacks=[Q]:K.push(Q))}else K={lane:Q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Z===null?(Y=Z=K,V=tt):Z=Z.next=K,T|=Q;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;K=x,x=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);Z===null&&(V=tt),m.baseState=V,m.firstBaseUpdate=Y,m.lastBaseUpdate=Z,y===null&&(m.shared.lanes=0),Ms|=T,s.lanes=T,s.memoizedState=tt}}function ry(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function oy(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)ry(l[s],r)}var Pr=st(null),mc=st(0);function ly(s,r){s=Zi,at(mc,s),at(Pr,r),Zi=s|r.baseLanes}function rd(){at(mc,Zi),at(Pr,Pr.current)}function od(){Zi=mc.current,ot(Pr),ot(mc)}var Es=0,Ct=null,Jt=null,Me=null,pc=!1,Lr=!1,Ba=!1,yc=0,hl=0,zr=null,vS=0;function be(){throw Error(i(321))}function ld(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!An(s[l],r[l]))return!1;return!0}function ud(s,r,l,c,m,y){return Es=y,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,j.H=s===null||s.memoizedState===null?Yy:Gy,Ba=!1,y=l(c,m),Ba=!1,Lr&&(y=cy(r,l,c,m)),uy(s),y}function uy(s){j.H=Sc;var r=Jt!==null&&Jt.next!==null;if(Es=0,Me=Jt=Ct=null,pc=!1,hl=0,zr=null,r)throw Error(i(300));s===null||je||(s=s.dependencies,s!==null&&cc(s)&&(je=!0))}function cy(s,r,l,c){Ct=s;var m=0;do{if(Lr&&(zr=null),hl=0,Lr=!1,25<=m)throw Error(i(301));if(m+=1,Me=Jt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=wS,y=r(l,c)}while(Lr);return y}function bS(){var s=j.H,r=s.useState()[0];return r=typeof r.then=="function"?fl(r):r,s=s.useState()[0],(Jt!==null?Jt.memoizedState:null)!==s&&(Ct.flags|=1024),r}function cd(){var s=yc!==0;return yc=0,s}function hd(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function fd(s){if(pc){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}pc=!1}Es=0,Me=Jt=Ct=null,Lr=!1,hl=yc=0,zr=null}function mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ct.memoizedState=Me=s:Me=Me.next=s,Me}function De(){if(Jt===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var r=Me===null?Ct.memoizedState:Me.next;if(r!==null)Me=r,Jt=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Me===null?Ct.memoizedState=Me=s:Me=Me.next=s}return Me}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(s){var r=hl;return hl+=1,zr===null&&(zr=[]),s=iy(zr,s,r),r=Ct,(Me===null?r.memoizedState:Me.next)===null&&(r=r.alternate,j.H=r===null||r.memoizedState===null?Yy:Gy),s}function _c(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return fl(s);if(s.$$typeof===X)return en(s)}throw Error(i(438,String(s)))}function gd(s){var r=null,l=Ct.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=dd(),Ct.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),c=0;c<s;c++)l[c]=k;return r.index++,l}function Gi(s,r){return typeof r=="function"?r(s):r}function vc(s){var r=De();return md(r,Jt,s)}function md(s,r,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}r.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var x=T=null,V=null,Y=r,Z=!1;do{var tt=Y.lane&-536870913;if(tt!==Y.lane?(Bt&tt)===tt:(Es&tt)===tt){var Q=Y.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),tt===Vr&&(Z=!0);else if((Es&Q)===Q){Y=Y.next,Q===Vr&&(Z=!0);continue}else tt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(x=V=tt,T=y):V=V.next=tt,Ct.lanes|=Q,Ms|=Q;tt=Y.action,Ba&&l(y,tt),y=Y.hasEagerState?Y.eagerState:l(y,tt)}else Q={lane:tt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(x=V=Q,T=y):V=V.next=Q,Ct.lanes|=tt,Ms|=tt;Y=Y.next}while(Y!==null&&Y!==r);if(V===null?T=y:V.next=x,!An(y,s.memoizedState)&&(je=!0,Z&&(l=Nr,l!==null)))throw l;s.memoizedState=y,s.baseState=T,s.baseQueue=V,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function pd(s){var r=De(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=r.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=s(y,T.action),T=T.next;while(T!==m);An(y,r.memoizedState)||(je=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),l.lastRenderedState=y}return[y,c]}function hy(s,r,l){var c=Ct,m=De(),y=Yt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=r();var T=!An((Jt||m).memoizedState,l);T&&(m.memoizedState=l,je=!0),m=m.queue;var x=gy.bind(null,c,m,s);if(dl(2048,8,x,[s]),m.getSnapshot!==r||T||Me!==null&&Me.memoizedState.tag&1){if(c.flags|=2048,Br(9,bc(),dy.bind(null,c,m,l,r),null),se===null)throw Error(i(349));y||(Es&124)!==0||fy(c,r,l)}return l}function fy(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Ct.updateQueue,r===null?(r=dd(),Ct.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function dy(s,r,l,c){r.value=l,r.getSnapshot=c,my(r)&&py(s)}function gy(s,r,l){return l(function(){my(r)&&py(s)})}function my(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!An(s,l)}catch{return!0}}function py(s){var r=Cr(s,2);r!==null&&On(r,s,2)}function yd(s){var r=mn();if(typeof s=="function"){var l=s;if(s=l(),Ba){Sn(!0);try{l()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:s},r}function yy(s,r,l,c){return s.baseState=l,md(s,Jt,typeof c=="function"?c:Gi)}function ES(s,r,l,c,m){if(Tc(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};j.T!==null?l(!0):y.isTransition=!1,c(y),l=r.pending,l===null?(y.next=r.pending=y,_y(r,y)):(y.next=l.next,r.pending=l.next=y)}}function _y(s,r){var l=r.action,c=r.payload,m=s.state;if(r.isTransition){var y=j.T,T={};j.T=T;try{var x=l(m,c),V=j.S;V!==null&&V(T,x),vy(s,r,x)}catch(Y){_d(s,r,Y)}finally{j.T=y}}else try{y=l(m,c),vy(s,r,y)}catch(Y){_d(s,r,Y)}}function vy(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){by(s,r,c)},function(c){return _d(s,r,c)}):by(s,r,l)}function by(s,r,l){r.status="fulfilled",r.value=l,Ey(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,_y(s,l)))}function _d(s,r,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,Ey(r),r=r.next;while(r!==c)}s.action=null}function Ey(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Ty(s,r){return r}function Sy(s,r){if(Yt){var l=se.formState;if(l!==null){t:{var c=Ct;if(Yt){if(me){e:{for(var m=me,y=mi;m.nodeType!==8;){if(!y){m=null;break e}if(m=Jn(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){me=Jn(m.nextSibling),c=m.data==="F!";break t}}Na(c)}c=!1}c&&(r=l[0])}}return l=mn(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ty,lastRenderedState:r},l.queue=c,l=jy.bind(null,Ct,c),c.dispatch=l,c=yd(!1),y=Sd.bind(null,Ct,!1,c.queue),c=mn(),m={state:r,dispatch:null,action:s,pending:null},c.queue=m,l=ES.bind(null,Ct,m,y,l),m.dispatch=l,c.memoizedState=s,[r,l,!1]}function xy(s){var r=De();return Ay(r,Jt,s)}function Ay(s,r,l){if(r=md(s,r,Ty)[0],s=vc(Gi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=fl(r)}catch(T){throw T===rl?dc:T}else c=r;r=De();var m=r.queue,y=m.dispatch;return l!==r.memoizedState&&(Ct.flags|=2048,Br(9,bc(),TS.bind(null,m,l),null)),[c,y,s]}function TS(s,r){s.action=r}function wy(s){var r=De(),l=Jt;if(l!==null)return Ay(r,l,s);De(),r=r.memoizedState,l=De();var c=l.queue.dispatch;return l.memoizedState=s,[r,c,!1]}function Br(s,r,l,c){return s={tag:s,create:l,deps:c,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=dd(),Ct.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,r.lastEffect=s),s}function bc(){return{destroy:void 0,resource:void 0}}function Ry(){return De().memoizedState}function Ec(s,r,l,c){var m=mn();c=c===void 0?null:c,Ct.flags|=s,m.memoizedState=Br(1|r,bc(),l,c)}function dl(s,r,l,c){var m=De();c=c===void 0?null:c;var y=m.memoizedState.inst;Jt!==null&&c!==null&&ld(c,Jt.memoizedState.deps)?m.memoizedState=Br(r,y,l,c):(Ct.flags|=s,m.memoizedState=Br(1|r,y,l,c))}function My(s,r){Ec(8390656,8,s,r)}function Dy(s,r){dl(2048,8,s,r)}function Cy(s,r){return dl(4,2,s,r)}function Oy(s,r){return dl(4,4,s,r)}function Iy(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function ky(s,r,l){l=l!=null?l.concat([s]):null,dl(4,4,Iy.bind(null,r,s),l)}function vd(){}function Vy(s,r){var l=De();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&ld(r,c[1])?c[0]:(l.memoizedState=[s,r],s)}function Ny(s,r){var l=De();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&ld(r,c[1]))return c[0];if(c=s(),Ba){Sn(!0);try{s()}finally{Sn(!1)}}return l.memoizedState=[c,r],c}function bd(s,r,l){return l===void 0||(Es&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=z_(),Ct.lanes|=s,Ms|=s,l)}function Py(s,r,l,c){return An(l,r)?l:Pr.current!==null?(s=bd(s,l,c),An(s,r)||(je=!0),s):(Es&42)===0?(je=!0,s.memoizedState=l):(s=z_(),Ct.lanes|=s,Ms|=s,r)}function Ly(s,r,l,c,m){var y=it.p;it.p=y!==0&&8>y?y:8;var T=j.T,x={};j.T=x,Sd(s,!1,r,l);try{var V=m(),Y=j.S;if(Y!==null&&Y(x,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=_S(V,c);gl(s,r,Z,Cn(s))}else gl(s,r,c,Cn(s))}catch(tt){gl(s,r,{then:function(){},status:"rejected",reason:tt},Cn())}finally{it.p=y,j.T=T}}function SS(){}function Ed(s,r,l,c){if(s.tag!==5)throw Error(i(476));var m=zy(s).queue;Ly(s,m,r,ct,l===null?SS:function(){return By(s),l(c)})}function zy(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ct},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function By(s){var r=zy(s).next.queue;gl(s,r,{},Cn())}function Td(){return en(Il)}function Uy(){return De().memoizedState}function Hy(){return De().memoizedState}function xS(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Cn();s=vs(l);var c=bs(r,s,l);c!==null&&(On(c,r,l),ll(c,r,l)),r={cache:Zf()},s.payload=r;return}r=r.return}}function AS(s,r,l){var c=Cn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Tc(s)?Fy(r,l):(l=jf(s,r,l,c),l!==null&&(On(l,s,c),qy(l,r,c)))}function jy(s,r,l){var c=Cn();gl(s,r,l,c)}function gl(s,r,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Tc(s))Fy(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var T=r.lastRenderedState,x=y(T,l);if(m.hasEagerState=!0,m.eagerState=x,An(x,T))return ac(s,r,m,0),se===null&&sc(),!1}catch{}finally{}if(l=jf(s,r,m,c),l!==null)return On(l,s,c),qy(l,r,c),!0}return!1}function Sd(s,r,l,c){if(c={lane:2,revertLane:eg(),action:c,hasEagerState:!1,eagerState:null,next:null},Tc(s)){if(r)throw Error(i(479))}else r=jf(s,l,c,2),r!==null&&On(r,s,2)}function Tc(s){var r=s.alternate;return s===Ct||r!==null&&r===Ct}function Fy(s,r){Lr=pc=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function qy(s,r,l){if((l&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,Po(s,l)}}var Sc={readContext:en,use:_c,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},Yy={readContext:en,use:_c,useCallback:function(s,r){return mn().memoizedState=[s,r===void 0?null:r],s},useContext:en,useEffect:My,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Ec(4194308,4,Iy.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Ec(4194308,4,s,r)},useInsertionEffect:function(s,r){Ec(4,2,s,r)},useMemo:function(s,r){var l=mn();r=r===void 0?null:r;var c=s();if(Ba){Sn(!0);try{s()}finally{Sn(!1)}}return l.memoizedState=[c,r],c},useReducer:function(s,r,l){var c=mn();if(l!==void 0){var m=l(r);if(Ba){Sn(!0);try{l(r)}finally{Sn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=AS.bind(null,Ct,s),[c.memoizedState,s]},useRef:function(s){var r=mn();return s={current:s},r.memoizedState=s},useState:function(s){s=yd(s);var r=s.queue,l=jy.bind(null,Ct,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:vd,useDeferredValue:function(s,r){var l=mn();return bd(l,s,r)},useTransition:function(){var s=yd(!1);return s=Ly.bind(null,Ct,s.queue,!0,!1),mn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var c=Ct,m=mn();if(Yt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),se===null)throw Error(i(349));(Bt&124)!==0||fy(c,r,l)}m.memoizedState=l;var y={value:l,getSnapshot:r};return m.queue=y,My(gy.bind(null,c,y,s),[s]),c.flags|=2048,Br(9,bc(),dy.bind(null,c,y,l,r),null),l},useId:function(){var s=mn(),r=se.identifierPrefix;if(Yt){var l=Fi,c=ji;l=(c&~(1<<32-tn(c)-1)).toString(32)+l,r="«"+r+"R"+l,l=yc++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=vS++,r="«"+r+"r"+l.toString(32)+"»";return s.memoizedState=r},useHostTransitionStatus:Td,useFormState:Sy,useActionState:Sy,useOptimistic:function(s){var r=mn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Sd.bind(null,Ct,!0,l),l.dispatch=r,[s,r]},useMemoCache:gd,useCacheRefresh:function(){return mn().memoizedState=xS.bind(null,Ct)}},Gy={readContext:en,use:_c,useCallback:Vy,useContext:en,useEffect:Dy,useImperativeHandle:ky,useInsertionEffect:Cy,useLayoutEffect:Oy,useMemo:Ny,useReducer:vc,useRef:Ry,useState:function(){return vc(Gi)},useDebugValue:vd,useDeferredValue:function(s,r){var l=De();return Py(l,Jt.memoizedState,s,r)},useTransition:function(){var s=vc(Gi)[0],r=De().memoizedState;return[typeof s=="boolean"?s:fl(s),r]},useSyncExternalStore:hy,useId:Uy,useHostTransitionStatus:Td,useFormState:xy,useActionState:xy,useOptimistic:function(s,r){var l=De();return yy(l,Jt,s,r)},useMemoCache:gd,useCacheRefresh:Hy},wS={readContext:en,use:_c,useCallback:Vy,useContext:en,useEffect:Dy,useImperativeHandle:ky,useInsertionEffect:Cy,useLayoutEffect:Oy,useMemo:Ny,useReducer:pd,useRef:Ry,useState:function(){return pd(Gi)},useDebugValue:vd,useDeferredValue:function(s,r){var l=De();return Jt===null?bd(l,s,r):Py(l,Jt.memoizedState,s,r)},useTransition:function(){var s=pd(Gi)[0],r=De().memoizedState;return[typeof s=="boolean"?s:fl(s),r]},useSyncExternalStore:hy,useId:Uy,useHostTransitionStatus:Td,useFormState:wy,useActionState:wy,useOptimistic:function(s,r){var l=De();return Jt!==null?yy(l,Jt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:gd,useCacheRefresh:Hy},Ur=null,ml=0;function xc(s){var r=ml;return ml+=1,Ur===null&&(Ur=[]),iy(Ur,s,r)}function pl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ac(s,r){throw r.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Qy(s){var r=s._init;return r(s._payload)}function Xy(s){function r(U,z){if(s){var q=U.deletions;q===null?(U.deletions=[z],U.flags|=16):q.push(z)}}function l(U,z){if(!s)return null;for(;z!==null;)r(U,z),z=z.sibling;return null}function c(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function m(U,z){return U=Hi(U,z),U.index=0,U.sibling=null,U}function y(U,z,q){return U.index=q,s?(q=U.alternate,q!==null?(q=q.index,q<z?(U.flags|=67108866,z):q):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function T(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function x(U,z,q,J){return z===null||z.tag!==6?(z=qf(q,U.mode,J),z.return=U,z):(z=m(z,q),z.return=U,z)}function V(U,z,q,J){var gt=q.type;return gt===A?Z(U,z,q.props.children,J,q.key):z!==null&&(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Qy(gt)===z.type)?(z=m(z,q.props),pl(z,q),z.return=U,z):(z=oc(q.type,q.key,q.props,null,U.mode,J),pl(z,q),z.return=U,z)}function Y(U,z,q,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=Yf(q,U.mode,J),z.return=U,z):(z=m(z,q.children||[]),z.return=U,z)}function Z(U,z,q,J,gt){return z===null||z.tag!==7?(z=Oa(q,U.mode,J,gt),z.return=U,z):(z=m(z,q),z.return=U,z)}function tt(U,z,q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=qf(""+z,U.mode,q),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return q=oc(z.type,z.key,z.props,null,U.mode,q),pl(q,z),q.return=U,q;case S:return z=Yf(z,U.mode,q),z.return=U,z;case w:var J=z._init;return z=J(z._payload),tt(U,z,q)}if(ht(z)||L(z))return z=Oa(z,U.mode,q,null),z.return=U,z;if(typeof z.then=="function")return tt(U,xc(z),q);if(z.$$typeof===X)return tt(U,hc(U,z),q);Ac(U,z)}return null}function Q(U,z,q,J){var gt=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return gt!==null?null:x(U,z,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===gt?V(U,z,q,J):null;case S:return q.key===gt?Y(U,z,q,J):null;case w:return gt=q._init,q=gt(q._payload),Q(U,z,q,J)}if(ht(q)||L(q))return gt!==null?null:Z(U,z,q,J,null);if(typeof q.then=="function")return Q(U,z,xc(q),J);if(q.$$typeof===X)return Q(U,z,hc(U,q),J);Ac(U,q)}return null}function K(U,z,q,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(q)||null,x(z,U,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return U=U.get(J.key===null?q:J.key)||null,V(z,U,J,gt);case S:return U=U.get(J.key===null?q:J.key)||null,Y(z,U,J,gt);case w:var Ot=J._init;return J=Ot(J._payload),K(U,z,q,J,gt)}if(ht(J)||L(J))return U=U.get(q)||null,Z(z,U,J,gt,null);if(typeof J.then=="function")return K(U,z,q,xc(J),gt);if(J.$$typeof===X)return K(U,z,q,hc(z,J),gt);Ac(z,J)}return null}function Tt(U,z,q,J){for(var gt=null,Ot=null,pt=z,bt=z=0,qe=null;pt!==null&&bt<q.length;bt++){pt.index>bt?(qe=pt,pt=null):qe=pt.sibling;var qt=Q(U,pt,q[bt],J);if(qt===null){pt===null&&(pt=qe);break}s&&pt&&qt.alternate===null&&r(U,pt),z=y(qt,z,bt),Ot===null?gt=qt:Ot.sibling=qt,Ot=qt,pt=qe}if(bt===q.length)return l(U,pt),Yt&&ka(U,bt),gt;if(pt===null){for(;bt<q.length;bt++)pt=tt(U,q[bt],J),pt!==null&&(z=y(pt,z,bt),Ot===null?gt=pt:Ot.sibling=pt,Ot=pt);return Yt&&ka(U,bt),gt}for(pt=c(pt);bt<q.length;bt++)qe=K(pt,U,bt,q[bt],J),qe!==null&&(s&&qe.alternate!==null&&pt.delete(qe.key===null?bt:qe.key),z=y(qe,z,bt),Ot===null?gt=qe:Ot.sibling=qe,Ot=qe);return s&&pt.forEach(function(Ls){return r(U,Ls)}),Yt&&ka(U,bt),gt}function _t(U,z,q,J){if(q==null)throw Error(i(151));for(var gt=null,Ot=null,pt=z,bt=z=0,qe=null,qt=q.next();pt!==null&&!qt.done;bt++,qt=q.next()){pt.index>bt?(qe=pt,pt=null):qe=pt.sibling;var Ls=Q(U,pt,qt.value,J);if(Ls===null){pt===null&&(pt=qe);break}s&&pt&&Ls.alternate===null&&r(U,pt),z=y(Ls,z,bt),Ot===null?gt=Ls:Ot.sibling=Ls,Ot=Ls,pt=qe}if(qt.done)return l(U,pt),Yt&&ka(U,bt),gt;if(pt===null){for(;!qt.done;bt++,qt=q.next())qt=tt(U,qt.value,J),qt!==null&&(z=y(qt,z,bt),Ot===null?gt=qt:Ot.sibling=qt,Ot=qt);return Yt&&ka(U,bt),gt}for(pt=c(pt);!qt.done;bt++,qt=q.next())qt=K(pt,U,bt,qt.value,J),qt!==null&&(s&&qt.alternate!==null&&pt.delete(qt.key===null?bt:qt.key),z=y(qt,z,bt),Ot===null?gt=qt:Ot.sibling=qt,Ot=qt);return s&&pt.forEach(function(Rx){return r(U,Rx)}),Yt&&ka(U,bt),gt}function ee(U,z,q,J){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:t:{for(var gt=q.key;z!==null;){if(z.key===gt){if(gt=q.type,gt===A){if(z.tag===7){l(U,z.sibling),J=m(z,q.props.children),J.return=U,U=J;break t}}else if(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Qy(gt)===z.type){l(U,z.sibling),J=m(z,q.props),pl(J,q),J.return=U,U=J;break t}l(U,z);break}else r(U,z);z=z.sibling}q.type===A?(J=Oa(q.props.children,U.mode,J,q.key),J.return=U,U=J):(J=oc(q.type,q.key,q.props,null,U.mode,J),pl(J,q),J.return=U,U=J)}return T(U);case S:t:{for(gt=q.key;z!==null;){if(z.key===gt)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){l(U,z.sibling),J=m(z,q.children||[]),J.return=U,U=J;break t}else{l(U,z);break}else r(U,z);z=z.sibling}J=Yf(q,U.mode,J),J.return=U,U=J}return T(U);case w:return gt=q._init,q=gt(q._payload),ee(U,z,q,J)}if(ht(q))return Tt(U,z,q,J);if(L(q)){if(gt=L(q),typeof gt!="function")throw Error(i(150));return q=gt.call(q),_t(U,z,q,J)}if(typeof q.then=="function")return ee(U,z,xc(q),J);if(q.$$typeof===X)return ee(U,z,hc(U,q),J);Ac(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,z!==null&&z.tag===6?(l(U,z.sibling),J=m(z,q),J.return=U,U=J):(l(U,z),J=qf(q,U.mode,J),J.return=U,U=J),T(U)):l(U,z)}return function(U,z,q,J){try{ml=0;var gt=ee(U,z,q,J);return Ur=null,gt}catch(pt){if(pt===rl||pt===dc)throw pt;var Ot=wn(29,pt,null,U.mode);return Ot.lanes=J,Ot.return=U,Ot}finally{}}}var Hr=Xy(!0),Ky=Xy(!1),qn=st(null),pi=null;function Ts(s){var r=s.alternate;at(Ne,Ne.current&1),at(qn,s),pi===null&&(r===null||Pr.current!==null||r.memoizedState!==null)&&(pi=s)}function Wy(s){if(s.tag===22){if(at(Ne,Ne.current),at(qn,s),pi===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(pi=s)}}else Ss()}function Ss(){at(Ne,Ne.current),at(qn,qn.current)}function Qi(s){ot(qn),pi===s&&(pi=null),ot(Ne)}var Ne=st(0);function wc(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||dg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function xd(s,r,l,c){r=s.memoizedState,l=l(c,r),l=l==null?r:p({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Ad={enqueueSetState:function(s,r,l){s=s._reactInternals;var c=Cn(),m=vs(c);m.payload=r,l!=null&&(m.callback=l),r=bs(s,m,c),r!==null&&(On(r,s,c),ll(r,s,c))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var c=Cn(),m=vs(c);m.tag=1,m.payload=r,l!=null&&(m.callback=l),r=bs(s,m,c),r!==null&&(On(r,s,c),ll(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Cn(),c=vs(l);c.tag=2,r!=null&&(c.callback=r),r=bs(s,c,l),r!==null&&(On(r,s,l),ll(r,s,l))}};function $y(s,r,l,c,m,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,T):r.prototype&&r.prototype.isPureReactComponent?!Zo(l,c)||!Zo(m,y):!0}function Zy(s,r,l,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==s&&Ad.enqueueReplaceState(r,r.state,null)}function Ua(s,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(s=s.defaultProps){l===r&&(l=p({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Rc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Jy(s){Rc(s)}function t_(s){console.error(s)}function e_(s){Rc(s)}function Mc(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function n_(s,r,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function wd(s,r,l){return l=vs(l),l.tag=3,l.payload={element:null},l.callback=function(){Mc(s,r)},l}function i_(s){return s=vs(s),s.tag=3,s}function s_(s,r,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){n_(r,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){n_(r,l,c),typeof m!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function RS(s,r,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&il(r,l,m,!0),l=qn.current,l!==null){switch(l.tag){case 13:return pi===null?Wd():l.alternate===null&&pe===0&&(pe=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===ed?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),Zd(s,c,m)),!1;case 22:return l.flags|=65536,c===ed?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),Zd(s,c,m)),!1}throw Error(i(435,l.tag))}return Zd(s,c,m),Wd(),!1}if(Yt)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Xf&&(s=Error(i(422),{cause:c}),nl(Un(s,l)))):(c!==Xf&&(r=Error(i(423),{cause:c}),nl(Un(r,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Un(c,l),m=wd(s.stateNode,c,m),sd(s,m),pe!==4&&(pe=2)),!1;var y=Error(i(520),{cause:c});if(y=Un(y,l),Sl===null?Sl=[y]:Sl.push(y),pe!==4&&(pe=2),r===null)return!0;c=Un(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=wd(l.stateNode,c,s),sd(l,s),!1;case 1:if(r=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ds===null||!Ds.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=i_(m),s_(m,s,l,c),sd(l,m),!1}l=l.return}while(l!==null);return!1}var a_=Error(i(461)),je=!1;function Ke(s,r,l,c){r.child=s===null?Ky(r,null,l,c):Hr(r,s.child,l,c)}function r_(s,r,l,c,m){l=l.render;var y=r.ref;if("ref"in c){var T={};for(var x in c)x!=="ref"&&(T[x]=c[x])}else T=c;return La(r),c=ud(s,r,l,T,y,m),x=cd(),s!==null&&!je?(hd(s,r,m),Xi(s,r,m)):(Yt&&x&&Gf(r),r.flags|=1,Ke(s,r,c,m),r.child)}function o_(s,r,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!Ff(y)&&y.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=y,l_(s,r,y,c,m)):(s=oc(l.type,null,c,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!Vd(s,m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Zo,l(T,c)&&s.ref===r.ref)return Xi(s,r,m)}return r.flags|=1,s=Hi(y,c),s.ref=r.ref,s.return=r,r.child=s}function l_(s,r,l,c,m){if(s!==null){var y=s.memoizedProps;if(Zo(y,c)&&s.ref===r.ref)if(je=!1,r.pendingProps=c=y,Vd(s,m))(s.flags&131072)!==0&&(je=!0);else return r.lanes=s.lanes,Xi(s,r,m)}return Rd(s,r,l,c,m)}function u_(s,r,l){var c=r.pendingProps,m=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(m=r.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;r.childLanes=y&~c}else r.childLanes=0,r.child=null;return c_(s,r,c,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&fc(r,y!==null?y.cachePool:null),y!==null?ly(r,y):rd(),Wy(r);else return r.lanes=r.childLanes=536870912,c_(s,r,y!==null?y.baseLanes|l:l,l)}else y!==null?(fc(r,y.cachePool),ly(r,y),Ss(),r.memoizedState=null):(s!==null&&fc(r,null),rd(),Ss());return Ke(s,r,m,l),r.child}function c_(s,r,l,c){var m=td();return m=m===null?null:{parent:Ve._currentValue,pool:m},r.memoizedState={baseLanes:l,cachePool:m},s!==null&&fc(r,null),rd(),Wy(r),s!==null&&il(s,r,c,!0),null}function Dc(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Rd(s,r,l,c,m){return La(r),l=ud(s,r,l,c,void 0,m),c=cd(),s!==null&&!je?(hd(s,r,m),Xi(s,r,m)):(Yt&&c&&Gf(r),r.flags|=1,Ke(s,r,l,m),r.child)}function h_(s,r,l,c,m,y){return La(r),r.updateQueue=null,l=cy(r,c,l,m),uy(s),c=cd(),s!==null&&!je?(hd(s,r,y),Xi(s,r,y)):(Yt&&c&&Gf(r),r.flags|=1,Ke(s,r,l,y),r.child)}function f_(s,r,l,c,m){if(La(r),r.stateNode===null){var y=Or,T=l.contextType;typeof T=="object"&&T!==null&&(y=en(T)),y=new l(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ad,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},nd(r),T=l.contextType,y.context=typeof T=="object"&&T!==null?en(T):Or,y.state=r.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(xd(r,l,T,c),y.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Ad.enqueueReplaceState(y,y.state,null),cl(r,c,y,m),ul(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){y=r.stateNode;var x=r.memoizedProps,V=Ua(l,x);y.props=V;var Y=y.context,Z=l.contextType;T=Or,typeof Z=="object"&&Z!==null&&(T=en(Z));var tt=l.getDerivedStateFromProps;Z=typeof tt=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||Y!==T)&&Zy(r,y,c,T),_s=!1;var Q=r.memoizedState;y.state=Q,cl(r,c,y,m),ul(),Y=r.memoizedState,x||Q!==Y||_s?(typeof tt=="function"&&(xd(r,l,tt,c),Y=r.memoizedState),(V=_s||$y(r,l,V,c,Q,Y,T))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),y.props=c,y.state=Y,y.context=T,c=V):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,id(s,r),T=r.memoizedProps,Z=Ua(l,T),y.props=Z,tt=r.pendingProps,Q=y.context,Y=l.contextType,V=Or,typeof Y=="object"&&Y!==null&&(V=en(Y)),x=l.getDerivedStateFromProps,(Y=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==tt||Q!==V)&&Zy(r,y,c,V),_s=!1,Q=r.memoizedState,y.state=Q,cl(r,c,y,m),ul();var K=r.memoizedState;T!==tt||Q!==K||_s||s!==null&&s.dependencies!==null&&cc(s.dependencies)?(typeof x=="function"&&(xd(r,l,x,c),K=r.memoizedState),(Z=_s||$y(r,l,Z,c,Q,K,V)||s!==null&&s.dependencies!==null&&cc(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,K,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,K,V)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=K),y.props=c,y.state=K,y.context=V,c=Z):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),c=!1)}return y=c,Dc(s,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&c?(r.child=Hr(r,s.child,null,m),r.child=Hr(r,null,l,m)):Ke(s,r,l,m),r.memoizedState=y.state,s=r.child):s=Xi(s,r,m),s}function d_(s,r,l,c){return el(),r.flags|=256,Ke(s,r,l,c),r.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dd(s){return{baseLanes:s,cachePool:ty()}}function Cd(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Yn),s}function g_(s,r,l){var c=r.pendingProps,m=!1,y=(r.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(Ne.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(Yt){if(m?Ts(r):Ss(),Yt){var x=me,V;if(V=x){t:{for(V=x,x=mi;V.nodeType!==8;){if(!x){x=null;break t}if(V=Jn(V.nextSibling),V===null){x=null;break t}}x=V}x!==null?(r.memoizedState={dehydrated:x,treeContext:Ia!==null?{id:ji,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},V=wn(18,null,null,0),V.stateNode=x,V.return=r,r.child=V,dn=r,me=null,V=!0):V=!1}V||Na(r)}if(x=r.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return dg(x)?r.lanes=32:r.lanes=536870912,null;Qi(r)}return x=c.children,c=c.fallback,m?(Ss(),m=r.mode,x=Cc({mode:"hidden",children:x},m),c=Oa(c,m,l,null),x.return=r,c.return=r,x.sibling=c,r.child=x,m=r.child,m.memoizedState=Dd(l),m.childLanes=Cd(s,T,l),r.memoizedState=Md,c):(Ts(r),Od(r,x))}if(V=s.memoizedState,V!==null&&(x=V.dehydrated,x!==null)){if(y)r.flags&256?(Ts(r),r.flags&=-257,r=Id(s,r,l)):r.memoizedState!==null?(Ss(),r.child=s.child,r.flags|=128,r=null):(Ss(),m=c.fallback,x=r.mode,c=Cc({mode:"visible",children:c.children},x),m=Oa(m,x,l,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,Hr(r,s.child,null,l),c=r.child,c.memoizedState=Dd(l),c.childLanes=Cd(s,T,l),r.memoizedState=Md,r=m);else if(Ts(r),dg(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,nl({value:c,source:null,stack:null}),r=Id(s,r,l)}else if(je||il(s,r,l,!1),T=(l&s.childLanes)!==0,je||T){if(T=se,T!==null&&(c=l&-l,c=(c&42)!==0?1:cs(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,Cr(s,c),On(T,s,c),a_;x.data==="$?"||Wd(),r=Id(s,r,l)}else x.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,me=Jn(x.nextSibling),dn=r,Yt=!0,Va=null,mi=!1,s!==null&&(jn[Fn++]=ji,jn[Fn++]=Fi,jn[Fn++]=Ia,ji=s.id,Fi=s.overflow,Ia=r),r=Od(r,c.children),r.flags|=4096);return r}return m?(Ss(),m=c.fallback,x=r.mode,V=s.child,Y=V.sibling,c=Hi(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Y!==null?m=Hi(Y,m):(m=Oa(m,x,l,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,x=s.child.memoizedState,x===null?x=Dd(l):(V=x.cachePool,V!==null?(Y=Ve._currentValue,V=V.parent!==Y?{parent:Y,pool:Y}:V):V=ty(),x={baseLanes:x.baseLanes|l,cachePool:V}),m.memoizedState=x,m.childLanes=Cd(s,T,l),r.memoizedState=Md,c):(Ts(r),l=s.child,s=l.sibling,l=Hi(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=l,r.memoizedState=null,l)}function Od(s,r){return r=Cc({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Cc(s,r){return s=wn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Id(s,r,l){return Hr(r,s.child,null,l),s=Od(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function m_(s,r,l){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Wf(s.return,r,l)}function kd(s,r,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function p_(s,r,l){var c=r.pendingProps,m=c.revealOrder,y=c.tail;if(Ke(s,r,c.children,l),c=Ne.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&m_(s,l,r);else if(s.tag===19)m_(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(at(Ne,c),m){case"forwards":for(l=r.child,m=null;l!==null;)s=l.alternate,s!==null&&wc(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),kd(r,!1,m,l,y);break;case"backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&wc(s)===null){r.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}kd(r,!0,l,null,y);break;case"together":kd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xi(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Ms|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(il(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=Hi(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=Hi(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Vd(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&cc(s)))}function MS(s,r,l){switch(r.tag){case 3:ie(r,r.stateNode.containerInfo),ys(r,Ve,s.memoizedState.cache),el();break;case 27:case 5:us(r);break;case 4:ie(r,r.stateNode.containerInfo);break;case 10:ys(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Ts(r),r.flags|=128,null):(l&r.child.childLanes)!==0?g_(s,r,l):(Ts(r),s=Xi(s,r,l),s!==null?s.sibling:null);Ts(r);break;case 19:var m=(s.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(il(s,r,l,!1),c=(l&r.childLanes)!==0),m){if(c)return p_(s,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),at(Ne,Ne.current),c)break;return null;case 22:case 23:return r.lanes=0,u_(s,r,l);case 24:ys(r,Ve,s.memoizedState.cache)}return Xi(s,r,l)}function y_(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)je=!0;else{if(!Vd(s,l)&&(r.flags&128)===0)return je=!1,MS(s,r,l);je=(s.flags&131072)!==0}else je=!1,Yt&&(r.flags&1048576)!==0&&Qp(r,uc,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var c=r.elementType,m=c._init;if(c=m(c._payload),r.type=c,typeof c=="function")Ff(c)?(s=Ua(c,s),r.tag=1,r=f_(null,r,c,s,l)):(r.tag=0,r=Rd(null,r,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===$){r.tag=11,r=r_(null,r,c,s,l);break t}else if(m===I){r.tag=14,r=o_(null,r,c,s,l);break t}}throw r=ft(c)||c,Error(i(306,r,""))}}return r;case 0:return Rd(s,r,r.type,r.pendingProps,l);case 1:return c=r.type,m=Ua(c,r.pendingProps),f_(s,r,c,m,l);case 3:t:{if(ie(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var y=r.memoizedState;m=y.element,id(s,r),cl(r,c,null,l);var T=r.memoizedState;if(c=T.cache,ys(r,Ve,c),c!==y.cache&&$f(r,[Ve],l,!0),ul(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=d_(s,r,c,l);break t}else if(c!==m){m=Un(Error(i(424)),r),nl(m),r=d_(s,r,c,l);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(me=Jn(s.firstChild),dn=r,Yt=!0,Va=null,mi=!0,l=Ky(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(el(),c===m){r=Xi(s,r,l);break t}Ke(s,r,c,l)}r=r.child}return r;case 26:return Dc(s,r),s===null?(l=E0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Yt||(l=r.type,s=r.pendingProps,c=qc(yt.current).createElement(l),c[Oe]=r,c[we]=s,$e(c,l,s),ve(c),r.stateNode=c):r.memoizedState=E0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return us(r),s===null&&Yt&&(c=r.stateNode=_0(r.type,r.pendingProps,yt.current),dn=r,mi=!0,m=me,Is(r.type)?(gg=m,me=Jn(c.firstChild)):me=m),Ke(s,r,r.pendingProps.children,l),Dc(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Yt&&((m=c=me)&&(c=nx(c,r.type,r.pendingProps,mi),c!==null?(r.stateNode=c,dn=r,me=Jn(c.firstChild),mi=!1,m=!0):m=!1),m||Na(r)),us(r),m=r.type,y=r.pendingProps,T=s!==null?s.memoizedProps:null,c=y.children,cg(m,y)?c=null:T!==null&&cg(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=ud(s,r,bS,null,null,l),Il._currentValue=m),Dc(s,r),Ke(s,r,c,l),r.child;case 6:return s===null&&Yt&&((s=l=me)&&(l=ix(l,r.pendingProps,mi),l!==null?(r.stateNode=l,dn=r,me=null,s=!0):s=!1),s||Na(r)),null;case 13:return g_(s,r,l);case 4:return ie(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Hr(r,null,c,l):Ke(s,r,c,l),r.child;case 11:return r_(s,r,r.type,r.pendingProps,l);case 7:return Ke(s,r,r.pendingProps,l),r.child;case 8:return Ke(s,r,r.pendingProps.children,l),r.child;case 12:return Ke(s,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,ys(r,r.type,c.value),Ke(s,r,c.children,l),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,La(r),m=en(m),c=c(m),r.flags|=1,Ke(s,r,c,l),r.child;case 14:return o_(s,r,r.type,r.pendingProps,l);case 15:return l_(s,r,r.type,r.pendingProps,l);case 19:return p_(s,r,l);case 31:return c=r.pendingProps,l=r.mode,c={mode:c.mode,children:c.children},s===null?(l=Cc(c,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=Hi(s.child,c),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return u_(s,r,l);case 24:return La(r),c=en(Ve),s===null?(m=td(),m===null&&(m=se,y=Zf(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),r.memoizedState={parent:c,cache:m},nd(r),ys(r,Ve,m)):((s.lanes&l)!==0&&(id(s,r),cl(r,null,null,l),ul()),m=s.memoizedState,y=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),ys(r,Ve,c)):(c=y.cache,ys(r,Ve,c),c!==m.cache&&$f(r,[Ve],l,!0))),Ke(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ki(s){s.flags|=4}function __(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!w0(r)){if(r=qn.current,r!==null&&((Bt&4194048)===Bt?pi!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||r!==pi))throw ol=ed,ey;s.flags|=8192}}function Oc(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Vo():536870912,s.lanes|=r,Yr|=r)}function yl(s,r){if(!Yt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function fe(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(r)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,r}function DS(s,r,l){var c=r.pendingProps;switch(Qf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(r),null;case 1:return fe(r),null;case 3:return l=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Yi(Ve),ii(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(tl(r)?Ki(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wp())),fe(r),null;case 26:return l=r.memoizedState,s===null?(Ki(r),l!==null?(fe(r),__(r,l)):(fe(r),r.flags&=-16777217)):l?l!==s.memoizedState?(Ki(r),fe(r),__(r,l)):(fe(r),r.flags&=-16777217):(s.memoizedProps!==c&&Ki(r),fe(r),r.flags&=-16777217),null;case 27:Mi(r),l=yt.current;var m=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Ki(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return fe(r),null}s=mt.current,tl(r)?Xp(r):(s=_0(m,c,l),r.stateNode=s,Ki(r))}return fe(r),null;case 5:if(Mi(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Ki(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return fe(r),null}if(s=mt.current,tl(r))Xp(r);else{switch(m=qc(yt.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[Oe]=r,s[we]=c;t:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break t;for(;m.sibling===null;){if(m.return===null||m.return===r)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=s;t:switch($e(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ki(r)}}return fe(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&Ki(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=yt.current,tl(r)){if(s=r.stateNode,l=r.memoizedProps,c=null,m=dn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Oe]=r,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||h0(s.nodeValue,l)),s||Na(r)}else s=qc(s).createTextNode(c),s[Oe]=r,r.stateNode=s}return fe(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=tl(r),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Oe]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),m=!1}else m=Wp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Qi(r),r):(Qi(r),null)}if(Qi(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),Oc(r,r.updateQueue),fe(r),null;case 4:return ii(),s===null&&ag(r.stateNode.containerInfo),fe(r),null;case 10:return Yi(r.type),fe(r),null;case 19:if(ot(Ne),m=r.memoizedState,m===null)return fe(r),null;if(c=(r.flags&128)!==0,y=m.rendering,y===null)if(c)yl(m,!1);else{if(pe!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=wc(s),y!==null){for(r.flags|=128,yl(m,!1),s=y.updateQueue,r.updateQueue=s,Oc(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)Gp(l,s),l=l.sibling;return at(Ne,Ne.current&1|2),r.child}s=s.sibling}m.tail!==null&&Vn()>Vc&&(r.flags|=128,c=!0,yl(m,!1),r.lanes=4194304)}else{if(!c)if(s=wc(y),s!==null){if(r.flags|=128,c=!0,s=s.updateQueue,r.updateQueue=s,Oc(r,s),yl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Yt)return fe(r),null}else 2*Vn()-m.renderingStartTime>Vc&&l!==536870912&&(r.flags|=128,c=!0,yl(m,!1),r.lanes=4194304);m.isBackwards?(y.sibling=r.child,r.child=y):(s=m.last,s!==null?s.sibling=y:r.child=y,m.last=y)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Vn(),r.sibling=null,s=Ne.current,at(Ne,c?s&1|2:s&1),r):(fe(r),null);case 22:case 23:return Qi(r),od(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(fe(r),r.subtreeFlags&6&&(r.flags|=8192)):fe(r),l=r.updateQueue,l!==null&&Oc(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),s!==null&&ot(za),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yi(Ve),fe(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function CS(s,r){switch(Qf(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Yi(Ve),ii(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Mi(r),null;case 13:if(Qi(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));el()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ot(Ne),null;case 4:return ii(),null;case 10:return Yi(r.type),null;case 22:case 23:return Qi(r),od(),s!==null&&ot(za),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Yi(Ve),null;case 25:return null;default:return null}}function v_(s,r){switch(Qf(r),r.tag){case 3:Yi(Ve),ii();break;case 26:case 27:case 5:Mi(r);break;case 4:ii();break;case 13:Qi(r);break;case 19:ot(Ne);break;case 10:Yi(r.type);break;case 22:case 23:Qi(r),od(),s!==null&&ot(za);break;case 24:Yi(Ve)}}function _l(s,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==m)}}catch(x){ne(r,r.return,x)}}function xs(s,r,l){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var T=c.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,m=r;var V=l,Y=x;try{Y()}catch(Z){ne(m,V,Z)}}}c=c.next}while(c!==y)}}catch(Z){ne(r,r.return,Z)}}function b_(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{oy(r,l)}catch(c){ne(s,s.return,c)}}}function E_(s,r,l){l.props=Ua(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ne(s,r,c)}}function vl(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){ne(s,r,m)}}function yi(s,r){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){ne(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ne(s,r,m)}else l.current=null}function T_(s){var r=s.type,l=s.memoizedProps,c=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){ne(s,s.return,m)}}function Nd(s,r,l){try{var c=s.stateNode;$S(c,s.type,l,r),c[we]=r}catch(m){ne(s,s.return,m)}}function S_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Is(s.type)||s.tag===4}function Pd(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||S_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Is(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ld(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Fc));else if(c!==4&&(c===27&&Is(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Ld(s,r,l),s=s.sibling;s!==null;)Ld(s,r,l),s=s.sibling}function Ic(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(c!==4&&(c===27&&Is(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Ic(s,r,l),s=s.sibling;s!==null;)Ic(s,r,l),s=s.sibling}function x_(s){var r=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);$e(r,c,l),r[Oe]=s,r[we]=l}catch(y){ne(s,s.return,y)}}var Wi=!1,Ee=!1,zd=!1,A_=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function OS(s,r){if(s=s.containerInfo,lg=Wc,s=Pp(s),Pf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var T=0,x=-1,V=-1,Y=0,Z=0,tt=s,Q=null;e:for(;;){for(var K;tt!==l||m!==0&&tt.nodeType!==3||(x=T+m),tt!==y||c!==0&&tt.nodeType!==3||(V=T+c),tt.nodeType===3&&(T+=tt.nodeValue.length),(K=tt.firstChild)!==null;)Q=tt,tt=K;for(;;){if(tt===s)break e;if(Q===l&&++Y===m&&(x=T),Q===y&&++Z===c&&(V=T),(K=tt.nextSibling)!==null)break;tt=Q,Q=tt.parentNode}tt=K}l=x===-1||V===-1?null:{start:x,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(ug={focusedElem:s,selectionRange:l},Wc=!1,Fe=r;Fe!==null;)if(r=Fe,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Fe=s;else for(;Fe!==null;){switch(r=Fe,y=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=r,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Tt=Ua(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Tt,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(_t){ne(l,l.return,_t)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)fg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":fg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Fe=s;break}Fe=r.return}}function w_(s,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:As(s,l),c&4&&_l(5,l);break;case 1:if(As(s,l),c&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(T){ne(l,l.return,T)}else{var m=Ua(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ne(l,l.return,T)}}c&64&&b_(l),c&512&&vl(l,l.return);break;case 3:if(As(s,l),c&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{oy(s,r)}catch(T){ne(l,l.return,T)}}break;case 27:r===null&&c&4&&x_(l);case 26:case 5:As(s,l),r===null&&c&4&&T_(l),c&512&&vl(l,l.return);break;case 12:As(s,l);break;case 13:As(s,l),c&4&&D_(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=US.bind(null,l),sx(s,l))));break;case 22:if(c=l.memoizedState!==null||Wi,!c){r=r!==null&&r.memoizedState!==null||Ee,m=Wi;var y=Ee;Wi=c,(Ee=r)&&!y?ws(s,l,(l.subtreeFlags&8772)!==0):As(s,l),Wi=m,Ee=y}break;case 30:break;default:As(s,l)}}function R_(s){var r=s.alternate;r!==null&&(s.alternate=null,R_(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&ds(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ue=null,pn=!1;function $i(s,r,l){for(l=l.child;l!==null;)M_(s,r,l),l=l.sibling}function M_(s,r,l){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ge,l)}catch{}switch(l.tag){case 26:Ee||yi(l,r),$i(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ee||yi(l,r);var c=ue,m=pn;Is(l.type)&&(ue=l.stateNode,pn=!1),$i(s,r,l),Ml(l.stateNode),ue=c,pn=m;break;case 5:Ee||yi(l,r);case 6:if(c=ue,m=pn,ue=null,$i(s,r,l),ue=c,pn=m,ue!==null)if(pn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(l.stateNode)}catch(y){ne(l,r,y)}else try{ue.removeChild(l.stateNode)}catch(y){ne(l,r,y)}break;case 18:ue!==null&&(pn?(s=ue,p0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Pl(s)):p0(ue,l.stateNode));break;case 4:c=ue,m=pn,ue=l.stateNode.containerInfo,pn=!0,$i(s,r,l),ue=c,pn=m;break;case 0:case 11:case 14:case 15:Ee||xs(2,l,r),Ee||xs(4,l,r),$i(s,r,l);break;case 1:Ee||(yi(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&E_(l,r,c)),$i(s,r,l);break;case 21:$i(s,r,l);break;case 22:Ee=(c=Ee)||l.memoizedState!==null,$i(s,r,l),Ee=c;break;default:$i(s,r,l)}}function D_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Pl(s)}catch(l){ne(r,r.return,l)}}function IS(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new A_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new A_),r;default:throw Error(i(435,s.tag))}}function Bd(s,r){var l=IS(s);r.forEach(function(c){var m=HS.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function Rn(s,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,T=r,x=T;t:for(;x!==null;){switch(x.tag){case 27:if(Is(x.type)){ue=x.stateNode,pn=!1;break t}break;case 5:ue=x.stateNode,pn=!1;break t;case 3:case 4:ue=x.stateNode.containerInfo,pn=!0;break t}x=x.return}if(ue===null)throw Error(i(160));M_(y,T,m),ue=null,pn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)C_(r,s),r=r.sibling}var Zn=null;function C_(s,r){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Rn(r,s),Mn(s),c&4&&(xs(3,s,s.return),_l(3,s),xs(5,s,s.return));break;case 1:Rn(r,s),Mn(s),c&512&&(Ee||l===null||yi(l,l.return)),c&64&&Wi&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Zn;if(Rn(r,s),Mn(s),c&512&&(Ee||l===null||yi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){t:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ma]||y[Oe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),$e(y,c,l),y[Oe]=s,ve(y),c=y;break t;case"link":var T=x0("link","href",m).get(c+(l.href||""));if(T){for(var x=0;x<T.length;x++)if(y=T[x],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(x,1);break e}}y=m.createElement(c),$e(y,c,l),m.head.appendChild(y);break;case"meta":if(T=x0("meta","content",m).get(c+(l.content||""))){for(x=0;x<T.length;x++)if(y=T[x],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(x,1);break e}}y=m.createElement(c),$e(y,c,l),m.head.appendChild(y);break;default:throw Error(i(468,c))}y[Oe]=s,ve(y),c=y}s.stateNode=c}else A0(m,s.type,s.stateNode);else s.stateNode=S0(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?A0(m,s.type,s.stateNode):S0(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Nd(s,s.memoizedProps,l.memoizedProps)}break;case 27:Rn(r,s),Mn(s),c&512&&(Ee||l===null||yi(l,l.return)),l!==null&&c&4&&Nd(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Rn(r,s),Mn(s),c&512&&(Ee||l===null||yi(l,l.return)),s.flags&32){m=s.stateNode;try{Pn(m,"")}catch(K){ne(s,s.return,K)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Nd(s,m,l!==null?l.memoizedProps:m)),c&1024&&(zd=!0);break;case 6:if(Rn(r,s),Mn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(K){ne(s,s.return,K)}}break;case 3:if(Qc=null,m=Zn,Zn=Yc(r.containerInfo),Rn(r,s),Zn=m,Mn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Pl(r.containerInfo)}catch(K){ne(s,s.return,K)}zd&&(zd=!1,O_(s));break;case 4:c=Zn,Zn=Yc(s.stateNode.containerInfo),Rn(r,s),Mn(s),Zn=c;break;case 12:Rn(r,s),Mn(s);break;case 13:Rn(r,s),Mn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yd=Vn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Bd(s,c)));break;case 22:m=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Y=Wi,Z=Ee;if(Wi=Y||m,Ee=Z||V,Rn(r,s),Ee=Z,Wi=Y,Mn(s),c&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(l===null||V||Wi||Ee||Ha(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){V=l=r;try{if(y=V.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=V.stateNode;var tt=V.memoizedProps.style,Q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;x.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(K){ne(V,V.return,K)}}}else if(r.tag===6){if(l===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(K){ne(V,V.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Bd(s,l))));break;case 19:Rn(r,s),Mn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Bd(s,c)));break;case 30:break;case 21:break;default:Rn(r,s),Mn(s)}}function Mn(s){var r=s.flags;if(r&2){try{for(var l,c=s.return;c!==null;){if(S_(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,y=Pd(s);Ic(s,y,m);break;case 5:var T=l.stateNode;l.flags&32&&(Pn(T,""),l.flags&=-33);var x=Pd(s);Ic(s,x,T);break;case 3:case 4:var V=l.stateNode.containerInfo,Y=Pd(s);Ld(s,Y,V);break;default:throw Error(i(161))}}catch(Z){ne(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function O_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;O_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function As(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)w_(s,r.alternate,r),r=r.sibling}function Ha(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:xs(4,r,r.return),Ha(r);break;case 1:yi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&E_(r,r.return,l),Ha(r);break;case 27:Ml(r.stateNode);case 26:case 5:yi(r,r.return),Ha(r);break;case 22:r.memoizedState===null&&Ha(r);break;case 30:Ha(r);break;default:Ha(r)}s=s.sibling}}function ws(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=s,y=r,T=y.flags;switch(y.tag){case 0:case 11:case 15:ws(m,y,l),_l(4,y);break;case 1:if(ws(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){ne(c,c.return,Y)}if(c=y,m=c.updateQueue,m!==null){var x=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)ry(V[m],x)}catch(Y){ne(c,c.return,Y)}}l&&T&64&&b_(y),vl(y,y.return);break;case 27:x_(y);case 26:case 5:ws(m,y,l),l&&c===null&&T&4&&T_(y),vl(y,y.return);break;case 12:ws(m,y,l);break;case 13:ws(m,y,l),l&&T&4&&D_(m,y);break;case 22:y.memoizedState===null&&ws(m,y,l),vl(y,y.return);break;case 30:break;default:ws(m,y,l)}r=r.sibling}}function Ud(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&sl(l))}function Hd(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&sl(s))}function _i(s,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)I_(s,r,l,c),r=r.sibling}function I_(s,r,l,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:_i(s,r,l,c),m&2048&&_l(9,r);break;case 1:_i(s,r,l,c);break;case 3:_i(s,r,l,c),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&sl(s)));break;case 12:if(m&2048){_i(s,r,l,c),s=r.stateNode;try{var y=r.memoizedProps,T=y.id,x=y.onPostCommit;typeof x=="function"&&x(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){ne(r,r.return,V)}}else _i(s,r,l,c);break;case 13:_i(s,r,l,c);break;case 23:break;case 22:y=r.stateNode,T=r.alternate,r.memoizedState!==null?y._visibility&2?_i(s,r,l,c):bl(s,r):y._visibility&2?_i(s,r,l,c):(y._visibility|=2,jr(s,r,l,c,(r.subtreeFlags&10256)!==0)),m&2048&&Ud(T,r);break;case 24:_i(s,r,l,c),m&2048&&Hd(r.alternate,r);break;default:_i(s,r,l,c)}}function jr(s,r,l,c,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=s,T=r,x=l,V=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:jr(y,T,x,V,m),_l(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?jr(y,T,x,V,m):bl(y,T):(Z._visibility|=2,jr(y,T,x,V,m)),m&&Y&2048&&Ud(T.alternate,T);break;case 24:jr(y,T,x,V,m),m&&Y&2048&&Hd(T.alternate,T);break;default:jr(y,T,x,V,m)}r=r.sibling}}function bl(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,c=r,m=c.flags;switch(c.tag){case 22:bl(l,c),m&2048&&Ud(c.alternate,c);break;case 24:bl(l,c),m&2048&&Hd(c.alternate,c);break;default:bl(l,c)}r=r.sibling}}var El=8192;function Fr(s){if(s.subtreeFlags&El)for(s=s.child;s!==null;)k_(s),s=s.sibling}function k_(s){switch(s.tag){case 26:Fr(s),s.flags&El&&s.memoizedState!==null&&yx(Zn,s.memoizedState,s.memoizedProps);break;case 5:Fr(s);break;case 3:case 4:var r=Zn;Zn=Yc(s.stateNode.containerInfo),Fr(s),Zn=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Fr(s),El=r):Fr(s));break;default:Fr(s)}}function V_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Tl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Fe=c,P_(c,s)}V_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)N_(s),s=s.sibling}function N_(s){switch(s.tag){case 0:case 11:case 15:Tl(s),s.flags&2048&&xs(9,s,s.return);break;case 3:Tl(s);break;case 12:Tl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,kc(s)):Tl(s);break;default:Tl(s)}}function kc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Fe=c,P_(c,s)}V_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:xs(8,r,r.return),kc(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,kc(r));break;default:kc(r)}s=s.sibling}}function P_(s,r){for(;Fe!==null;){var l=Fe;switch(l.tag){case 0:case 11:case 15:xs(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:sl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Fe=c;else t:for(l=s;Fe!==null;){c=Fe;var m=c.sibling,y=c.return;if(R_(c),c===l){Fe=null;break t}if(m!==null){m.return=y,Fe=m;break t}Fe=y}}}var kS={getCacheForType:function(s){var r=en(Ve),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},VS=typeof WeakMap=="function"?WeakMap:Map,Xt=0,se=null,kt=null,Bt=0,Kt=0,Dn=null,Rs=!1,qr=!1,jd=!1,Zi=0,pe=0,Ms=0,ja=0,Fd=0,Yn=0,Yr=0,Sl=null,yn=null,qd=!1,Yd=0,Vc=1/0,Nc=null,Ds=null,We=0,Cs=null,Gr=null,Qr=0,Gd=0,Qd=null,L_=null,xl=0,Xd=null;function Cn(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(j.T!==null){var s=Vr;return s!==0?s:eg()}return hs()}function z_(){Yn===0&&(Yn=(Bt&536870912)===0||Yt?ko():536870912);var s=qn.current;return s!==null&&(s.flags|=32),Yn}function On(s,r,l){(s===se&&(Kt===2||Kt===9)||s.cancelPendingCommit!==null)&&(Xr(s,0),Os(s,Bt,Yn,!1)),Ci(s,l),((Xt&2)===0||s!==se)&&(s===se&&((Xt&2)===0&&(ja|=l),pe===4&&Os(s,Bt,Yn,!1)),vi(s))}function B_(s,r,l){if((Xt&6)!==0)throw Error(i(327));var c=!l&&(r&124)===0&&(r&s.expiredLanes)===0||ga(s,r),m=c?LS(s,r):$d(s,r,!0),y=c;do{if(m===0){qr&&!c&&Os(s,r,0,!1);break}else{if(l=s.current.alternate,y&&!NS(l)){m=$d(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var x=s;m=Sl;var V=x.current.memoizedState.isDehydrated;if(V&&(Xr(x,T).flags|=256),T=$d(x,T,!1),T!==2){if(jd&&!V){x.errorRecoveryDisabledLanes|=y,ja|=y,m=4;break t}y=yn,yn=m,y!==null&&(yn===null?yn=y:yn.push.apply(yn,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){Xr(s,0),Os(s,r,0,!0);break}t:{switch(c=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Os(c,r,Yn,!Rs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Yd+300-Vn(),10<m)){if(Os(c,r,Yn,!Rs),hr(c,0,!0)!==0)break t;c.timeoutHandle=g0(U_.bind(null,c,l,yn,Nc,qd,r,Yn,ja,Yr,Rs,y,2,-0,0),m);break t}U_(c,l,yn,Nc,qd,r,Yn,ja,Yr,Rs,y,0,-0,0)}}break}while(!0);vi(s)}function U_(s,r,l,c,m,y,T,x,V,Y,Z,tt,Q,K){if(s.timeoutHandle=-1,tt=r.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:px},k_(r),tt=_x(),tt!==null)){s.cancelPendingCommit=tt(Q_.bind(null,s,r,y,l,c,m,T,x,V,Z,1,Q,K)),Os(s,y,T,!Y);return}Q_(s,r,y,l,c,m,T,x,V)}function NS(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!An(y(),m))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Os(s,r,l,c){r&=~Fd,r&=~ja,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var m=r;0<m;){var y=31-tn(m),T=1<<y;c[y]=-1,m&=~T}l!==0&&si(s,l,r)}function Pc(){return(Xt&6)===0?(Al(0),!1):!0}function Kd(){if(kt!==null){if(Kt===0)var s=kt.return;else s=kt,qi=Pa=null,fd(s),Ur=null,ml=0,s=kt;for(;s!==null;)v_(s.alternate,s),s=s.return;kt=null}}function Xr(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,JS(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Kd(),se=s,kt=l=Hi(s.current,null),Bt=r,Kt=0,Dn=null,Rs=!1,qr=ga(s,r),jd=!1,Yr=Yn=Fd=ja=Ms=pe=0,yn=Sl=null,qd=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var m=31-tn(c),y=1<<m;r|=s[m],c&=~y}return Zi=r,sc(),l}function H_(s,r){Ct=null,j.H=Sc,r===rl||r===dc?(r=sy(),Kt=3):r===ey?(r=sy(),Kt=4):Kt=r===a_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,kt===null&&(pe=1,Mc(s,Un(r,s.current)))}function j_(){var s=j.H;return j.H=Sc,s===null?Sc:s}function F_(){var s=j.A;return j.A=kS,s}function Wd(){pe=4,Rs||(Bt&4194048)!==Bt&&qn.current!==null||(qr=!0),(Ms&134217727)===0&&(ja&134217727)===0||se===null||Os(se,Bt,Yn,!1)}function $d(s,r,l){var c=Xt;Xt|=2;var m=j_(),y=F_();(se!==s||Bt!==r)&&(Nc=null,Xr(s,r)),r=!1;var T=pe;t:do try{if(Kt!==0&&kt!==null){var x=kt,V=Dn;switch(Kt){case 8:Kd(),T=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var Y=Kt;if(Kt=0,Dn=null,Kr(s,x,V,Y),l&&qr){T=0;break t}break;default:Y=Kt,Kt=0,Dn=null,Kr(s,x,V,Y)}}PS(),T=pe;break}catch(Z){H_(s,Z)}while(!0);return r&&s.shellSuspendCounter++,qi=Pa=null,Xt=c,j.H=m,j.A=y,kt===null&&(se=null,Bt=0,sc()),T}function PS(){for(;kt!==null;)q_(kt)}function LS(s,r){var l=Xt;Xt|=2;var c=j_(),m=F_();se!==s||Bt!==r?(Nc=null,Vc=Vn()+500,Xr(s,r)):qr=ga(s,r);t:do try{if(Kt!==0&&kt!==null){r=kt;var y=Dn;e:switch(Kt){case 1:Kt=0,Dn=null,Kr(s,r,y,1);break;case 2:case 9:if(ny(y)){Kt=0,Dn=null,Y_(r);break}r=function(){Kt!==2&&Kt!==9||se!==s||(Kt=7),vi(s)},y.then(r,r);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:ny(y)?(Kt=0,Dn=null,Y_(r)):(Kt=0,Dn=null,Kr(s,r,y,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var x=kt;if(!T||w0(T)){Kt=0,Dn=null;var V=x.sibling;if(V!==null)kt=V;else{var Y=x.return;Y!==null?(kt=Y,Lc(Y)):kt=null}break e}}Kt=0,Dn=null,Kr(s,r,y,5);break;case 6:Kt=0,Dn=null,Kr(s,r,y,6);break;case 8:Kd(),pe=6;break t;default:throw Error(i(462))}}zS();break}catch(Z){H_(s,Z)}while(!0);return qi=Pa=null,j.H=c,j.A=m,Xt=l,kt!==null?0:(se=null,Bt=0,sc(),pe)}function zS(){for(;kt!==null&&!Do();)q_(kt)}function q_(s){var r=y_(s.alternate,s,Zi);s.memoizedProps=s.pendingProps,r===null?Lc(s):kt=r}function Y_(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=h_(l,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=h_(l,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:fd(r);default:v_(l,r),r=kt=Gp(r,Zi),r=y_(l,r,Zi)}s.memoizedProps=s.pendingProps,r===null?Lc(s):kt=r}function Kr(s,r,l,c){qi=Pa=null,fd(r),Ur=null,ml=0;var m=r.return;try{if(RS(s,m,r,l,Bt)){pe=1,Mc(s,Un(l,s.current)),kt=null;return}}catch(y){if(m!==null)throw kt=m,y;pe=1,Mc(s,Un(l,s.current)),kt=null;return}r.flags&32768?(Yt||c===1?s=!0:qr||(Bt&536870912)!==0?s=!1:(Rs=s=!0,(c===2||c===9||c===3||c===6)&&(c=qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),G_(r,s)):Lc(r)}function Lc(s){var r=s;do{if((r.flags&32768)!==0){G_(r,Rs);return}s=r.return;var l=DS(r.alternate,r,Zi);if(l!==null){kt=l;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=s}while(r!==null);pe===0&&(pe=5)}function G_(s,r){do{var l=CS(s.alternate,s);if(l!==null){l.flags&=32767,kt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){kt=s;return}kt=s=l}while(s!==null);pe=6,kt=null}function Q_(s,r,l,c,m,y,T,x,V){s.cancelPendingCommit=null;do zc();while(We!==0);if((Xt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Hf,No(s,l,y,T,x,V),s===se&&(kt=se=null,Bt=0),Gr=r,Cs=s,Qr=l,Gd=y,Qd=m,L_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jS(ca,function(){return Z_(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=j.T,j.T=null,m=it.p,it.p=2,T=Xt,Xt|=4;try{OS(s,r,l)}finally{Xt=T,it.p=m,j.T=c}}We=1,X_(),K_(),W_()}}function X_(){if(We===1){We=0;var s=Cs,r=Gr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=j.T,j.T=null;var c=it.p;it.p=2;var m=Xt;Xt|=4;try{C_(r,s);var y=ug,T=Pp(s.containerInfo),x=y.focusedElem,V=y.selectionRange;if(T!==x&&x&&x.ownerDocument&&Np(x.ownerDocument.documentElement,x)){if(V!==null&&Pf(x)){var Y=V.start,Z=V.end;if(Z===void 0&&(Z=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(Z,x.value.length);else{var tt=x.ownerDocument||document,Q=tt&&tt.defaultView||window;if(Q.getSelection){var K=Q.getSelection(),Tt=x.textContent.length,_t=Math.min(V.start,Tt),ee=V.end===void 0?_t:Math.min(V.end,Tt);!K.extend&&_t>ee&&(T=ee,ee=_t,_t=T);var U=Vp(x,_t),z=Vp(x,ee);if(U&&z&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var q=tt.createRange();q.setStart(U.node,U.offset),K.removeAllRanges(),_t>ee?(K.addRange(q),K.extend(z.node,z.offset)):(q.setEnd(z.node,z.offset),K.addRange(q))}}}}for(tt=[],K=x;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<tt.length;x++){var J=tt[x];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Wc=!!lg,ug=lg=null}finally{Xt=m,it.p=c,j.T=l}}s.current=r,We=2}}function K_(){if(We===2){We=0;var s=Cs,r=Gr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=j.T,j.T=null;var c=it.p;it.p=2;var m=Xt;Xt|=4;try{w_(s,r.alternate,r)}finally{Xt=m,it.p=c,j.T=l}}We=3}}function W_(){if(We===4||We===3){We=0,ku();var s=Cs,r=Gr,l=Qr,c=L_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?We=5:(We=0,Gr=Cs=null,$_(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ds=null),fr(l),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ge,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=j.T,m=it.p,it.p=2,j.T=null;try{for(var y=s.onRecoverableError,T=0;T<c.length;T++){var x=c[T];y(x.value,{componentStack:x.stack})}}finally{j.T=r,it.p=m}}(Qr&3)!==0&&zc(),vi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===Xd?xl++:(xl=0,Xd=s):xl=0,Al(0)}}function $_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,sl(r)))}function zc(s){return X_(),K_(),W_(),Z_()}function Z_(){if(We!==5)return!1;var s=Cs,r=Gd;Gd=0;var l=fr(Qr),c=j.T,m=it.p;try{it.p=32>l?32:l,j.T=null,l=Qd,Qd=null;var y=Cs,T=Qr;if(We=0,Gr=Cs=null,Qr=0,(Xt&6)!==0)throw Error(i(331));var x=Xt;if(Xt|=4,N_(y.current),I_(y,y.current,T,l),Xt=x,Al(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ge,y)}catch{}return!0}finally{it.p=m,j.T=c,$_(s,r)}}function J_(s,r,l){r=Un(l,r),r=wd(s.stateNode,r,2),s=bs(s,r,2),s!==null&&(Ci(s,2),vi(s))}function ne(s,r,l){if(s.tag===3)J_(s,s,l);else for(;r!==null;){if(r.tag===3){J_(r,s,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ds===null||!Ds.has(c))){s=Un(l,s),l=i_(2),c=bs(r,l,2),c!==null&&(s_(l,c,r,s),Ci(c,2),vi(c));break}}r=r.return}}function Zd(s,r,l){var c=s.pingCache;if(c===null){c=s.pingCache=new VS;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(l)||(jd=!0,m.add(l),s=BS.bind(null,s,r,l),r.then(s,s))}function BS(s,r,l){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,se===s&&(Bt&l)===l&&(pe===4||pe===3&&(Bt&62914560)===Bt&&300>Vn()-Yd?(Xt&2)===0&&Xr(s,0):Fd|=l,Yr===Bt&&(Yr=0)),vi(s)}function t0(s,r){r===0&&(r=Vo()),s=Cr(s,r),s!==null&&(Ci(s,r),vi(s))}function US(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),t0(s,l)}function HS(s,r){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),t0(s,l)}function jS(s,r){return la(s,r)}var Bc=null,Wr=null,Jd=!1,Uc=!1,tg=!1,Fa=0;function vi(s){s!==Wr&&s.next===null&&(Wr===null?Bc=Wr=s:Wr=Wr.next=s),Uc=!0,Jd||(Jd=!0,qS())}function Al(s,r){if(!tg&&Uc){tg=!0;do for(var l=!1,c=Bc;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,x=c.pingedLanes;y=(1<<31-tn(42|s)+1)-1,y&=m&~(T&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,s0(c,y))}else y=Bt,y=hr(c,c===se?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||ga(c,y)||(l=!0,s0(c,y));c=c.next}while(l);tg=!1}}function FS(){e0()}function e0(){Uc=Jd=!1;var s=0;Fa!==0&&(ZS()&&(s=Fa),Fa=0);for(var r=Vn(),l=null,c=Bc;c!==null;){var m=c.next,y=n0(c,r);y===0?(c.next=null,l===null?Bc=m:l.next=m,m===null&&(Wr=l)):(l=c,(s!==0||(y&3)!==0)&&(Uc=!0)),c=m}Al(s)}function n0(s,r){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-tn(y),x=1<<T,V=m[T];V===-1?((x&l)===0||(x&c)!==0)&&(m[T]=Io(x,r)):V<=r&&(s.expiredLanes|=x),y&=~x}if(r=se,l=Bt,l=hr(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===r&&(Kt===2||Kt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&ua(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ga(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(c!==null&&ua(c),fr(l)){case 2:case 8:l=ur;break;case 32:l=ca;break;case 268435456:l=cr;break;default:l=ca}return c=i0.bind(null,s),l=la(l,c),s.callbackPriority=r,s.callbackNode=l,r}return c!==null&&c!==null&&ua(c),s.callbackPriority=2,s.callbackNode=null,2}function i0(s,r){if(We!==0&&We!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(zc()&&s.callbackNode!==l)return null;var c=Bt;return c=hr(s,s===se?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(B_(s,c,r),n0(s,Vn()),s.callbackNode!=null&&s.callbackNode===l?i0.bind(null,s):null)}function s0(s,r){if(zc())return null;B_(s,r,!0)}function qS(){tx(function(){(Xt&6)!==0?la(Co,FS):e0()})}function eg(){return Fa===0&&(Fa=ko()),Fa}function a0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_r(""+s)}function r0(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function YS(s,r,l,c,m){if(r==="submit"&&l&&l.stateNode===m){var y=a0((m[we]||null).action),T=c.submitter;T&&(r=(r=T[we]||null)?a0(r.formAction):T.getAttribute("formAction"),r!==null&&(y=r,T=null));var x=new vr("action","action",null,c,m);s.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fa!==0){var V=T?r0(m,T):new FormData(m);Ed(l,{pending:!0,data:V,method:m.method,action:y},null,V)}}else typeof y=="function"&&(x.preventDefault(),V=T?r0(m,T):new FormData(m),Ed(l,{pending:!0,data:V,method:m.method,action:y},y,V))},currentTarget:m}]})}}for(var ng=0;ng<Uf.length;ng++){var ig=Uf[ng],GS=ig.toLowerCase(),QS=ig[0].toUpperCase()+ig.slice(1);$n(GS,"on"+QS)}$n(Bp,"onAnimationEnd"),$n(Up,"onAnimationIteration"),$n(Hp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(cS,"onTransitionRun"),$n(hS,"onTransitionStart"),$n(fS,"onTransitionCancel"),$n(jp,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function o0(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;t:{var y=void 0;if(r)for(var T=c.length-1;0<=T;T--){var x=c[T],V=x.instance,Y=x.currentTarget;if(x=x.listener,V!==y&&m.isPropagationStopped())break t;y=x,m.currentTarget=Y;try{y(m)}catch(Z){Rc(Z)}m.currentTarget=null,y=V}else for(T=0;T<c.length;T++){if(x=c[T],V=x.instance,Y=x.currentTarget,x=x.listener,V!==y&&m.isPropagationStopped())break t;y=x,m.currentTarget=Y;try{y(m)}catch(Z){Rc(Z)}m.currentTarget=null,y=V}}}}function Vt(s,r){var l=r[Lo];l===void 0&&(l=r[Lo]=new Set);var c=s+"__bubble";l.has(c)||(l0(r,s,2,!1),l.add(c))}function sg(s,r,l){var c=0;r&&(c|=4),l0(l,s,c,r)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function ag(s){if(!s[Hc]){s[Hc]=!0,zo.forEach(function(l){l!=="selectionchange"&&(XS.has(l)||sg(l,!1,s),sg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Hc]||(r[Hc]=!0,sg("selectionchange",!1,r))}}function l0(s,r,l,c){switch(I0(r)){case 2:var m=Ex;break;case 8:m=Tx;break;default:m=vg}l=m.bind(null,r,l,s),m=void 0,!zn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(r,l,{capture:!0,passive:m}):s.addEventListener(r,l,!0):m!==void 0?s.addEventListener(r,l,{passive:m}):s.addEventListener(r,l,!1)}function rg(s,r,l,c,m){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var x=c.stateNode.containerInfo;if(x===m)break;if(T===4)for(T=c.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;x!==null;){if(T=Oi(x),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){c=y=T;continue t}x=x.parentNode}}c=c.return}Fu(function(){var Y=y,Z=Ln(l),tt=[];t:{var Q=Fp.get(s);if(Q!==void 0){var K=vr,Tt=s;switch(s){case"keypress":if(ci(l)===0)break t;case"keydown":case"keyup":K=Ar;break;case"focusin":Tt="focus",K=Tr;break;case"focusout":Tt="blur",K=Tr;break;case"beforeblur":case"afterblur":K=Tr;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=$u;break;case Bp:case Up:case Hp:K=Sr;break;case jp:K=Ju;break;case"scroll":case"scrollend":K=qu;break;case"wheel":K=wr;break;case"copy":case"cut":case"paste":K=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Wo;break;case"toggle":case"beforetoggle":K=ec}var _t=(r&4)!==0,ee=!_t&&(s==="scroll"||s==="scrollend"),U=_t?Q!==null?Q+"Capture":null:Q;_t=[];for(var z=Y,q;z!==null;){var J=z;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||U===null||(J=Ta(z,U),J!=null&&_t.push(Rl(z,J,q))),ee)break;z=z.return}0<_t.length&&(Q=new K(Q,Tt,null,l,Z),tt.push({event:Q,listeners:_t}))}}if((r&7)===0){t:{if(Q=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",Q&&l!==Ni&&(Tt=l.relatedTarget||l.fromElement)&&(Oi(Tt)||Tt[Nn]))break t;if((K||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,K?(Tt=l.relatedTarget||l.toElement,K=Y,Tt=Tt?Oi(Tt):null,Tt!==null&&(ee=o(Tt),_t=Tt.tag,Tt!==ee||_t!==5&&_t!==27&&_t!==6)&&(Tt=null)):(K=null,Tt=Y),K!==Tt)){if(_t=Bn,J="onMouseLeave",U="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(_t=Wo,J="onPointerLeave",U="onPointerEnter",z="pointer"),ee=K==null?Q:ri(K),q=Tt==null?Q:ri(Tt),Q=new _t(J,z+"leave",K,l,Z),Q.target=ee,Q.relatedTarget=q,J=null,Oi(Z)===Y&&(_t=new _t(U,z+"enter",Tt,l,Z),_t.target=q,_t.relatedTarget=ee,J=_t),ee=J,K&&Tt)e:{for(_t=K,U=Tt,z=0,q=_t;q;q=$r(q))z++;for(q=0,J=U;J;J=$r(J))q++;for(;0<z-q;)_t=$r(_t),z--;for(;0<q-z;)U=$r(U),q--;for(;z--;){if(_t===U||U!==null&&_t===U.alternate)break e;_t=$r(_t),U=$r(U)}_t=null}else _t=null;K!==null&&u0(tt,Q,K,_t,!1),Tt!==null&&ee!==null&&u0(tt,ee,Tt,_t,!0)}}t:{if(Q=Y?ri(Y):window,K=Q.nodeName&&Q.nodeName.toLowerCase(),K==="select"||K==="input"&&Q.type==="file")var gt=Mp;else if(ke(Q))if(Dp)gt=oS;else{gt=aS;var Ot=sS}else K=Q.nodeName,!K||K.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Fo(Y.elementType)&&(gt=Mp):gt=rS;if(gt&&(gt=gt(s,Y))){Ui(tt,gt,l,Z);break t}Ot&&Ot(s,Q,Y),s==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&ms(Q,"number",Q.value)}switch(Ot=Y?ri(Y):window,s){case"focusin":(ke(Ot)||Ot.contentEditable==="true")&&(Rr=Ot,Lf=Y,Jo=null);break;case"focusout":Jo=Lf=Rr=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Lp(tt,l,Z);break;case"selectionchange":if(uS)break;case"keydown":case"keyup":Lp(tt,l,Z)}var pt;if(di)t:{switch(s){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Lt?W(s,l)&&(bt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(bt="onCompositionStart");bt&&(E&&l.locale!=="ko"&&(Lt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Lt&&(pt=Yo()):(ui=Z,ps="value"in ui?ui.value:ui.textContent,Lt=!0)),Ot=jc(Y,bt),0<Ot.length&&(bt=new Xo(bt,s,null,l,Z),tt.push({event:bt,listeners:Ot}),pt?bt.data=pt:(pt=rt(l),pt!==null&&(bt.data=pt)))),(pt=_?Ie(s,l):zt(s,l))&&(bt=jc(Y,"onBeforeInput"),0<bt.length&&(Ot=new Xo("onBeforeInput","beforeinput",null,l,Z),tt.push({event:Ot,listeners:bt}),Ot.data=pt)),YS(tt,s,Y,l,Z)}o0(tt,r)})}function Rl(s,r,l){return{instance:s,listener:r,currentTarget:l}}function jc(s,r){for(var l=r+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ta(s,l),m!=null&&c.unshift(Rl(s,m,y)),m=Ta(s,r),m!=null&&c.push(Rl(s,m,y))),s.tag===3)return c;s=s.return}return[]}function $r(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function u0(s,r,l,c,m){for(var y=r._reactName,T=[];l!==null&&l!==c;){var x=l,V=x.alternate,Y=x.stateNode;if(x=x.tag,V!==null&&V===c)break;x!==5&&x!==26&&x!==27||Y===null||(V=Y,m?(Y=Ta(l,y),Y!=null&&T.unshift(Rl(l,Y,V))):m||(Y=Ta(l,y),Y!=null&&T.push(Rl(l,Y,V)))),l=l.return}T.length!==0&&s.push({event:r,listeners:T})}var KS=/\r\n?/g,WS=/\u0000|\uFFFD/g;function c0(s){return(typeof s=="string"?s:""+s).replace(KS,`
`).replace(WS,"")}function h0(s,r){return r=c0(r),c0(s)===r}function Fc(){}function te(s,r,l,c,m,y){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Pn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Pn(s,""+c);break;case"className":oi(s,"class",c);break;case"tabIndex":oi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(s,l,c);break;case"style":jo(s,c,y);break;case"data":if(r!=="object"){oi(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=_r(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(r!=="input"&&te(s,r,"name",m.name,m,null),te(s,r,"formEncType",m.formEncType,m,null),te(s,r,"formMethod",m.formMethod,m,null),te(s,r,"formTarget",m.formTarget,m,null)):(te(s,r,"encType",m.encType,m,null),te(s,r,"method",m.method,m,null),te(s,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=_r(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Fc);break;case"onScroll":c!=null&&Vt("scroll",s);break;case"onScrollEnd":c!=null&&Vt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=_r(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Vt("beforetoggle",s),Vt("toggle",s),gs(s,"popover",c);break;case"xlinkActuate":Qe(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Qe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Qe(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Qe(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Qe(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Qe(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Qe(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Qe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Qe(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":gs(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Cf.get(l)||l,gs(s,l,c))}}function og(s,r,l,c,m,y){switch(l){case"style":jo(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Pn(s,c):(typeof c=="number"||typeof c=="bigint")&&Pn(s,""+c);break;case"onScroll":c!=null&&Vt("scroll",s);break;case"onScrollEnd":c!=null&&Vt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),r=l.slice(2,m?l.length-7:void 0),y=s[we]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,c,m);break t}l in s?s[l]=c:c===!0?s.setAttribute(l,""):gs(s,l,c)}}}function $e(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",s),Vt("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:te(s,r,y,T,l,null)}}m&&te(s,r,"srcSet",l.srcSet,l,null),c&&te(s,r,"src",l.src,l,null);return;case"input":Vt("invalid",s);var x=y=T=m=null,V=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":m=Z;break;case"type":T=Z;break;case"checked":V=Z;break;case"defaultChecked":Y=Z;break;case"value":y=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:te(s,r,c,Z,l,null)}}va(s,y,x,V,Y,T,m,!1),yr(s);return;case"select":Vt("invalid",s),c=T=y=null;for(m in l)if(l.hasOwnProperty(m)&&(x=l[m],x!=null))switch(m){case"value":y=x;break;case"defaultValue":T=x;break;case"multiple":c=x;default:te(s,r,m,x,l,null)}r=y,l=T,s.multiple=!!c,r!=null?Vi(s,!!c,r,!1):l!=null&&Vi(s,!!c,l,!0);return;case"textarea":Vt("invalid",s),y=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(x=l[T],x!=null))switch(T){case"value":c=x;break;case"defaultValue":m=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:te(s,r,T,x,l,null)}ba(s,c,m,y),yr(s);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(c=l[V],c!=null))switch(V){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:te(s,r,V,c,l,null)}return;case"dialog":Vt("beforetoggle",s),Vt("toggle",s),Vt("cancel",s),Vt("close",s);break;case"iframe":case"object":Vt("load",s);break;case"video":case"audio":for(c=0;c<wl.length;c++)Vt(wl[c],s);break;case"image":Vt("error",s),Vt("load",s);break;case"details":Vt("toggle",s);break;case"embed":case"source":case"link":Vt("error",s),Vt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:te(s,r,Y,c,l,null)}return;default:if(Fo(r)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&og(s,r,Z,c,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(c=l[x],c!=null&&te(s,r,x,c,l,null))}function $S(s,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,x=null,V=null,Y=null,Z=null;for(K in l){var tt=l[K];if(l.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":V=tt;default:c.hasOwnProperty(K)||te(s,r,K,null,c,tt)}}for(var Q in c){var K=c[Q];if(tt=l[Q],c.hasOwnProperty(Q)&&(K!=null||tt!=null))switch(Q){case"type":y=K;break;case"name":m=K;break;case"checked":Y=K;break;case"defaultChecked":Z=K;break;case"value":T=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==tt&&te(s,r,Q,K,c,tt)}}xn(s,T,x,V,Y,Z,y,m);return;case"select":K=T=x=Q=null;for(y in l)if(V=l[y],l.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":K=V;default:c.hasOwnProperty(y)||te(s,r,y,null,c,V)}for(m in c)if(y=c[m],V=l[m],c.hasOwnProperty(m)&&(y!=null||V!=null))switch(m){case"value":Q=y;break;case"defaultValue":x=y;break;case"multiple":T=y;default:y!==V&&te(s,r,m,y,c,V)}r=x,l=T,c=K,Q!=null?Vi(s,!!l,Q,!1):!!c!=!!l&&(r!=null?Vi(s,!!l,r,!0):Vi(s,!!l,l?[]:"",!1));return;case"textarea":K=Q=null;for(x in l)if(m=l[x],l.hasOwnProperty(x)&&m!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:te(s,r,x,null,c,m)}for(T in c)if(m=c[T],y=l[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":Q=m;break;case"defaultValue":K=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&te(s,r,T,m,c,y)}Zt(s,Q,K);return;case"option":for(var Tt in l)if(Q=l[Tt],l.hasOwnProperty(Tt)&&Q!=null&&!c.hasOwnProperty(Tt))switch(Tt){case"selected":s.selected=!1;break;default:te(s,r,Tt,null,c,Q)}for(V in c)if(Q=c[V],K=l[V],c.hasOwnProperty(V)&&Q!==K&&(Q!=null||K!=null))switch(V){case"selected":s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:te(s,r,V,Q,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in l)Q=l[_t],l.hasOwnProperty(_t)&&Q!=null&&!c.hasOwnProperty(_t)&&te(s,r,_t,null,c,Q);for(Y in c)if(Q=c[Y],K=l[Y],c.hasOwnProperty(Y)&&Q!==K&&(Q!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:te(s,r,Y,Q,c,K)}return;default:if(Fo(r)){for(var ee in l)Q=l[ee],l.hasOwnProperty(ee)&&Q!==void 0&&!c.hasOwnProperty(ee)&&og(s,r,ee,void 0,c,Q);for(Z in c)Q=c[Z],K=l[Z],!c.hasOwnProperty(Z)||Q===K||Q===void 0&&K===void 0||og(s,r,Z,Q,c,K);return}}for(var U in l)Q=l[U],l.hasOwnProperty(U)&&Q!=null&&!c.hasOwnProperty(U)&&te(s,r,U,null,c,Q);for(tt in c)Q=c[tt],K=l[tt],!c.hasOwnProperty(tt)||Q===K||Q==null&&K==null||te(s,r,tt,Q,c,K)}var lg=null,ug=null;function qc(s){return s.nodeType===9?s:s.ownerDocument}function f0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function cg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hg=null;function ZS(){var s=window.event;return s&&s.type==="popstate"?s===hg?!1:(hg=s,!0):(hg=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,tx=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(s){return m0.resolve(null).then(s).catch(ex)}:g0;function ex(s){setTimeout(function(){throw s})}function Is(s){return s==="head"}function p0(s,r){var l=r,c=0,m=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&Ml(T.documentElement),l&2&&Ml(T.body),l&4)for(l=T.head,Ml(l),T=l.firstChild;T;){var x=T.nextSibling,V=T.nodeName;T[ma]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=x}}if(m===0){s.removeChild(y),Pl(r);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Pl(r)}function fg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fg(l),ds(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function nx(s,r,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[ma])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Jn(s.nextSibling),s===null)break}return null}function ix(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Jn(s.nextSibling),s===null))return null;return s}function dg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function sx(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Jn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var gg=null;function y0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function _0(s,r,l){switch(r=qc(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ml(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);ds(s)}var Gn=new Map,v0=new Set;function Yc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ji=it.d;it.d={f:ax,r:rx,D:ox,C:lx,L:ux,m:cx,X:fx,S:hx,M:dx};function ax(){var s=Ji.f(),r=Pc();return s||r}function rx(s){var r=ai(s);r!==null&&r.tag===5&&r.type==="form"?By(r):Ji.r(s)}var Zr=typeof document>"u"?null:document;function b0(s,r,l){var c=Zr;if(c&&typeof r=="string"&&r){var m=Re(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),v0.has(m)||(v0.add(m),s={rel:s,crossOrigin:l,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),$e(r,"link",s),ve(r),c.head.appendChild(r)))}}function ox(s){Ji.D(s),b0("dns-prefetch",s,null)}function lx(s,r){Ji.C(s,r),b0("preconnect",s,r)}function ux(s,r,l){Ji.L(s,r,l);var c=Zr;if(c&&s&&r){var m='link[rel="preload"][as="'+Re(r)+'"]';r==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Re(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Re(l.imageSizes)+'"]')):m+='[href="'+Re(s)+'"]';var y=m;switch(r){case"style":y=Jr(s);break;case"script":y=to(s)}Gn.has(y)||(s=p({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Gn.set(y,s),c.querySelector(m)!==null||r==="style"&&c.querySelector(Dl(y))||r==="script"&&c.querySelector(Cl(y))||(r=c.createElement("link"),$e(r,"link",s),ve(r),c.head.appendChild(r)))}}function cx(s,r){Ji.m(s,r);var l=Zr;if(l&&s){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Re(c)+'"][href="'+Re(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=to(s)}if(!Gn.has(y)&&(s=p({rel:"modulepreload",href:s},r),Gn.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Cl(y)))return}c=l.createElement("link"),$e(c,"link",s),ve(c),l.head.appendChild(c)}}}function hx(s,r,l){Ji.S(s,r,l);var c=Zr;if(c&&s){var m=cn(c).hoistableStyles,y=Jr(s);r=r||"default";var T=m.get(y);if(!T){var x={loading:0,preload:null};if(T=c.querySelector(Dl(y)))x.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Gn.get(y))&&mg(s,l);var V=T=c.createElement("link");ve(V),$e(V,"link",s),V._p=new Promise(function(Y,Z){V.onload=Y,V.onerror=Z}),V.addEventListener("load",function(){x.loading|=1}),V.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Gc(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:x},m.set(y,T)}}}function fx(s,r){Ji.X(s,r);var l=Zr;if(l&&s){var c=cn(l).hoistableScripts,m=to(s),y=c.get(m);y||(y=l.querySelector(Cl(m)),y||(s=p({src:s,async:!0},r),(r=Gn.get(m))&&pg(s,r),y=l.createElement("script"),ve(y),$e(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function dx(s,r){Ji.M(s,r);var l=Zr;if(l&&s){var c=cn(l).hoistableScripts,m=to(s),y=c.get(m);y||(y=l.querySelector(Cl(m)),y||(s=p({src:s,async:!0,type:"module"},r),(r=Gn.get(m))&&pg(s,r),y=l.createElement("script"),ve(y),$e(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function E0(s,r,l,c){var m=(m=yt.current)?Yc(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Jr(l.href),l=cn(m).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Jr(l.href);var y=cn(m).hoistableStyles,T=y.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=m.querySelector(Dl(s)))&&!y._p&&(T.instance=y,T.state.loading=5),Gn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gn.set(s,l),y||gx(m,s,l,T.state))),r&&c===null)throw Error(i(528,""));return T}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(l),l=cn(m).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Jr(s){return'href="'+Re(s)+'"'}function Dl(s){return'link[rel="stylesheet"]['+s+"]"}function T0(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function gx(s,r,l,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),$e(r,"link",l),ve(r),s.head.appendChild(r))}function to(s){return'[src="'+Re(s)+'"]'}function Cl(s){return"script[async]"+s}function S0(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+Re(l.href)+'"]');if(c)return r.instance=c,ve(c),c;var m=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ve(c),$e(c,"style",m),Gc(c,l.precedence,s),r.instance=c;case"stylesheet":m=Jr(l.href);var y=s.querySelector(Dl(m));if(y)return r.state.loading|=4,r.instance=y,ve(y),y;c=T0(l),(m=Gn.get(m))&&mg(c,m),y=(s.ownerDocument||s).createElement("link"),ve(y);var T=y;return T._p=new Promise(function(x,V){T.onload=x,T.onerror=V}),$e(y,"link",c),r.state.loading|=4,Gc(y,l.precedence,s),r.instance=y;case"script":return y=to(l.src),(m=s.querySelector(Cl(y)))?(r.instance=m,ve(m),m):(c=l,(m=Gn.get(y))&&(c=p({},l),pg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),ve(m),$e(m,"link",c),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Gc(c,l.precedence,s));return r.instance}function Gc(s,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var x=c[T];if(x.dataset.precedence===r)y=x;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function mg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function pg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Qc=null;function x0(s,r,l){if(Qc===null){var c=new Map,m=Qc=new Map;m.set(l,c)}else m=Qc,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[ma]||y[Oe]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(r)||"";T=s+T;var x=c.get(T);x?x.push(y):c.set(T,[y])}}return c}function A0(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function mx(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function w0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ol=null;function px(){}function yx(s,r,l){if(Ol===null)throw Error(i(475));var c=Ol;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Jr(l.href),y=s.querySelector(Dl(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Xc.bind(c),s.then(c,c)),r.state.loading|=4,r.instance=y,ve(y);return}y=s.ownerDocument||s,l=T0(l),(m=Gn.get(m))&&mg(l,m),y=y.createElement("link"),ve(y);var T=y;T._p=new Promise(function(x,V){T.onload=x,T.onerror=V}),$e(y,"link",l),r.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Xc.bind(c),s.addEventListener("load",r),s.addEventListener("error",r))}}function _x(){if(Ol===null)throw Error(i(475));var s=Ol;return s.stylesheets&&s.count===0&&yg(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&yg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Xc(){if(this.count--,this.count===0){if(this.stylesheets)yg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Kc=null;function yg(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Kc=new Map,r.forEach(vx,s),Kc=null,Xc.call(s))}function vx(s,r){if(!(r.state.loading&4)){var l=Kc.get(s);if(l)var c=l.get(null);else{l=new Map,Kc.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=r.instance,T=m.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,m),l.set(T,m),this.count++,c=Xc.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Il={$$typeof:X,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function bx(s,r,l,c,m,y,T,x){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function R0(s,r,l,c,m,y,T,x,V,Y,Z,tt){return s=new bx(s,r,l,T,x,V,Y,tt),r=1,y===!0&&(r|=24),y=wn(3,null,null,r),s.current=y,y.stateNode=s,r=Zf(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:r},nd(y),s}function M0(s){return s?(s=Or,s):Or}function D0(s,r,l,c,m,y){m=M0(m),c.context===null?c.context=m:c.pendingContext=m,c=vs(r),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=bs(s,c,r),l!==null&&(On(l,s,r),ll(l,s,r))}function C0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function _g(s,r){C0(s,r),(s=s.alternate)&&C0(s,r)}function O0(s){if(s.tag===13){var r=Cr(s,67108864);r!==null&&On(r,s,67108864),_g(s,67108864)}}var Wc=!0;function Ex(s,r,l,c){var m=j.T;j.T=null;var y=it.p;try{it.p=2,vg(s,r,l,c)}finally{it.p=y,j.T=m}}function Tx(s,r,l,c){var m=j.T;j.T=null;var y=it.p;try{it.p=8,vg(s,r,l,c)}finally{it.p=y,j.T=m}}function vg(s,r,l,c){if(Wc){var m=bg(c);if(m===null)rg(s,r,c,$c,l),k0(s,c);else if(xx(m,s,r,l,c))c.stopPropagation();else if(k0(s,c),r&4&&-1<Sx.indexOf(s)){for(;m!==null;){var y=ai(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Xn(y.pendingLanes);if(T!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var V=1<<31-tn(T);x.entanglements[1]|=V,T&=~V}vi(y),(Xt&6)===0&&(Vc=Vn()+500,Al(0))}}break;case 13:x=Cr(y,2),x!==null&&On(x,y,2),Pc(),_g(y,2)}if(y=bg(c),y===null&&rg(s,r,c,$c,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else rg(s,r,c,null,l)}}function bg(s){return s=Ln(s),Eg(s)}var $c=null;function Eg(s){if($c=null,s=Oi(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return $c=s,null}function I0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xf()){case Co:return 2;case ur:return 8;case ca:case Af:return 32;case cr:return 268435456;default:return 32}default:return 32}}var Tg=!1,ks=null,Vs=null,Ns=null,kl=new Map,Vl=new Map,Ps=[],Sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(s,r){switch(s){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(r.pointerId)}}function Nl(s,r,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},r!==null&&(r=ai(r),r!==null&&O0(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function xx(s,r,l,c,m){switch(r){case"focusin":return ks=Nl(ks,s,r,l,c,m),!0;case"dragenter":return Vs=Nl(Vs,s,r,l,c,m),!0;case"mouseover":return Ns=Nl(Ns,s,r,l,c,m),!0;case"pointerover":var y=m.pointerId;return kl.set(y,Nl(kl.get(y)||null,s,r,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Vl.set(y,Nl(Vl.get(y)||null,s,r,l,c,m)),!0}return!1}function V0(s){var r=Oi(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,Pu(s.priority,function(){if(l.tag===13){var c=Cn();c=cs(c);var m=Cr(l,c);m!==null&&On(m,l,c),_g(l,c)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zc(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=bg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Ni=c,l.target.dispatchEvent(c),Ni=null}else return r=ai(l),r!==null&&O0(r),s.blockedOn=l,!1;r.shift()}return!0}function N0(s,r,l){Zc(s)&&l.delete(r)}function Ax(){Tg=!1,ks!==null&&Zc(ks)&&(ks=null),Vs!==null&&Zc(Vs)&&(Vs=null),Ns!==null&&Zc(Ns)&&(Ns=null),kl.forEach(N0),Vl.forEach(N0)}function Jc(s,r){s.blockedOn===r&&(s.blockedOn=null,Tg||(Tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ax)))}var th=null;function P0(s){th!==s&&(th=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){th===s&&(th=null);for(var r=0;r<s.length;r+=3){var l=s[r],c=s[r+1],m=s[r+2];if(typeof c!="function"){if(Eg(c||l)===null)continue;break}var y=ai(l);y!==null&&(s.splice(r,3),r-=3,Ed(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Pl(s){function r(V){return Jc(V,s)}ks!==null&&Jc(ks,s),Vs!==null&&Jc(Vs,s),Ns!==null&&Jc(Ns,s),kl.forEach(r),Vl.forEach(r);for(var l=0;l<Ps.length;l++){var c=Ps[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ps.length&&(l=Ps[0],l.blockedOn===null);)V0(l),l.blockedOn===null&&Ps.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],T=m[we]||null;if(typeof y=="function")T||P0(l);else if(T){var x=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[we]||null)x=T.formAction;else if(Eg(m)!==null)continue}else x=T.action;typeof x=="function"?l[c+1]=x:(l.splice(c,3),c-=3),P0(l)}}}function Sg(s){this._internalRoot=s}eh.prototype.render=Sg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=Cn();D0(l,c,s,r,null,null)},eh.prototype.unmount=Sg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;D0(s.current,2,null,s,null,null),Pc(),r[Nn]=null}};function eh(s){this._internalRoot=s}eh.prototype.unstable_scheduleHydration=function(s){if(s){var r=hs();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Ps.length&&r!==0&&r<Ps[l].priority;l++);Ps.splice(l,0,s),l===0&&V0(s)}};var L0=t.version;if(L0!=="19.1.0")throw Error(i(527,L0,"19.1.0"));it.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(r),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var wx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{ge=nh.inject(wx),Qt=nh}catch{}}return zl.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,c="",m=Jy,y=t_,T=e_,x=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(x=r.unstable_transitionCallbacks)),r=R0(s,1,!1,null,null,l,c,m,y,T,x,null),s[Nn]=r.current,ag(s),new Sg(r)},zl.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var c=!1,m="",y=Jy,T=t_,x=e_,V=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(V=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),r=R0(s,1,!0,r,l??null,c,m,y,T,x,V,Y),r.context=M0(null),l=r.current,c=Cn(),c=cs(c),m=vs(c),m.callback=null,bs(l,m,c),l=c,r.current.lanes=l,Ci(r,l),vi(r),s[Nn]=r.current,ag(s),new eh(r)},zl.version="19.1.0",zl}var Q0;function Bx(){if(Q0)return wg.exports;Q0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wg.exports=zx(),wg.exports}var Ux=Bx();const Hx=()=>{};var X0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},jx=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],u=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return t.join("")},N1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,p=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;f||(S=64,u||(b=64)),i.push(e[p],e[v],e[b],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(V1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):jx(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||g==null||v==null)throw new Fx;const b=o<<2|h>>4;if(i.push(b),g!==64){const S=h<<4&240|g>>2;if(i.push(S),v!==64){const A=g<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Fx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qx=function(n){const t=V1(n);return N1.encodeByteArray(t,!0)},Ph=function(n){return qx(n).replace(/\./g,"")},Yx=function(n){try{return N1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=()=>Gx().__FIREBASE_DEFAULTS__,Xx=()=>{if(typeof process>"u"||typeof X0>"u")return;const n=X0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Kx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Yx(n[1]);return t&&JSON.parse(t)},Hm=()=>{try{return Hx()||Qx()||Xx()||Kx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Wx=n=>{var t,e;return(e=(t=Hm())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},$x=n=>{const t=Wx(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},P1=()=>{var n;return(n=Hm())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(n){return n.endsWith(".cloudworkstations.dev")}async function Jx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ph(JSON.stringify(e)),Ph(JSON.stringify(u)),""].join(".")}const eu={};function eA(){const n={prod:[],emulator:[]};for(const t of Object.keys(eu))eu[t]?n.emulator.push(t):n.prod.push(t);return n}function nA(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let K0=!1;function L1(n,t){if(typeof window>"u"||typeof document>"u"||!jm(window.location.host)||eu[n]===t||eu[n]||K0)return;eu[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=eA().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{K0=!0,u()},b}function p(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=nA(i),S=e("text"),A=document.getElementById(S)||document.createElement("span"),M=e("learnmore"),C=document.getElementById(M)||document.createElement("a"),B=e("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;h(X),p(C,M);const $=g();f(H,B),X.append(H,A,C,$),document.body.appendChild(X)}o?(A.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){var n;const t=(n=Hm())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return!sA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var o;t(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="FirebaseError";class xo extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=lA,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z1.prototype.create)}}class z1{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],u=o?uA(o,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new xo(a,h,i)}}function uA(n,t){return n.replace(cA,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const cA=/\{\$([^}]+)}/g;function Lh(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],u=t[a];if(W0(o)&&W0(u)){if(!Lh(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function W0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){return n&&n._delegate?n._delegate:n}class fu{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Zx;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gA(t))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=Xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xa){return this.instances.has(t)}getOptions(t=Xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(a)}return a}onInit(t,e){var i;const a=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dA(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Xa){return this.component?this.component.multipleInstances?t:Xa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dA(n){return n===Xa?void 0:n}function gA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new fA(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const pA={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},yA=Ht.INFO,_A={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},vA=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=_A[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class B1{constructor(t){this.name=t,this._logLevel=yA,this._logHandler=vA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const bA=(n,t)=>t.some(e=>n instanceof e);let $0,Z0;function EA(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TA(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U1=new WeakMap,tm=new WeakMap,H1=new WeakMap,Cg=new WeakMap,Fm=new WeakMap;function SA(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(Qs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&U1.set(e,n)}).catch(()=>{}),Fm.set(t,n),t}function xA(n){if(tm.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});tm.set(n,t)}let em={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return tm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||H1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Qs(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function AA(n){em=n(em)}function wA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Og(this),t,...e);return H1.set(i,t.sort?t.sort():[t]),Qs(i)}:TA().includes(n)?function(...t){return n.apply(Og(this),t),Qs(U1.get(this))}:function(...t){return Qs(n.apply(Og(this),t))}}function RA(n){return typeof n=="function"?wA(n):(n instanceof IDBTransaction&&xA(n),bA(n,EA())?new Proxy(n,em):n)}function Qs(n){if(n instanceof IDBRequest)return SA(n);if(Cg.has(n))return Cg.get(n);const t=RA(n);return t!==n&&(Cg.set(n,t),Fm.set(t,n)),t}const Og=n=>Fm.get(n);function MA(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(n,t),h=Qs(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Qs(u.result),f.oldVersion,f.newVersion,Qs(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const DA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Ig=new Map;function J0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ig.get(t))return Ig.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=CA.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||DA.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),a&&f.done]))[0]};return Ig.set(t,o),o}AA(n=>({...n,get:(t,e,i)=>J0(t,e)||n.get(t,e,i),has:(t,e)=>!!J0(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(IA(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function IA(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nm="@firebase/app",tv="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new B1("@firebase/app"),kA="@firebase/app-compat",VA="@firebase/analytics-compat",NA="@firebase/analytics",PA="@firebase/app-check-compat",LA="@firebase/app-check",zA="@firebase/auth",BA="@firebase/auth-compat",UA="@firebase/database",HA="@firebase/data-connect",jA="@firebase/database-compat",FA="@firebase/functions",qA="@firebase/functions-compat",YA="@firebase/installations",GA="@firebase/installations-compat",QA="@firebase/messaging",XA="@firebase/messaging-compat",KA="@firebase/performance",WA="@firebase/performance-compat",$A="@firebase/remote-config",ZA="@firebase/remote-config-compat",JA="@firebase/storage",tw="@firebase/storage-compat",ew="@firebase/firestore",nw="@firebase/vertexai",iw="@firebase/firestore-compat",sw="firebase",aw="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",rw={[nm]:"fire-core",[kA]:"fire-core-compat",[NA]:"fire-analytics",[VA]:"fire-analytics-compat",[LA]:"fire-app-check",[PA]:"fire-app-check-compat",[zA]:"fire-auth",[BA]:"fire-auth-compat",[UA]:"fire-rtdb",[HA]:"fire-data-connect",[jA]:"fire-rtdb-compat",[FA]:"fire-fn",[qA]:"fire-fn-compat",[YA]:"fire-iid",[GA]:"fire-iid-compat",[QA]:"fire-fcm",[XA]:"fire-fcm-compat",[KA]:"fire-perf",[WA]:"fire-perf-compat",[$A]:"fire-rc",[ZA]:"fire-rc-compat",[JA]:"fire-gcs",[tw]:"fire-gcs-compat",[ew]:"fire-fst",[iw]:"fire-fst-compat",[nw]:"fire-vertex","fire-js":"fire-js",[sw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Map,ow=new Map,sm=new Map;function ev(n,t){try{n.container.addComponent(t)}catch(e){os.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Bh(n){const t=n.name;if(sm.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,n);for(const e of zh.values())ev(e,n);for(const e of ow.values())ev(e,n);return!0}function lw(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function uw(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new z1("app","Firebase",cw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=aw;function j1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:im,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw Xs.create("bad-app-name",{appName:String(a)});if(e||(e=P1()),!e)throw Xs.create("no-options");const o=zh.get(a);if(o){if(Lh(e,o.options)&&Lh(i,o.config))return o;throw Xs.create("duplicate-app",{appName:a})}const u=new mA(a);for(const f of sm.values())u.addComponent(f);const h=new hw(e,i,u);return zh.set(a,h),h}function dw(n=im){const t=zh.get(n);if(!t&&n===im&&P1())return j1();if(!t)throw Xs.create("no-app",{appName:n});return t}function lo(n,t,e){var i;let a=(i=rw[n])!==null&&i!==void 0?i:n;e&&(a+=`-${e}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${t}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(h.join(" "));return}Bh(new fu(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firebase-heartbeat-database",mw=1,du="firebase-heartbeat-store";let kg=null;function F1(){return kg||(kg=MA(gw,mw,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(du)}catch(e){console.warn(e)}}}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),kg}async function pw(n){try{const e=(await F1()).transaction(du),i=await e.objectStore(du).get(q1(n));return await e.done,i}catch(t){if(t instanceof xo)os.warn(t.message);else{const e=Xs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});os.warn(e.message)}}}async function nv(n,t){try{const i=(await F1()).transaction(du,"readwrite");await i.objectStore(du).put(t,q1(n)),await i.done}catch(e){if(e instanceof xo)os.warn(e.message);else{const i=Xs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});os.warn(i.message)}}}function q1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=1024,_w=30;class vw{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Ew(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>_w){const u=Tw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){os.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iv(),{heartbeatsToSend:i,unsentEntries:a}=bw(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function iv(){return new Date().toISOString().substring(0,10)}function bw(n,t=yw){const e=[];let i=n.slice();for(const a of n){const o=e.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),sv(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),sv(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class Ew{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await pw(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function sv(n){return Ph(JSON.stringify({version:2,heartbeats:n})).length}function Tw(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n){Bh(new fu("platform-logger",t=>new OA(t),"PRIVATE")),Bh(new fu("heartbeat",t=>new vw(t),"PRIVATE")),lo(nm,tv,n),lo(nm,tv,"esm2017"),lo("fire-js","")}Sw("");var xw="firebase",Aw="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(xw,Aw,"app");var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,Y1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function O(){}O.prototype=w.prototype,I.D=w.prototype,I.prototype=new O,I.prototype.constructor=I,I.C=function(k,N,L){for(var D=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)D[ft-2]=arguments[ft];return w.prototype[N].apply(k,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,w,O){O||(O=0);var k=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)k[N]=w.charCodeAt(O++)|w.charCodeAt(O++)<<8|w.charCodeAt(O++)<<16|w.charCodeAt(O++)<<24;else for(N=0;16>N;++N)k[N]=w[O++]|w[O++]<<8|w[O++]<<16|w[O++]<<24;w=I.g[0],O=I.g[1],N=I.g[2];var L=I.g[3],D=w+(L^O&(N^L))+k[0]+3614090360&4294967295;w=O+(D<<7&4294967295|D>>>25),D=L+(N^w&(O^N))+k[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=N+(O^L&(w^O))+k[2]+606105819&4294967295,N=L+(D<<17&4294967295|D>>>15),D=O+(w^N&(L^w))+k[3]+3250441966&4294967295,O=N+(D<<22&4294967295|D>>>10),D=w+(L^O&(N^L))+k[4]+4118548399&4294967295,w=O+(D<<7&4294967295|D>>>25),D=L+(N^w&(O^N))+k[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=N+(O^L&(w^O))+k[6]+2821735955&4294967295,N=L+(D<<17&4294967295|D>>>15),D=O+(w^N&(L^w))+k[7]+4249261313&4294967295,O=N+(D<<22&4294967295|D>>>10),D=w+(L^O&(N^L))+k[8]+1770035416&4294967295,w=O+(D<<7&4294967295|D>>>25),D=L+(N^w&(O^N))+k[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=N+(O^L&(w^O))+k[10]+4294925233&4294967295,N=L+(D<<17&4294967295|D>>>15),D=O+(w^N&(L^w))+k[11]+2304563134&4294967295,O=N+(D<<22&4294967295|D>>>10),D=w+(L^O&(N^L))+k[12]+1804603682&4294967295,w=O+(D<<7&4294967295|D>>>25),D=L+(N^w&(O^N))+k[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=N+(O^L&(w^O))+k[14]+2792965006&4294967295,N=L+(D<<17&4294967295|D>>>15),D=O+(w^N&(L^w))+k[15]+1236535329&4294967295,O=N+(D<<22&4294967295|D>>>10),D=w+(N^L&(O^N))+k[1]+4129170786&4294967295,w=O+(D<<5&4294967295|D>>>27),D=L+(O^N&(w^O))+k[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=N+(w^O&(L^w))+k[11]+643717713&4294967295,N=L+(D<<14&4294967295|D>>>18),D=O+(L^w&(N^L))+k[0]+3921069994&4294967295,O=N+(D<<20&4294967295|D>>>12),D=w+(N^L&(O^N))+k[5]+3593408605&4294967295,w=O+(D<<5&4294967295|D>>>27),D=L+(O^N&(w^O))+k[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=N+(w^O&(L^w))+k[15]+3634488961&4294967295,N=L+(D<<14&4294967295|D>>>18),D=O+(L^w&(N^L))+k[4]+3889429448&4294967295,O=N+(D<<20&4294967295|D>>>12),D=w+(N^L&(O^N))+k[9]+568446438&4294967295,w=O+(D<<5&4294967295|D>>>27),D=L+(O^N&(w^O))+k[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=N+(w^O&(L^w))+k[3]+4107603335&4294967295,N=L+(D<<14&4294967295|D>>>18),D=O+(L^w&(N^L))+k[8]+1163531501&4294967295,O=N+(D<<20&4294967295|D>>>12),D=w+(N^L&(O^N))+k[13]+2850285829&4294967295,w=O+(D<<5&4294967295|D>>>27),D=L+(O^N&(w^O))+k[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=N+(w^O&(L^w))+k[7]+1735328473&4294967295,N=L+(D<<14&4294967295|D>>>18),D=O+(L^w&(N^L))+k[12]+2368359562&4294967295,O=N+(D<<20&4294967295|D>>>12),D=w+(O^N^L)+k[5]+4294588738&4294967295,w=O+(D<<4&4294967295|D>>>28),D=L+(w^O^N)+k[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=N+(L^w^O)+k[11]+1839030562&4294967295,N=L+(D<<16&4294967295|D>>>16),D=O+(N^L^w)+k[14]+4259657740&4294967295,O=N+(D<<23&4294967295|D>>>9),D=w+(O^N^L)+k[1]+2763975236&4294967295,w=O+(D<<4&4294967295|D>>>28),D=L+(w^O^N)+k[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=N+(L^w^O)+k[7]+4139469664&4294967295,N=L+(D<<16&4294967295|D>>>16),D=O+(N^L^w)+k[10]+3200236656&4294967295,O=N+(D<<23&4294967295|D>>>9),D=w+(O^N^L)+k[13]+681279174&4294967295,w=O+(D<<4&4294967295|D>>>28),D=L+(w^O^N)+k[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=N+(L^w^O)+k[3]+3572445317&4294967295,N=L+(D<<16&4294967295|D>>>16),D=O+(N^L^w)+k[6]+76029189&4294967295,O=N+(D<<23&4294967295|D>>>9),D=w+(O^N^L)+k[9]+3654602809&4294967295,w=O+(D<<4&4294967295|D>>>28),D=L+(w^O^N)+k[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=N+(L^w^O)+k[15]+530742520&4294967295,N=L+(D<<16&4294967295|D>>>16),D=O+(N^L^w)+k[2]+3299628645&4294967295,O=N+(D<<23&4294967295|D>>>9),D=w+(N^(O|~L))+k[0]+4096336452&4294967295,w=O+(D<<6&4294967295|D>>>26),D=L+(O^(w|~N))+k[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=N+(w^(L|~O))+k[14]+2878612391&4294967295,N=L+(D<<15&4294967295|D>>>17),D=O+(L^(N|~w))+k[5]+4237533241&4294967295,O=N+(D<<21&4294967295|D>>>11),D=w+(N^(O|~L))+k[12]+1700485571&4294967295,w=O+(D<<6&4294967295|D>>>26),D=L+(O^(w|~N))+k[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=N+(w^(L|~O))+k[10]+4293915773&4294967295,N=L+(D<<15&4294967295|D>>>17),D=O+(L^(N|~w))+k[1]+2240044497&4294967295,O=N+(D<<21&4294967295|D>>>11),D=w+(N^(O|~L))+k[8]+1873313359&4294967295,w=O+(D<<6&4294967295|D>>>26),D=L+(O^(w|~N))+k[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=N+(w^(L|~O))+k[6]+2734768916&4294967295,N=L+(D<<15&4294967295|D>>>17),D=O+(L^(N|~w))+k[13]+1309151649&4294967295,O=N+(D<<21&4294967295|D>>>11),D=w+(N^(O|~L))+k[4]+4149444226&4294967295,w=O+(D<<6&4294967295|D>>>26),D=L+(O^(w|~N))+k[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=N+(w^(L|~O))+k[2]+718787259&4294967295,N=L+(D<<15&4294967295|D>>>17),D=O+(L^(N|~w))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+L&4294967295}i.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var O=w-this.blockSize,k=this.B,N=this.h,L=0;L<w;){if(N==0)for(;L<=O;)a(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<w;)if(k[N++]=I.charCodeAt(L++),N==this.blockSize){a(this,k),N=0;break}}else for(;L<w;)if(k[N++]=I[L++],N==this.blockSize){a(this,k),N=0;break}}this.h=N,this.o+=w},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var O=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=O&255,O/=256;for(this.u(I),I=Array(16),w=O=0;4>w;++w)for(var k=0;32>k;k+=8)I[O++]=this.g[w]>>>k&255;return I};function o(I,w){var O=h;return Object.prototype.hasOwnProperty.call(O,I)?O[I]:O[I]=w(I)}function u(I,w){this.h=w;for(var O=[],k=!0,N=I.length-1;0<=N;N--){var L=I[N]|0;k&&L==w||(O[N]=L,k=!1)}this.g=O}var h={};function f(I){return-128<=I&&128>I?o(I,function(w){return new u([w|0],0>w?-1:0)}):new u([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return v;if(0>I)return C(g(-I));for(var w=[],O=1,k=0;I>=O;k++)w[k]=I/O|0,O*=4294967296;return new u(w,0)}function p(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return C(p(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(w,8)),k=v,N=0;N<I.length;N+=8){var L=Math.min(8,I.length-N),D=parseInt(I.substring(N,N+L),w);8>L?(L=g(Math.pow(w,L)),k=k.j(L).add(g(D))):(k=k.j(O),k=k.add(g(D)))}return k}var v=f(0),b=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-C(this).m();for(var I=0,w=1,O=0;O<this.g.length;O++){var k=this.i(O);I+=(0<=k?k:4294967296+k)*w,w*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(M(this))return"-"+C(this).toString(I);for(var w=g(Math.pow(I,6)),O=this,k="";;){var N=$(O,w).g;O=B(O,N.j(w));var L=((0<O.g.length?O.g[0]:O.h)>>>0).toString(I);if(O=N,A(O))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=B(this,I),M(I)?-1:A(I)?0:1};function C(I){for(var w=I.g.length,O=[],k=0;k<w;k++)O[k]=~I.g[k];return new u(O,~I.h).add(b)}n.abs=function(){return M(this)?C(this):this},n.add=function(I){for(var w=Math.max(this.g.length,I.g.length),O=[],k=0,N=0;N<=w;N++){var L=k+(this.i(N)&65535)+(I.i(N)&65535),D=(L>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);k=D>>>16,L&=65535,D&=65535,O[N]=D<<16|L}return new u(O,O[O.length-1]&-2147483648?-1:0)};function B(I,w){return I.add(C(w))}n.j=function(I){if(A(this)||A(I))return v;if(M(this))return M(I)?C(this).j(C(I)):C(C(this).j(I));if(M(I))return C(this.j(C(I)));if(0>this.l(S)&&0>I.l(S))return g(this.m()*I.m());for(var w=this.g.length+I.g.length,O=[],k=0;k<2*w;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<I.g.length;N++){var L=this.i(k)>>>16,D=this.i(k)&65535,ft=I.i(N)>>>16,ht=I.i(N)&65535;O[2*k+2*N]+=D*ht,H(O,2*k+2*N),O[2*k+2*N+1]+=L*ht,H(O,2*k+2*N+1),O[2*k+2*N+1]+=D*ft,H(O,2*k+2*N+1),O[2*k+2*N+2]+=L*ft,H(O,2*k+2*N+2)}for(k=0;k<w;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=w;k<2*w;k++)O[k]=0;return new u(O,0)};function H(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function X(I,w){this.g=I,this.h=w}function $(I,w){if(A(w))throw Error("division by zero");if(A(I))return new X(v,v);if(M(I))return w=$(C(I),w),new X(C(w.g),C(w.h));if(M(w))return w=$(I,C(w)),new X(C(w.g),w.h);if(30<I.g.length){if(M(I)||M(w))throw Error("slowDivide_ only works with positive integers.");for(var O=b,k=w;0>=k.l(I);)O=G(O),k=G(k);var N=et(O,1),L=et(k,1);for(k=et(k,2),O=et(O,2);!A(k);){var D=L.add(k);0>=D.l(I)&&(N=N.add(O),L=D),k=et(k,1),O=et(O,1)}return w=B(I,N.j(w)),new X(N,w)}for(N=v;0<=I.l(w);){for(O=Math.max(1,Math.floor(I.m()/w.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=g(O),D=L.j(w);M(D)||0<D.l(I);)O-=k,L=g(O),D=L.j(w);A(L)&&(L=b),N=N.add(L),I=B(I,D)}return new X(N,I)}n.A=function(I){return $(this,I).h},n.and=function(I){for(var w=Math.max(this.g.length,I.g.length),O=[],k=0;k<w;k++)O[k]=this.i(k)&I.i(k);return new u(O,this.h&I.h)},n.or=function(I){for(var w=Math.max(this.g.length,I.g.length),O=[],k=0;k<w;k++)O[k]=this.i(k)|I.i(k);return new u(O,this.h|I.h)},n.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),O=[],k=0;k<w;k++)O[k]=this.i(k)^I.i(k);return new u(O,this.h^I.h)};function G(I){for(var w=I.g.length+1,O=[],k=0;k<w;k++)O[k]=I.i(k)<<1|I.i(k-1)>>>31;return new u(O,I.h)}function et(I,w){var O=w>>5;w%=32;for(var k=I.g.length-O,N=[],L=0;L<k;L++)N[L]=0<w?I.i(L+O)>>>w|I.i(L+O+1)<<32-w:I.i(L+O);return new u(N,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Y1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=p,Ks=u}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G1,Gl,Q1,Sh,am,X1,K1,W1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(d,_){if(_)t:{var E=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var F=d[R];if(!(F in E))break t;E=E[F]}d=d[d.length-1],R=E[d],_=_(R),_!=R&&_!=null&&t(E,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var E=0,R=!1,F={next:function(){if(!R&&E<d.length){var W=E++;return{value:_(W,d[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(d){return d||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function p(d,_,E){return d.call.apply(d.bind,arguments)}function v(d,_,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),d.apply(_,F)}}return function(){return d.apply(_,arguments)}}function b(d,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,b.apply(null,arguments)}function S(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function A(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,F,W){for(var rt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)rt[Lt-2]=arguments[Lt];return _.prototype[F].apply(R,rt)}}function M(d){const _=d.length;if(0<_){const E=Array(_);for(let R=0;R<_;R++)E[R]=d[R];return E}return[]}function C(d,_){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(f(R)){const F=d.length||0,W=R.length||0;d.length=F+W;for(let rt=0;rt<W;rt++)d[F+rt]=R[rt]}else d.push(R)}}class B{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function H(d){return/^[\s\xa0]*$/.test(d)}function X(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var G=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function et(d,_,E){for(const R in d)_.call(E,d[R],R,d)}function I(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function w(d){const _={};for(const E in d)_[E]=d[E];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,_){let E,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(E in R)d[E]=R[E];for(let W=0;W<O.length;W++)E=O[W],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function N(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function L(d){h.setTimeout(()=>{throw d},0)}function D(){var d=vt;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ft{constructor(){this.h=this.g=null}add(_,E){const R=ht.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var ht=new B(()=>new j,d=>d.reset());class j{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,vt=new ft,P=()=>{const d=h.Promise.resolve(void 0);it=()=>{d.then(st)}};var st=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){L(E)}var _=ht;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ct=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return d}();function At(d,_){if(at.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(G){t:{try{$(_.nodeName);var F=!0;break t}catch{}F=!1}F||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:yt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&At.aa.h.call(this)}}A(At,at);var yt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ii(d,_,E,R,F){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=F,this.key=++ie,this.da=this.fa=!1}function us(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Mi(d){this.src=d,this.g={},this.h=0}Mi.prototype.add=function(d,_,E,R,F){var W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);var rt=la(d,_,R,F);return-1<rt?(_=d[rt],E||(_.fa=!1)):(_=new ii(_,this.src,W,!!R,F),_.fa=E,d.push(_)),_};function oa(d,_){var E=_.type;if(E in d.g){var R=d.g[E],F=Array.prototype.indexOf.call(R,_,void 0),W;(W=0<=F)&&Array.prototype.splice.call(R,F,1),W&&(us(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function la(d,_,E,R){for(var F=0;F<d.length;++F){var W=d[F];if(!W.da&&W.listener==_&&W.capture==!!E&&W.ha==R)return F}return-1}var ua="closure_lm_"+(1e6*Math.random()|0),Do={};function ku(d,_,E,R,F){if(Array.isArray(_)){for(var W=0;W<_.length;W++)ku(d,_[W],E,R,F);return null}return E=Vu(E),d&&d[Be]?d.K(_,E,g(R)?!!R.capture:!1,F):Vn(d,_,E,!1,R,F)}function Vn(d,_,E,R,F,W){if(!_)throw Error("Invalid event type");var rt=g(F)?!!F.capture:!!F,Lt=cr(d);if(Lt||(d[ua]=Lt=new Mi(d)),E=Lt.add(_,E,R,rt,W),E.proxy)return E;if(R=xf(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)mt||(F=rt),F===void 0&&(F=!1),d.addEventListener(_.toString(),R,F);else if(d.attachEvent)d.attachEvent(ca(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function xf(){function d(E){return _.call(d.src,d.listener,E)}const _=Af;return d}function Co(d,_,E,R,F){if(Array.isArray(_))for(var W=0;W<_.length;W++)Co(d,_[W],E,R,F);else R=g(R)?!!R.capture:!!R,E=Vu(E),d&&d[Be]?(d=d.i,_=String(_).toString(),_ in d.g&&(W=d.g[_],E=la(W,E,R,F),-1<E&&(us(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete d.g[_],d.h--)))):d&&(d=cr(d))&&(_=d.g[_.toString()],d=-1,_&&(d=la(_,E,R,F)),(E=-1<d?_[d]:null)&&ur(E))}function ur(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Be])oa(_.i,d);else{var E=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(E,R,d.capture):_.detachEvent?_.detachEvent(ca(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=cr(_))?(oa(E,d),E.h==0&&(E.src=null,_[ua]=null)):us(d)}}}function ca(d){return d in Do?Do[d]:Do[d]="on"+d}function Af(d,_){if(d.da)d=!0;else{_=new At(_,this);var E=d.listener,R=d.ha||d.src;d.fa&&ur(d),d=E.call(R,_)}return d}function cr(d){return d=d[ua],d instanceof Mi?d:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vu(d){return typeof d=="function"?d:(d[Oo]||(d[Oo]=function(_){return d.handleEvent(_)}),d[Oo])}function ge(){ot.call(this),this.i=new Mi(this),this.M=this,this.F=null}A(ge,ot),ge.prototype[Be]=!0,ge.prototype.removeEventListener=function(d,_,E,R){Co(this,d,_,E,R)};function Qt(d,_){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new at(_,d);else if(_ instanceof at)_.target=_.target||d;else{var F=_;_=new at(R,d),k(_,F)}if(F=!0,E)for(var W=E.length-1;0<=W;W--){var rt=_.g=E[W];F=Sn(rt,R,!0,_)&&F}if(rt=_.g=d,F=Sn(rt,R,!0,_)&&F,F=Sn(rt,R,!1,_)&&F,E)for(W=0;W<E.length;W++)rt=_.g=E[W],F=Sn(rt,R,!1,_)&&F}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],R=0;R<E.length;R++)us(E[R]);delete d.g[_],d.h--}}this.F=null},ge.prototype.K=function(d,_,E,R){return this.i.add(String(d),_,!1,E,R)},ge.prototype.L=function(d,_,E,R){return this.i.add(String(d),_,!0,E,R)};function Sn(d,_,E,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var F=!0,W=0;W<_.length;++W){var rt=_[W];if(rt&&!rt.da&&rt.capture==E){var Lt=rt.listener,Ie=rt.ha||rt.src;rt.fa&&oa(d.i,rt),F=Lt.call(Ie,R)!==!1&&F}}return F&&!R.defaultPrevented}function tn(d,_,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function Nu(d){d.g=tn(()=>{d.g=null,d.i&&(d.i=!1,Nu(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class wf extends ot{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(d){ot.call(this),this.h=d,this.g={}}A(ha,ot);var fa=[];function da(d){et(d.g,function(_,E){this.g.hasOwnProperty(E)&&ur(_)},d),d.g={}}ha.prototype.N=function(){ha.aa.N.call(this),da(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=h.JSON.stringify,hr=h.JSON.parse,ga=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Io(){}Io.prototype.h=null;function ko(d){return d.h||(d.h=d.i())}function Vo(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){at.call(this,"d")}A(Ci,at);function No(){at.call(this,"c")}A(No,at);var si={},Po=null;function cs(){return Po=Po||new ge}si.La="serverreachability";function fr(d){at.call(this,si.La,d)}A(fr,at);function hs(d){const _=cs();Qt(_,new fr(_))}si.STAT_EVENT="statevent";function Pu(d,_){at.call(this,si.STAT_EVENT,d),this.stat=_}A(Pu,at);function le(d){const _=cs();Qt(_,new Pu(_,d))}si.Ma="timingevent";function Oe(d,_){at.call(this,si.Ma,d),this.size=_}A(Oe,at);function we(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function Lo(d,_,E,R,F,W){d.info(function(){if(d.g)if(W)for(var rt="",Lt=W.split("&"),Ie=0;Ie<Lt.length;Ie++){var zt=Lt[Ie].split("=");if(1<zt.length){var He=zt[0];zt=zt[1];var ke=He.split("_");rt=2<=ke.length&&ke[1]=="type"?rt+(He+"="+zt+"&"):rt+(He+"=redacted&")}}else rt=null;else rt=W;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+_+`
`+E+`
`+rt})}function Rf(d,_,E,R,F,W,rt){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+_+`
`+E+`
`+W+" "+rt})}function fs(d,_,E,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+ma(d,E)+(R?" "+R:"")})}function Lu(d,_){d.info(function(){return"TIMEOUT: "+_})}Nn.prototype.info=function(){};function ma(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var rt=1;rt<F.length;rt++)F[rt]=""}}}}return Xn(E)}catch{return _}}var ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ai;function ri(){}A(ri,Io),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},ai=new ri;function cn(d,_,E,R){this.j=d,this.i=_,this.l=E,this.R=R||1,this.U=new ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var zo={},dr={};function Kn(d,_,E){d.L=1,d.v=ba(xn(_)),d.m=E,d.P=!0,Ii(d,null)}function Ii(d,_){d.F=Date.now(),pa(d),d.A=xn(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),qo(E.i,"t",R),d.C=0,E=d.j.J,d.h=new ve,d.g=Ju(d.j,E?_:null,!d.m),0<d.O&&(d.M=new wf(b(d.Y,d,d.g),d.O)),_=d.U,E=d.g,R=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(fa[0]=F.toString()),F=fa);for(var W=0;W<F.length;W++){var rt=ku(E,F[W],R||_.handleEvent,!1,_.h||_);if(!rt)break;_.g[rt.key]=rt}_=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),hs(),Lo(d.i,d.u,d.A,d.l,d.R,d.m)}cn.prototype.ca=function(d){d=d.target;const _=this.M;_&&Bn(d)==3?_.j():this.Y(d)},cn.prototype.Y=function(d){try{if(d==this.g)t:{const ke=Bn(this.g);var _=this.g.Ba();const Ui=this.g.Z();if(!(3>ke)&&(ke!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||ke!=4||_==7||(_==8||0>=Ui?hs(3):hs(2)),gs(this);var E=this.g.Z();this.X=E;e:if(zu(this)){var R=Yu(this.g);d="";var F=R.length,W=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qe(this),oi(this);var rt="";break e}this.h.i=new h.TextDecoder}for(_=0;_<F;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(W&&_==F-1)});R.length=0,this.h.g+=d,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=E==200,Rf(this.i,this.u,this.A,this.l,this.R,ke,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ie=this.g;if((Lt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Lt)){var zt=Lt;break e}}zt=null}if(E=zt)fs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,E);else{this.o=!1,this.s=3,le(12),Qe(this),oi(this);break t}}if(this.P){E=!0;let Xe;for(;!this.J&&this.C<rt.length;)if(Xe=Bu(this,rt),Xe==dr){ke==4&&(this.s=4,le(14),E=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==zo){this.s=4,le(15),fs(this.i,this.l,rt,"[Invalid Chunk]"),E=!1;break}else fs(this.i,this.l,Xe,null),ya(this,Xe);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||rt.length!=0||this.h.h||(this.s=1,le(16),E=!1),this.o=this.o&&E,!E)fs(this.i,this.l,rt,"[Invalid Chunked Response]"),Qe(this),oi(this);else if(0<rt.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Ma(He),He.M=!0,le(11))}}else fs(this.i,this.l,rt,null),ya(this,rt);ke==4&&Qe(this),this.o&&!this.J&&(ke==4?Wu(this.j,this):(this.o=!1,pa(this)))}else If(this.g),E==400&&0<rt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Qe(this),oi(this)}}}catch{}finally{}};function zu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Bu(d,_){var E=d.C,R=_.indexOf(`
`,E);return R==-1?dr:(E=Number(_.substring(E,R)),isNaN(E)?zo:(R+=1,R+E>_.length?dr:(_=_.slice(R,R+E),d.C=R+E,_)))}cn.prototype.cancel=function(){this.J=!0,Qe(this)};function pa(d){d.S=Date.now()+d.I,Uu(d,d.I)}function Uu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=we(b(d.ba,d),_)}function gs(d){d.B&&(h.clearTimeout(d.B),d.B=null)}cn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Lu(this.i,this.A),this.L!=2&&(hs(),le(17)),Qe(this),this.s=2,oi(this)):Uu(this,this.S-d)};function oi(d){d.j.G==0||d.J||Wu(d.j,d)}function Qe(d){gs(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,da(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function ya(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||Bo(E.h,d))){if(!d.K&&Bo(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Ar(E),Sr(E);else break t;Ko(E),le(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=we(b(E.Za,E),6e3));if(1>=mr(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Bi(E,11)}else if((d.K||E.g==d)&&Ar(E),!H(_))for(F=E.Da.g.parse(_),_=0;_<F.length;_++){let zt=F[_];if(E.T=zt[0],zt=zt[1],E.G==2)if(zt[0]=="c"){E.K=zt[1],E.ia=zt[2];const He=zt[3];He!=null&&(E.la=He,E.j.info("VER="+E.la));const ke=zt[4];ke!=null&&(E.Aa=ke,E.j.info("SVER="+E.Aa));const Ui=zt[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(R=1.5*Ui,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Xe=d.g;if(Xe){const gi=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var W=R.h;W.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(pr(W,W.h),W.h=null))}if(R.D){const $o=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(R.ya=$o,Zt(R.I,R.D,$o))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var rt=d;if(R.qa=Zu(R,R.J?R.ia:null,R.W),rt.K){hn(R.h,rt);var Lt=rt,Ie=R.L;Ie&&(Lt.I=Ie),Lt.B&&(gs(Lt),pa(Lt)),R.g=rt}else Xu(R);0<E.i.length&&xr(E)}else zt[0]!="stop"&&zt[0]!="close"||Bi(E,7);else E.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Bi(E,7):Qo(E):zt[0]!="noop"&&E.l&&E.l.ta(zt),E.v=0)}}hs(4)}catch{}}var Hu=class{constructor(d,_){this.g=d,this.map=_}};function ki(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function mr(d){return d.h?1:d.g?d.g.size:0}function Bo(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function pr(d,_){d.g?d.g.add(_):d.h=_}function hn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ki.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Uo(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return M(d.i)}function Mf(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],E=d.length,R=0;R<E;R++)_.push(d[R]);return _}_=[],E=0;for(R in d)_[E++]=d[R];return _}function yr(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const R in d)_[E++]=R;return _}}}function Ho(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=yr(d),R=Mf(d),F=R.length,W=0;W<F;W++)_.call(void 0,R[W],E&&E[W],d)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Df(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),F=null;if(0<=R){var W=d[E].substring(0,R);F=d[E].substring(R+1)}else W=d[E];_(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Re(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Re){this.h=d.h,va(this,d.j),this.o=d.o,this.g=d.g,ms(this,d.s),this.l=d.l;var _=d.i,E=new Ni;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Vi(this,E),this.m=d.m}else d&&(_=String(d).match(_a))?(this.h=!1,va(this,_[1]||"",!0),this.o=Pn(_[2]||""),this.g=Pn(_[3]||"",!0),ms(this,_[4]),this.l=Pn(_[5]||"",!0),Vi(this,_[6]||"",!0),this.m=Pn(_[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}Re.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Ea(_,jo,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ea(_,jo,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ea(E,E.charAt(0)=="/"?Cf:Fo,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ea(E,_r)),d.join("")};function xn(d){return new Re(d)}function va(d,_,E){d.j=E?Pn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ms(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Vi(d,_,E){_ instanceof Ni?(d.i=_,Fu(d.i,d.h)):(E||(_=Ea(_,Of)),d.i=new Ni(_,d.h))}function Zt(d,_,E){d.i.set(_,E)}function ba(d){return Zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Pn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ea(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,ju),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ju(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var jo=/[#\/\?@]/g,Fo=/[#\?:]/g,Cf=/[#\?]/g,Of=/[#\?@]/g,_r=/#/g;function Ni(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Ln(d){d.g||(d.g=new Map,d.h=0,d.i&&Df(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Ni.prototype,n.add=function(d,_){Ln(this),this.i=null,d=li(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function Pi(d,_){Ln(d),_=li(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Li(d,_){return Ln(d),_=li(d,_),d.g.has(_)}n.forEach=function(d,_){Ln(this),this.g.forEach(function(E,R){E.forEach(function(F){d.call(_,F,R,this)},this)},this)},n.na=function(){Ln(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let R=0;R<_.length;R++){const F=d[R];for(let W=0;W<F.length;W++)E.push(_[R])}return E},n.V=function(d){Ln(this);let _=[];if(typeof d=="string")Li(this,d)&&(_=_.concat(this.g.get(li(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return Ln(this),this.i=null,d=li(this,d),Li(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function qo(d,_,E){Pi(d,_),0<E.length&&(d.i=null,d.g.set(li(d,_),M(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var R=_[E];const W=encodeURIComponent(String(R)),rt=this.V(R);for(R=0;R<rt.length;R++){var F=W;rt[R]!==""&&(F+="="+encodeURIComponent(String(rt[R]))),d.push(F)}}return this.i=d.join("&")};function li(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Fu(d,_){_&&!d.j&&(Ln(d),d.i=null,d.g.forEach(function(E,R){var F=R.toLowerCase();R!=F&&(Pi(this,R),qo(this,F,E))},d)),d.j=_}function Ta(d,_){const E=new Nn;if(h.Image){const R=new Image;R.onload=S(zn,E,"TestLoadImage: loaded",!0,_,R),R.onerror=S(zn,E,"TestLoadImage: error",!1,_,R),R.onabort=S(zn,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=S(zn,E,"TestLoadImage: timeout",!1,_,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function Wn(d,_){const E=new Nn,R=new AbortController,F=setTimeout(()=>{R.abort(),zn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(W=>{clearTimeout(F),W.ok?zn(E,"TestPingServer: ok",!0,_):zn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),zn(E,"TestPingServer: error",!1,_)})}function zn(d,_,E,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(E)}catch{}}function Sa(){this.g=new ga}function ui(d,_,E){const R=E||"";try{Ho(d,function(F,W){let rt=F;g(F)&&(rt=Xn(F)),_.push(R+W+"="+encodeURIComponent(rt))})}catch(F){throw _.push(R+"type="+encodeURIComponent("_badmap")),F}}function ps(d){this.l=d.Ub||null,this.j=d.eb||!1}A(ps,Io),ps.prototype.g=function(){return new zi(this.l,this.j)},ps.prototype.i=function(d){return function(){return d}}({});function zi(d,_){ge.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(zi,ge),n=zi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,hi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?ci(this):hi(this),this.readyState==3&&Yo(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,ci(this))},n.Qa=function(d){this.g&&(this.response=d,ci(this))},n.ga=function(){this.g&&ci(this)};function ci(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hi(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function hi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Go(d){let _="";return et(d,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Ue(d,_,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=Go(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Zt(d,_,E))}function Gt(d){ge.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Gt,ge);var vr=/^https?$/i,xa=["POST","PUT"];n=Gt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?ko(this.o):ko(ai),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(W){qu(this,W);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)E.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())E.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),F=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(xa,_,void 0))||R||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,rt]of E)this.g.setRequestHeader(W,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aa(this),this.u=!0,this.g.send(d),this.u=!1}catch(W){qu(this,W)}};function qu(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,br(d),fi(d)}function br(d){d.A||(d.A=!0,Qt(d,"complete"),Qt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Qt(this,"complete"),Qt(this,"abort"),fi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Er(this):this.bb())},n.bb=function(){Er(this)};function Er(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Bn(d)!=4||d.Z()!=2)){if(d.u&&Bn(d)==4)tn(d.Ea,0,d);else if(Qt(d,"readystatechange"),Bn(d)==4){d.h=!1;try{const rt=d.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var R;if(R=rt===0){var F=String(d.D).match(_a)[1]||null;!F&&h.self&&h.self.location&&(F=h.self.location.protocol.slice(0,-1)),R=!vr.test(F?F.toLowerCase():"")}E=R}if(E)Qt(d,"complete"),Qt(d,"success");else{d.m=6;try{var W=2<Bn(d)?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.Z()+"]",br(d)}}finally{fi(d)}}}}function fi(d,_){if(d.g){Aa(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Qt(d,"ready");try{E.onreadystatechange=R}catch{}}}function Aa(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Bn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),hr(_)}};function Yu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function If(d){const _={};d=(d.g&&2<=Bn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(H(d[R]))continue;var E=N(d[R]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=_[F]||[];_[F]=W,W.push(E)}I(_,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Tr(d){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,d),this.cb=wa("retryDelaySeedMs",1e4,d),this.Wa=wa("forwardChannelMaxRetries",2,d),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(d&&d.concurrentRequestLimit),this.Da=new Sa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Tr.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,R){le(0),this.W=d,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Zu(this,null,this.W),xr(this)};function Qo(d){if(Gu(d),d.G==3){var _=d.U++,E=xn(d.I);if(Zt(E,"SID",d.K),Zt(E,"RID",_),Zt(E,"TYPE","terminate"),Ra(d,E),_=new cn(d,d.j,_),_.L=2,_.v=ba(xn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.v,E=!0),E||(_.g=Ju(_.j,null),_.g.ea(_.v)),_.F=Date.now(),pa(_)}$u(d)}function Sr(d){d.g&&(Ma(d),d.g.cancel(),d.g=null)}function Gu(d){Sr(d),d.u&&(h.clearTimeout(d.u),d.u=null),Ar(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function xr(d){if(!gr(d.h)&&!d.s){d.s=!0;var _=d.Ga;it||P(),ct||(it(),ct=!0),vt.add(_,d),d.B=0}}function kf(d,_){return mr(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=we(b(d.Ga,d,_),Wo(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new cn(this,this.j,d);let W=this.o;if(this.S&&(W?(W=w(W),k(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Qu(this,F,_),E=xn(this.I),Zt(E,"RID",d),Zt(E,"CVER",22),this.D&&Zt(E,"X-HTTP-Session-Id",this.D),Ra(this,E),W&&(this.O?_="headers="+encodeURIComponent(String(Go(W)))+"&"+_:this.m&&Ue(E,this.m,W)),pr(this.h,F),this.Ua&&Zt(E,"TYPE","init"),this.P?(Zt(E,"$req",_),Zt(E,"SID","null"),F.T=!0,Kn(F,E,null)):Kn(F,E,_),this.G=2}}else this.G==3&&(d?Xo(this,d):this.i.length==0||gr(this.h)||Xo(this))};function Xo(d,_){var E;_?E=_.l:E=d.U++;const R=xn(d.I);Zt(R,"SID",d.K),Zt(R,"RID",E),Zt(R,"AID",d.T),Ra(d,R),d.m&&d.o&&Ue(R,d.m,d.o),E=new cn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Qu(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),pr(d.h,E),Kn(E,R,_)}function Ra(d,_){d.H&&et(d.H,function(E,R){Zt(_,R,E)}),d.l&&Ho({},function(E,R){Zt(_,R,E)})}function Qu(d,_,E){E=Math.min(d.i.length,E);var R=d.l?b(d.l.Na,d.l,d):null;t:{var F=d.i;let W=-1;for(;;){const rt=["count="+E];W==-1?0<E?(W=F[0].g,rt.push("ofs="+W)):W=0:rt.push("ofs="+W);let Lt=!0;for(let Ie=0;Ie<E;Ie++){let zt=F[Ie].g;const He=F[Ie].map;if(zt-=W,0>zt)W=Math.max(0,F[Ie].g-100),Lt=!1;else try{ui(He,rt,"req"+zt+"_")}catch{R&&R(He)}}if(Lt){R=rt.join("&");break t}}}return d=d.i.splice(0,E),_.D=d,R}function Xu(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;it||P(),ct||(it(),ct=!0),vt.add(_,d),d.v=0}}function Ko(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=we(b(d.Fa,d),Wo(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=we(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Sr(this),Ku(this))};function Ma(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Ku(d){d.g=new cn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=xn(d.qa);Zt(_,"RID","rpc"),Zt(_,"SID",d.K),Zt(_,"AID",d.T),Zt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Zt(_,"TO",d.ja),Zt(_,"TYPE","xmlhttp"),Ra(d,_),d.m&&d.o&&Ue(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=ba(xn(_)),E.m=null,E.P=!0,Ii(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Sr(this),Ko(this),le(19))};function Ar(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Wu(d,_){var E=null;if(d.g==_){Ar(d),Ma(d),d.g=null;var R=2}else if(Bo(d.h,_))E=_.D,hn(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var F=d.B;R=cs(),Qt(R,new Oe(R,E)),xr(d)}else Xu(d);else if(F=_.s,F==3||F==0&&0<_.X||!(R==1&&kf(d,_)||R==2&&Ko(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),F){case 1:Bi(d,5);break;case 4:Bi(d,10);break;case 3:Bi(d,6);break;default:Bi(d,2)}}}function Wo(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function Bi(d,_){if(d.j.info("Error code "+_),_==2){var E=b(d.fb,d),R=d.Xa;const F=!R;R=new Re(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||va(R,"https"),ba(R),F?Ta(R.toString(),E):Wn(R.toString(),E)}else le(2);d.G=0,d.l&&d.l.sa(_),$u(d),Gu(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function $u(d){if(d.G=0,d.ka=[],d.l){const _=Uo(d.h);(_.length!=0||d.i.length!=0)&&(C(d.ka,_),C(d.ka,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.ra()}}function Zu(d,_,E){var R=E instanceof Re?xn(E):new Re(E);if(R.g!="")_&&(R.g=_+"."+R.g),ms(R,R.s);else{var F=h.location;R=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;var W=new Re(null);R&&va(W,R),_&&(W.g=_),F&&ms(W,F),E&&(W.l=E),R=W}return E=d.D,_=d.ya,E&&_&&Zt(R,E,_),Zt(R,"VER",d.la),Ra(d,R),R}function Ju(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Gt(new ps({eb:E})):new Gt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}n=tc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wr(){}wr.prototype.g=function(d,_){return new fn(d,_)};function fn(d,_){ge.call(this),this.g=new Tr(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!H(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!H(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new di(this)}A(fn,ge),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Qo(this.g)},fn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Xn(d),d=E);_.i.push(new Hu(_.Ya++,d)),_.G==3&&xr(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,fn.aa.N.call(this)};function ec(d){Ci.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const E in _){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A(ec,Ci);function nc(){No.call(this),this.status=1}A(nc,No);function di(d){this.g=d}A(di,tc),di.prototype.ua=function(){Qt(this.g,"a")},di.prototype.ta=function(d){Qt(this.g,new ec(d))},di.prototype.sa=function(d){Qt(this.g,new nc)},di.prototype.ra=function(){Qt(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,W1=function(){return new wr},K1=function(){return cs()},X1=si,am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Sh=ds,Oi.COMPLETE="complete",Q1=Oi,Vo.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Gl=Vo,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,G1=Gt}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",ov="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new B1("@firebase/firestore");function so(){return sr.logLevel}function dt(n,...t){if(sr.logLevel<=Ht.DEBUG){const e=t.map(qm);sr.debug(`Firestore (${Ao}): ${n}`,...e)}}function ls(n,...t){if(sr.logLevel<=Ht.ERROR){const e=t.map(qm);sr.error(`Firestore (${Ao}): ${n}`,...e)}}function go(n,...t){if(sr.logLevel<=Ht.WARN){const e=t.map(qm);sr.warn(`Firestore (${Ao}): ${n}`,...e)}}function qm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,$1(n,i,e)}function $1(n,t,e){let i=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ls(i),new Error(i)}function de(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||$1(t,a,i)}function jt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends xo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(rn.UNAUTHENTICATED))}shutdown(){}}class Rw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Mw{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){de(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tr,t.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tr)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string",31837,{l:i}),new Z1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class Dw{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cw{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new Dw(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ow{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,uw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){de(this.o===void 0,3512);const i=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const a=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(de(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new lv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Iw(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function It(n,t){return n<t?-1:n>t?1:0}function rm(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),a=t.codePointAt(e);if(i!==a){if(i<128&&a<128)return It(i,a);{const o=J1(),u=Vw(o.encode(uv(n,e)),o.encode(uv(t,e)));return u!==0?u:It(i,a)}}e+=i>65535?2:1}return It(n.length,t.length)}function uv(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function Vw(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return It(n[e],t[e]);return It(n.length,t.length)}function mo(n,t,e){return n.length===t.length&&n.every((i,a)=>e(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-62135596800,hv=1e6;class En{static now(){return En.fromMillis(Date.now())}static fromDate(t){return En.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*hv);return new En(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Et(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Et(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<cv)throw new Et(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new En(0,0))}static max(){return new wt(new En(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__name__";class Ti{constructor(t,e,i){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Rt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Ti.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return It(t.length,e.length)}static compareSegments(t,e){const i=Ti.isNumericId(t),a=Ti.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Ti.extractNumericId(t).compare(Ti.extractNumericId(e)):rm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class ye extends Ti{construct(t,e,i){return new ye(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Et(ut.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(a=>a.length>0))}return new ye(e)}static emptyPath(){return new ye([])}}const Nw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Ti{construct(t,e,i){return new gn(t,e,i)}static isValidIdentifier(t){return Nw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new gn([fv])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new Et(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new Et(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Et(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(o(),a++)}if(o(),u)throw new Et(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(e)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.path=t}static fromPath(t){return new xt(ye.fromString(t))}static fromName(t){return new xt(ye.fromString(t).popFirst(5))}static empty(){return new xt(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ye.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new ye(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function Pw(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(i===1e9?new En(e+1,0):new En(e,i));return new $s(a,xt.empty(),t)}function Lw(n){return new $s(n.readTime,n.key,gu)}class $s{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new $s(wt.min(),xt.empty(),gu)}static max(){return new $s(wt.max(),xt.empty(),gu)}}function zw(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=xt.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==Bw)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new nt((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof nt?e:nt.resolve(e)}catch(e){return nt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):nt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):nt.reject(e)}static resolve(t){return new nt((e,i)=>{e(t)})}static reject(t){return new nt((e,i)=>{i(t)})}static waitFor(t){return new nt((e,i)=>{let a=0,o=0,u=!1;t.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&e()},f=>i(f))}),u=!0,o===a&&e()})}static or(t){let e=nt.resolve(!1);for(const i of t)e=e.next(a=>a?nt.resolve(a):i());return e}static forEach(t,e){const i=[];return t.forEach((a,o)=>{i.push(e.call(this,a,o))}),this.waitFor(i)}static mapArray(t,e){return new nt((i,a)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(p=>{u[g]=p,++h,h===o&&i(u)},p=>a(p))}})}static doWhile(t,e){return new nt((i,a)=>{const o=()=>{t()===!0?e().next(()=>{o()},a):i()};o()})}}function Hw(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function wo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}af.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=-1;function rf(n){return n==null}function om(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="";function Fw(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=dv(t)),t=qw(n.get(e),t);return dv(t)}function qw(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case tE:e+="";break;default:e+=o}}return e}function dv(n){return n+tE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ru(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Yw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t,e){this.comparator=t,this.root=e||Ze.EMPTY}insert(t,e){return new Ae(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new Ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sh(this.root,t,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sh(this.root,t,this.comparator,!0)}}class sh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??Ze.RED,this.left=a??Ze.EMPTY,this.right=o??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new Ze(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Ze.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new Ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new Ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ze(this.comparator);return e.data=t,e}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new Hs([])}unionWith(t){let e=new ze(gn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Hs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eE("Invalid base64 string: "+o):o}}(t);return new Je(e)}static fromUint8Array(t){const e=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(t);return new Je(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const Gw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(n){if(de(!!n,39018),typeof n=="string"){let t=0;const e=Gw.exec(n);if(de(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Js(n){return typeof n=="string"?Je.fromBase64String(n):Je.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="server_timestamp",iE="__type__",sE="__previous_value__",aE="__local_write_time__";function Ym(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[iE])===null||e===void 0?void 0:e.stringValue)===nE}function of(n){const t=n.mapValue.fields[sE];return Ym(t)?of(t):t}function mu(n){const t=Zs(n.mapValue.fields[aE].timestampValue);return new En(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,e,i,a,o,u,h,f,g,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=p}}const Uh="(default)";class pu{constructor(t,e){this.projectId=t,this.database=e||Uh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(t){return t instanceof pu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="__type__",Kw="__max__",ah={mapValue:{}},Ww="__vector__",lm="value";function ta(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ym(n)?4:Zw(n)?9007199254740991:$w(n)?10:11:Rt(28295,{value:n})}function wi(n,t){if(n===t)return!0;const e=ta(n);if(e!==ta(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return mu(n).isEqual(mu(t));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Zs(a.timestampValue),h=Zs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,o){return Js(a.bytesValue).isEqual(Js(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,o){return Se(a.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(a.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(n,t);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Se(a.integerValue)===Se(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Se(a.doubleValue),h=Se(o.doubleValue);return u===h?om(u)===om(h):isNaN(u)&&isNaN(h)}return!1}(n,t);case 9:return mo(n.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(gv(u)!==gv(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!wi(u[f],h[f])))return!1;return!0}(n,t);default:return Rt(52216,{left:n})}}function yu(n,t){return(n.values||[]).find(e=>wi(e,t))!==void 0}function po(n,t){if(n===t)return 0;const e=ta(n),i=ta(t);if(e!==i)return It(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return function(o,u){const h=Se(o.integerValue||o.doubleValue),f=Se(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return pv(n.timestampValue,t.timestampValue);case 4:return pv(mu(n),mu(t));case 5:return rm(n.stringValue,t.stringValue);case 6:return function(o,u){const h=Js(o),f=Js(u);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const p=It(h[g],f[g]);if(p!==0)return p}return It(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,u){const h=It(Se(o.latitude),Se(u.latitude));return h!==0?h:It(Se(o.longitude),Se(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return yv(n.arrayValue,t.arrayValue);case 10:return function(o,u){var h,f,g,p;const v=o.fields||{},b=u.fields||{},S=(h=v[lm])===null||h===void 0?void 0:h.arrayValue,A=(f=b[lm])===null||f===void 0?void 0:f.arrayValue,M=It(((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return M!==0?M:yv(S,A)}(n.mapValue,t.mapValue);case 11:return function(o,u){if(o===ah.mapValue&&u===ah.mapValue)return 0;if(o===ah.mapValue)return 1;if(u===ah.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=u.fields||{},p=Object.keys(g);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const b=rm(f[v],p[v]);if(b!==0)return b;const S=po(h[f[v]],g[p[v]]);if(S!==0)return S}return It(f.length,p.length)}(n.mapValue,t.mapValue);default:throw Rt(23264,{Pe:e})}}function pv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=Zs(n),i=Zs(t),a=It(e.seconds,i.seconds);return a!==0?a:It(e.nanos,i.nanos)}function yv(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=po(e[a],i[a]);if(o)return o}return It(e.length,i.length)}function yo(n){return um(n)}function um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Zs(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Js(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return xt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=um(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${um(e.fields[u])}`;return a+"}"}(n.mapValue):Rt(61005,{value:n})}function xh(n){switch(ta(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=of(n);return t?16+xh(t):16;case 5:return 2*n.stringValue.length;case 6:return Js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,o)=>a+xh(o),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ru(i.fields,(o,u)=>{a+=o.length+xh(u)}),a}(n.mapValue);default:throw Rt(13486,{value:n})}}function cm(n){return!!n&&"integerValue"in n}function Gm(n){return!!n&&"arrayValue"in n}function _v(n){return!!n&&"nullValue"in n}function vv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vg(n){return!!n&&"mapValue"in n}function $w(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Xw])===null||e===void 0?void 0:e.stringValue)===Ww}function nu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ru(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=nu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Zw(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Kw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.value=t}static empty(){return new Si({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Vg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(e)}setAll(t){let e=gn.emptyPath(),i={},a=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}u?i[h.lastSegment()]=nu(u):a.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());Vg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Vg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Ru(e,(a,o)=>t[a]=o);for(const a of i)delete t[a]}clone(){return new Si(nu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,e,i,a,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new on(t,0,wt.min(),wt.min(),wt.min(),Si.empty(),0)}static newFoundDocument(t,e,i,a){return new on(t,1,e,wt.min(),i,a,0)}static newNoDocument(t,e){return new on(t,2,e,wt.min(),wt.min(),Si.empty(),0)}static newUnknownDocument(t,e){return new on(t,3,e,wt.min(),wt.min(),Si.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Si.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,e){this.position=t,this.inclusive=e}}function bv(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],u=n.position[a];if(o.field.isKeyField()?i=xt.comparator(xt.fromName(u.referenceValue),e.key):i=po(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ev(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!wi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,e="asc"){this.field=t,this.dir=e}}function Jw(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{}class Pe extends rE{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new e2(t,e,i):e==="array-contains"?new s2(t,i):e==="in"?new a2(t,i):e==="not-in"?new r2(t,i):e==="array-contains-any"?new o2(t,i):new Pe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new n2(t,i):new i2(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(po(e,this.value)):e!==null&&ta(this.value)===ta(e)&&this.matchesComparison(po(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends rE{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Ri(t,e)}matches(t){return oE(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function oE(n){return n.op==="and"}function lE(n){return t2(n)&&oE(n)}function t2(n){for(const t of n.filters)if(t instanceof Ri)return!1;return!0}function hm(n){if(n instanceof Pe)return n.field.canonicalString()+n.op.toString()+yo(n.value);if(lE(n))return n.filters.map(t=>hm(t)).join(",");{const t=n.filters.map(e=>hm(e)).join(",");return`${n.op}(${t})`}}function uE(n,t){return n instanceof Pe?function(i,a){return a instanceof Pe&&i.op===a.op&&i.field.isEqual(a.field)&&wi(i.value,a.value)}(n,t):n instanceof Ri?function(i,a){return a instanceof Ri&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((o,u,h)=>o&&uE(u,a.filters[h]),!0):!1}(n,t):void Rt(19439)}function cE(n){return n instanceof Pe?function(e){return`${e.field.canonicalString()} ${e.op} ${yo(e.value)}`}(n):n instanceof Ri?function(e){return e.op.toString()+" {"+e.getFilters().map(cE).join(" ,")+"}"}(n):"Filter"}class e2 extends Pe{constructor(t,e,i){super(t,e,i),this.key=xt.fromName(i.referenceValue)}matches(t){const e=xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class n2 extends Pe{constructor(t,e){super(t,"in",e),this.keys=hE("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class i2 extends Pe{constructor(t,e){super(t,"not-in",e),this.keys=hE("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function hE(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>xt.fromName(i.referenceValue))}class s2 extends Pe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Gm(e)&&yu(e.arrayValue,this.value)}}class a2 extends Pe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&yu(this.value.arrayValue,e)}}class r2 extends Pe{constructor(t,e){super(t,"not-in",e)}matches(t){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!yu(this.value.arrayValue,e)}}class o2 extends Pe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Gm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>yu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,e=null,i=[],a=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function Tv(n,t=null,e=[],i=[],a=null,o=null,u=null){return new l2(n,t,e,i,a,o,u)}function Qm(n){const t=jt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>hm(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),rf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>yo(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>yo(i)).join(",")),t.Ie=e}return t.Ie}function Xm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Jw(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!uE(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Ev(n.startAt,t.startAt)&&Ev(n.endAt,t.endAt)}function fm(n){return xt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,e=null,i=[],a=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function u2(n,t,e,i,a,o,u,h){return new lf(n,t,e,i,a,o,u,h)}function fE(n){return new lf(n)}function Sv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function c2(n){return n.collectionGroup!==null}function iu(n){const t=jt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ze(gn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new jh(o,i))}),e.has(gn.keyField().canonicalString())||t.Ee.push(new jh(gn.keyField(),i))}return t.Ee}function xi(n){const t=jt(n);return t.de||(t.de=h2(t,iu(n))),t.de}function h2(n,t){if(n.limitType==="F")return Tv(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new jh(a.field,o)});const e=n.endAt?new Hh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Hh(n.startAt.position,n.startAt.inclusive):null;return Tv(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function dm(n,t,e){return new lf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function uf(n,t){return Xm(xi(n),xi(t))&&n.limitType===t.limitType}function dE(n){return`${Qm(xi(n))}|lt:${n.limitType}`}function ao(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(a=>cE(a)).join(", ")}]`),rf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>yo(a)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>yo(a)).join(",")),`Target(${i})`}(xi(n))}; limitType=${n.limitType})`}function cf(n,t){return t.isFoundDocument()&&function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):xt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,a){for(const o of iu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0}(n,t)&&function(i,a){return!(i.startAt&&!function(u,h,f){const g=bv(u,h,f);return u.inclusive?g<=0:g<0}(i.startAt,iu(i),a)||i.endAt&&!function(u,h,f){const g=bv(u,h,f);return u.inclusive?g>=0:g>0}(i.endAt,iu(i),a))}(n,t)}function f2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gE(n){return(t,e)=>{let i=!1;for(const a of iu(n)){const o=d2(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function d2(n,t,e){const i=n.field.isKeyField()?xt.comparator(t.key,e.key):function(o,u,h){const f=u.data.field(o),g=h.data.field(o);return f!==null&&g!==null?po(f,g):Rt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ru(this.inner,(e,i)=>{for(const[a,o]of i)t(a,o)})}isEmpty(){return Yw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Ae(xt.comparator);function ea(){return g2}const mE=new Ae(xt.comparator);function Ql(...n){let t=mE;for(const e of n)t=t.insert(e.key,e);return t}function m2(n){let t=mE;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Za(){return su()}function pE(){return su()}function su(){return new or(n=>n.toString(),(n,t)=>n.isEqual(t))}const p2=new ze(xt.comparator);function Ft(...n){let t=p2;for(const e of n)t=t.add(e);return t}const y2=new ze(It);function _2(){return y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:om(t)?"-0":t}}function b2(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function E2(n,t,e){return n instanceof gm?function(a,o){const u={fields:{[iE]:{stringValue:nE},[aE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Ym(o)&&(o=of(o)),o&&(u.fields[sE]=o),{mapValue:u}}(e,t):n instanceof Fh?yE(n,t):n instanceof qh?_E(n,t):function(a,o){const u=S2(a,o),h=xv(u)+xv(a.Re);return cm(u)&&cm(a.Re)?b2(h):v2(a.serializer,h)}(n,t)}function T2(n,t,e){return n instanceof Fh?yE(n,t):n instanceof qh?_E(n,t):e}function S2(n,t){return n instanceof mm?function(i){return cm(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class gm extends hf{}class Fh extends hf{constructor(t){super(),this.elements=t}}function yE(n,t){const e=vE(t);for(const i of n.elements)e.some(a=>wi(a,i))||e.push(i);return{arrayValue:{values:e}}}class qh extends hf{constructor(t){super(),this.elements=t}}function _E(n,t){let e=vE(t);for(const i of n.elements)e=e.filter(a=>!wi(a,i));return{arrayValue:{values:e}}}class mm extends hf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function xv(n){return Se(n.integerValue||n.doubleValue)}function vE(n){return Gm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function x2(n,t){return n.field.isEqual(t.field)&&function(i,a){return i instanceof Fh&&a instanceof Fh||i instanceof qh&&a instanceof qh?mo(i.elements,a.elements,wi):i instanceof mm&&a instanceof mm?wi(i.Re,a.Re):i instanceof gm&&a instanceof gm}(n.transform,t.transform)}class er{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new er}static exists(t){return new er(void 0,t)}static updateTime(t){return new er(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ah(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Km{}function bE(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new w2(n.key,er.none()):new Wm(n.key,n.data,er.none());{const e=n.data,i=Si.empty();let a=new ze(gn.comparator);for(let o of t.fields)if(!a.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new ff(n.key,i,new Hs(a.toArray()),er.none())}}function A2(n,t,e){n instanceof Wm?function(a,o,u){const h=a.value.clone(),f=wv(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,e):n instanceof ff?function(a,o,u){if(!Ah(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=wv(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(EE(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,t,e):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function au(n,t,e,i){return n instanceof Wm?function(o,u,h,f){if(!Ah(o.precondition,u))return h;const g=o.value.clone(),p=Rv(o.fieldTransforms,f,u);return g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof ff?function(o,u,h,f){if(!Ah(o.precondition,u))return h;const g=Rv(o.fieldTransforms,f,u),p=u.data;return p.setAll(EE(o)),p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,u,h){return Ah(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,t,e)}function Av(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&mo(i,a,(o,u)=>x2(o,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Wm extends Km{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ff extends Km{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function EE(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function wv(n,t,e){const i=new Map;de(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let a=0;a<e.length;a++){const o=n[a],u=o.transform,h=t.data.field(o.field);i.set(o.field,T2(u,h,e[a]))}return i}function Rv(n,t,e){const i=new Map;for(const a of n){const o=a.transform,u=e.data.field(a.field);i.set(a.field,E2(o,u,t))}return i}class w2 extends Km{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&A2(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=au(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=au(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=pE();return this.mutations.forEach(a=>{const o=t.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(a.key)?null:h;const f=bE(u,h);f!==null&&i.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(wt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ft())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,(e,i)=>Av(e,i))&&mo(this.baseMutations,t.baseMutations,(e,i)=>Av(e,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Ut;function TE(n){if(n===void 0)return ls("GRPC error has no .code"),ut.UNKNOWN;switch(n){case Ce.OK:return ut.OK;case Ce.CANCELLED:return ut.CANCELLED;case Ce.UNKNOWN:return ut.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return ut.INTERNAL;case Ce.UNAVAILABLE:return ut.UNAVAILABLE;case Ce.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Ce.NOT_FOUND:return ut.NOT_FOUND;case Ce.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Ce.ABORTED:return ut.ABORTED;case Ce.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Ce.DATA_LOSS:return ut.DATA_LOSS;default:return Rt(39323,{code:n})}}(Ut=Ce||(Ce={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new Ks([4294967295,4294967295],0);function Mv(n){const t=J1().encode(n),e=new Y1;return e.update(t),new Uint8Array(e.digest())}function Dv(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ks([e,i],0),new Ks([a,o],0)]}class $m{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Xl(`Invalid padding: ${e}`);if(i<0)throw new Xl(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Ks.fromNumber(this.pe)}we(t,e,i){let a=t.add(e.multiply(Ks.fromNumber(i)));return a.compare(C2)===1&&(a=new Ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=Mv(t),[i,a]=Dv(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,a,o);if(!this.be(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new $m(o,a,e);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.pe===0)return;const e=Mv(t),[i,a]=Dv(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,a,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,Mu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new df(wt.min(),a,new Ae(It),ea(),Ft())}}class Mu{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Mu(i,e,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,e,i,a){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=a}}class SE{constructor(t,e){this.targetId=t,this.Ce=e}}class xE{constructor(t,e,i=Je.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class Cv{constructor(){this.Fe=0,this.Me=Ov(),this.xe=Je.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ft(),e=Ft(),i=Ft();return this.Me.forEach((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Rt(38017,{changeType:o})}}),new Mu(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=Ov()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,de(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class O2{constructor(t){this.ze=t,this.je=new Map,this.He=ea(),this.Je=rh(),this.Ye=rh(),this.Ze=new Ae(It)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:Rt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,i=t.Ce.count,a=this._t(e);if(a){const o=a.target;if(fm(o))if(i===0){const u=new xt(o.path);this.tt(e,u,on.newNoDocument(u,wt.min()))}else de(i===1,20013,{expectedCount:i});else{const u=this.ut(e);if(u!==i){const h=this.ct(t),f=h?this.lt(h,t,u):1;if(f!==0){this.st(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let u,h;try{u=Js(i).toUint8Array()}catch(f){if(f instanceof eE)return go("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new $m(u,a,o)}catch(f){return go(f instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let a=0;return i.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.tt(e,o,null),a++)}),a}It(t){const e=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&fm(h.target)){const f=new xt(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,on.newNoDocument(f,t))}o.Le&&(e.set(u,o.qe()),o.Qe())}});let i=Ft();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const g=this._t(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.He.forEach((o,u)=>u.setReadTime(t));const a=new df(t,e,this.Ze,this.He,i);return this.He=ea(),this.Je=rh(),this.Ye=rh(),this.Ze=new Ae(It),a}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new Cv,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new ze(It),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new ze(It),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Cv),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function rh(){return new Ae(xt.comparator)}function Ov(){return new Ae(xt.comparator)}const I2={asc:"ASCENDING",desc:"DESCENDING"},k2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class N2{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function pm(n,t){return n.useProto3Json||rf(t)?t:{value:t}}function P2(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function L2(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function uo(n){return de(!!n,49232),wt.fromTimestamp(function(e){const i=Zs(e);return new En(i.seconds,i.nanos)}(n))}function z2(n,t){return ym(n,t).canonicalString()}function ym(n,t){const e=function(a){return new ye(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function AE(n){const t=ye.fromString(n);return de(CE(t),10190,{key:t.toString()}),t}function Ng(n,t){const e=AE(t);if(e.get(1)!==n.databaseId.projectId)throw new Et(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Et(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new xt(RE(e))}function wE(n,t){return z2(n.databaseId,t)}function B2(n){const t=AE(n);return t.length===4?ye.emptyPath():RE(t)}function Iv(n){return new ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RE(n){return de(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function U2(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Rt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=function(g,p){return g.useProto3Json?(de(p===void 0||typeof p=="string",58123),Je.fromBase64String(p||"")):(de(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Je.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const p=g.code===void 0?ut.UNKNOWN:TE(g.code);return new Et(p,g.message||"")}(u);e=new xE(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ng(n,i.document.name),o=uo(i.document.updateTime),u=i.document.createTime?uo(i.document.createTime):wt.min(),h=new Si({mapValue:{fields:i.document.fields}}),f=on.newFoundDocument(a,o,u,h),g=i.targetIds||[],p=i.removedTargetIds||[];e=new wh(g,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Ng(n,i.document),o=i.readTime?uo(i.readTime):wt.min(),u=on.newNoDocument(a,o),h=i.removedTargetIds||[];e=new wh([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Ng(n,i.document),o=i.removedTargetIds||[];e=new wh([],o,a,null)}else{if(!("filter"in t))return Rt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new D2(a,o),h=i.targetId;e=new SE(h,u)}}return e}function H2(n,t){return{documents:[wE(n,t.path)]}}function j2(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=wE(n,a);const o=function(g){if(g.length!==0)return DE(Ri.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(p=>function(b){return{field:ro(b.field),direction:Y2(b.dir)}}(p))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=pm(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:a}}function F2(n){let t=B2(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){de(i===1,65062);const p=e.from[0];p.allDescendants?a=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=function(v){const b=ME(v);return b instanceof Ri&&lE(b)?b.getFilters():[b]}(e.where));let u=[];e.orderBy&&(u=function(v){return v.map(b=>function(A){return new jh(oo(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,rf(b)?null:b}(e.limit));let f=null;e.startAt&&(f=function(v){const b=!!v.before,S=v.values||[];return new Hh(S,b)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const b=!v.before,S=v.values||[];return new Hh(S,b)}(e.endAt)),u2(t,a,u,o,h,"F",f,g)}function q2(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function ME(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=oo(e.unaryFilter.field);return Pe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=oo(e.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=oo(e.unaryFilter.field);return Pe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=oo(e.unaryFilter.field);return Pe.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Pe.create(oo(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Ri.create(e.compositeFilter.filters.map(i=>ME(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}}(e.compositeFilter.op))}(n):Rt(30097,{filter:n})}function Y2(n){return I2[n]}function G2(n){return k2[n]}function Q2(n){return V2[n]}function ro(n){return{fieldPath:n.canonicalString()}}function oo(n){return gn.fromServerFormat(n.fieldPath)}function DE(n){return n instanceof Pe?function(e){if(e.op==="=="){if(vv(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NAN"}};if(_v(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(vv(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NAN"}};if(_v(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(e.field),op:G2(e.op),value:e.value}}}(n):n instanceof Ri?function(e){const i=e.getFilters().map(a=>DE(a));return i.length===1?i[0]:{compositeFilter:{op:Q2(e.op),filters:i}}}(n):Rt(54877,{filter:n})}function CE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,e,i,a,o=wt.min(),u=wt.min(),h=Je.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t){this.wt=t}}function K2(n){const t=F2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.yn=new $2}addToCollectionParentIndex(t,e){return this.yn.add(e),nt.resolve()}getCollectionParents(t,e){return nt.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return nt.resolve()}deleteFieldIndex(t,e){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,e){return nt.resolve()}getDocumentsMatchingTarget(t,e){return nt.resolve(null)}getIndexType(t,e){return nt.resolve(0)}getFieldIndexes(t,e){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,e){return nt.resolve($s.min())}getMinOffsetFromCollectionGroup(t,e){return nt.resolve($s.min())}updateCollectionGroup(t,e,i){return nt.resolve()}updateIndexEntries(t,e){return nt.resolve()}}class $2{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new ze(ye.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ze(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OE=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(OE,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new _o(0)}static ir(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LruGarbageCollector",Z2=1048576;function Nv([n,t],[e,i]){const a=It(n,e);return a===0?It(t,i):a}class J2{constructor(t){this.cr=t,this.buffer=new ze(Nv),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Nv(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class tR{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){dt(Vv,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wo(e)?dt(Vv,"Ignoring IndexedDB error during garbage collection: ",e):await sf(e)}await this.Ir(3e5)})}}class eR{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return nt.resolve(af.le);const i=new J2(e);return this.Er.forEachTarget(t,a=>i.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>i.Pr(a))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Er.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(kv)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kv):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let i,a,o,u,h,f,g;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(g=Date.now(),so()<=Ht.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-p}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-p}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function nR(n,t){return new eR(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.changes=new or(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?nt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(i!==null&&au(i.mutation,a,Hs.empty(),En.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ft()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ft()){const a=Za();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,i).next(o=>{let u=Ql();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Za();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ft()))}populateOverlays(t,e,i){const a=[];return i.forEach(o=>{e.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(t,a).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,a){let o=ea();const u=su(),h=function(){return su()}();return e.forEach((f,g)=>{const p=i.get(g.key);a.has(g.key)&&(p===void 0||p.mutation instanceof ff)?o=o.insert(g.key,g):p!==void 0?(u.set(g.key,p.mutation.getFieldMask()),au(p.mutation,g,p.mutation.getFieldMask(),En.now())):u.set(g.key,Hs.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,p)=>u.set(g,p)),e.forEach((g,p)=>{var v;return h.set(g,new sR(p,(v=u.get(g))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const i=su();let a=new Ae((u,h)=>u-h),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let p=i.get(f)||Hs.empty();p=h.applyToLocalView(g,p),i.set(f,p);const v=(a.get(h.batchId)||Ft()).add(f);a=a.insert(h.batchId,v)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,p=f.value,v=pE();p.forEach(b=>{if(!o.has(b)){const S=bE(e.get(b),i.get(b));S!==null&&v.set(b,S),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(t,g,v))}return nt.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,a){return function(u){return xt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):c2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):nt.resolve(Za());let h=gu,f=o;return u.next(g=>nt.forEach(g,(p,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(p)?nt.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{f=f.insert(p,b)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,Ft())).next(p=>({batchId:h,changes:m2(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xt(e)).next(i=>{let a=Ql();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let u=Ql();return this.indexManager.getCollectionParents(t,o).next(h=>nt.forEach(h,f=>{const g=function(v,b){return new lf(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,a).next(p=>{p.forEach((v,b)=>{u=u.insert(v,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a))).next(u=>{o.forEach((f,g)=>{const p=g.getKey();u.get(p)===null&&(u=u.insert(p,on.newInvalidDocument(p)))});let h=Ql();return u.forEach((f,g)=>{const p=o.get(f);p!==void 0&&au(p.mutation,g,Hs.empty(),En.now()),cf(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return nt.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:uo(a.createTime)}}(e)),nt.resolve()}getNamedQuery(t,e){return nt.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(a){return{name:a.name,query:K2(a.bundledQuery),readTime:uo(a.readTime)}}(e)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.overlays=new Ae(xt.comparator),this.Or=new Map}getOverlay(t,e){return nt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Za();return nt.forEach(e,a=>this.getOverlay(t,a).next(o=>{o!==null&&i.set(a,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((a,o)=>{this.St(t,e,o)}),nt.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Or.get(i);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),nt.resolve()}getOverlaysForCollection(t,e,i){const a=Za(),o=e.length+1,u=new xt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new Ae((g,p)=>g-p);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let p=o.get(g.largestBatchId);p===null&&(p=Za(),o=o.insert(g.largestBatchId,p)),p.set(g.getKey(),g)}}const h=Za(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,p)=>h.set(g,p)),!(h.size()>=a)););return nt.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(i.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new M2(e,i));let o=this.Or.get(e);o===void 0&&(o=Ft(),this.Or.set(e,o)),this.Or.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Nr=new ze(Ye.Br),this.Lr=new ze(Ye.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const i=new Ye(t,e);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Qr(new Ye(t,e))}$r(t,e){t.forEach(i=>this.removeReference(i,e))}Ur(t){const e=new xt(new ye([])),i=new Ye(e,t),a=new Ye(e,t+1),o=[];return this.Lr.forEachInRange([i,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new xt(new ye([])),i=new Ye(e,t),a=new Ye(e,t+1);let o=Ft();return this.Lr.forEachInRange([i,a],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Ye(t,0),i=this.Nr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ye{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return xt.comparator(t.key,e.key)||It(t.Gr,e.Gr)}static kr(t,e){return It(t.Gr,e.Gr)||xt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new ze(Ye.Br)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new R2(o,e,i,a);this.mutationQueue.push(u);for(const h of a)this.zr=this.zr.add(new Ye(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return nt.resolve(u)}lookupMutationBatch(t,e){return nt.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Hr(i),o=a<0?0:a;return nt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?jw:this.Jn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ye(e,0),a=new Ye(e,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,a],u=>{const h=this.jr(u.Gr);o.push(h)}),nt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ze(It);return e.forEach(a=>{const o=new Ye(a,0),u=new Ye(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{i=i.add(h.Gr)})}),nt.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;xt.isDocumentKey(o)||(o=o.child(""));const u=new Ye(new xt(o),0);let h=new ze(It);return this.zr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(f.Gr)),!0)},u),nt.resolve(this.Jr(h))}Jr(t){const e=[];return t.forEach(i=>{const a=this.jr(i);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){de(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return nt.forEach(e.mutations,a=>{const o=new Ye(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=i})}Xn(t){}containsKey(t,e){const i=new Ye(e,0),a=this.zr.firstAfterOrEqual(i);return nt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.Zr=t,this.docs=function(){return new Ae(xt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,u=this.Zr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return nt.resolve(i?i.document.mutableCopy():on.newInvalidDocument(e))}getEntries(t,e){let i=ea();return e.forEach(a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():on.newInvalidDocument(a))}),nt.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=ea();const u=e.path,h=new xt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:p}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||zw(Lw(p),i)<=0||(a.has(p.key)||cf(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return nt.resolve(o)}getAllFromCollectionGroup(t,e,i,a){Rt(9500)}Xr(t,e){return nt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new hR(this)}getSize(t){return nt.resolve(this.size)}}class hR extends iR{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?e.push(this.vr.addEntry(t,a)):this.vr.removeEntry(i)}),nt.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.persistence=t,this.ei=new or(e=>Qm(e),Xm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Zm,this.targetCount=0,this.ri=_o.rr()}forEachTarget(t,e){return this.ei.forEach((i,a)=>e(a)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ti&&(this.ti=e),nt.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new _o(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,nt.resolve()}updateTargetData(t,e){return this.ar(e),nt.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)}),nt.waitFor(o).next(()=>a)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,e){const i=this.ei.get(e)||null;return nt.resolve(i)}addMatchingKeys(t,e,i){return this.ni.qr(e,i),nt.resolve()}removeMatchingKeys(t,e,i){this.ni.$r(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach(u=>{o.push(a.markPotentiallyOrphaned(t,u))}),nt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),nt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ni.Wr(e);return nt.resolve(i)}containsKey(t,e){return nt.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,e){this.ii={},this.overlays={},this.si=new af(0),this.oi=!1,this.oi=!0,this._i=new lR,this.referenceDelegate=t(this),this.ai=new fR(this),this.indexManager=new W2,this.remoteDocumentCache=function(a){return new cR(a)}(i=>this.referenceDelegate.ui(i)),this.serializer=new X2(e),this.ci=new rR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new oR,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ii[t.toKey()];return i||(i=new uR(e,this.referenceDelegate),this.ii[t.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,i){dt("MemoryPersistence","Starting transaction:",t);const a=new dR(this.si.next());return this.referenceDelegate.li(),i(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(t,e){return nt.or(Object.values(this.ii).map(i=>()=>i.containsKey(t,e)))}}class dR extends Uw{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ti=new Zm,this.Ii=null}static Ei(t){return new Jm(t)}get di(){if(this.Ii)return this.Ii;throw Rt(60996)}addReference(t,e,i){return this.Ti.addReference(i,e),this.di.delete(i.toString()),nt.resolve()}removeReference(t,e,i){return this.Ti.removeReference(i,e),this.di.add(i.toString()),nt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),nt.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,i=>{const a=xt.fromPath(i);return this.Ai(t,a).next(o=>{o||e.removeEntry(a,wt.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return nt.or([()=>nt.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class Yh{constructor(t,e){this.persistence=t,this.Ri=new or(i=>Fw(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=nR(this,e)}static Ei(t,e){return new Yh(t,e)}li(){}hi(t){return nt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(a=>i+a))}Vr(t){let e=0;return this.Ar(t,i=>{e++}).next(()=>e)}Ar(t,e){return nt.forEach(this.Ri,(i,a)=>this.gr(t,i,a).next(o=>o?nt.resolve():e(a)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(t,u=>this.gr(t,u,e).next(h=>{h||(i++,o.removeEntry(u,wt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),nt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),nt.resolve()}removeReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),nt.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=xh(t.data.value)),e}gr(t,e,i){return nt.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.Ri.get(e);return nt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.ls=i,this.hs=a}static Ps(t,e){let i=Ft(),a=Ft();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new tp(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return aA()?8:Hw(iA())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.Rs(t,e).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(t,e,a,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new gR;return this.fs(t,e,u).next(h=>{if(o.result=h,this.Is)return this.gs(t,e,u,h.size)})}).next(()=>o.result)}gs(t,e,i,a){return i.documentReadCount<this.Es?(so()<=Ht.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",ao(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),nt.resolve()):(so()<=Ht.DEBUG&&dt("QueryEngine","Query:",ao(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(so()<=Ht.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",ao(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(e))):nt.resolve())}Rs(t,e){if(Sv(e))return nt.resolve(null);let i=xi(e);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=dm(e,null,"F"),i=xi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Ft(...o);return this.As.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.ps(e,h);return this.ys(e,g,u,f.readTime)?this.Rs(t,dm(e,null,"F")):this.ws(t,g,e,f)}))})))}Vs(t,e,i,a){return Sv(e)||a.isEqual(wt.min())?nt.resolve(null):this.As.getDocuments(t,i).next(o=>{const u=this.ps(e,o);return this.ys(e,u,i,a)?nt.resolve(null):(so()<=Ht.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ao(e)),this.ws(t,u,e,Pw(a,gu)).next(h=>h))})}ps(t,e){let i=new ze(gE(t));return e.forEach((a,o)=>{cf(t,o)&&(i=i.add(o))}),i}ys(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(t,e,i){return so()<=Ht.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",ao(e)),this.As.getDocumentsMatchingQuery(t,e,$s.min(),i)}ws(t,e,i,a){return this.As.getDocumentsMatchingQuery(t,i,a).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="LocalStore",pR=3e8;class yR{constructor(t,e,i,a){this.persistence=t,this.bs=e,this.serializer=a,this.Ss=new Ae(It),this.Ds=new or(o=>Qm(o),Xm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(i)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function _R(n,t,e,i){return new yR(n,t,e,i)}async function kE(n,t){const e=jt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next(o=>(a=o,e.Fs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=Ft();for(const g of a){u.push(g.batchId);for(const p of g.mutations)f=f.add(p.key)}for(const g of o){h.push(g.batchId);for(const p of g.mutations)f=f.add(p.key)}return e.localDocuments.getDocuments(i,f).next(g=>({Ms:g,removedBatchIds:u,addedBatchIds:h}))})})}function VE(n){const t=jt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function vR(n,t){const e=jt(n),i=t.snapshotVersion;let a=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Cs.newChangeBuffer({trackRemovals:!0});a=e.Ss;const h=[];t.targetChanges.forEach((p,v)=>{const b=a.get(v);if(!b)return;h.push(e.ai.removeMatchingKeys(o,p.removedDocuments,v).next(()=>e.ai.addMatchingKeys(o,p.addedDocuments,v)));let S=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(Je.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,i)),a=a.insert(v,S),function(M,C,B){return M.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=pR?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(b,S,p)&&h.push(e.ai.updateTargetData(o,S))});let f=ea(),g=Ft();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))}),h.push(bR(o,u,t.documentUpdates).next(p=>{f=p.xs,g=p.Os})),!i.isEqual(wt.min())){const p=e.ai.getLastRemoteSnapshotVersion(o).next(v=>e.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(p)}return nt.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Ss=a,o))}function bR(n,t,e){let i=Ft(),a=Ft();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=ea();return e.forEach((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(wt.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):dt(ep,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{xs:u,Os:a}})}function ER(n,t){const e=jt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return e.ai.getTargetData(i,t).next(o=>o?(a=o,nt.resolve(a)):e.ai.allocateTargetId(i).next(u=>(a=new js(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.ai.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=e.Ss.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(i.targetId,i),e.Ds.set(t,i.targetId)),i})}async function _m(n,t,e){const i=jt(n),a=i.Ss.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!wo(u))throw u;dt(ep,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ss=i.Ss.remove(t),i.Ds.delete(a.target)}function Pv(n,t,e){const i=jt(n);let a=wt.min(),o=Ft();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,p){const v=jt(f),b=v.Ds.get(p);return b!==void 0?nt.resolve(v.Ss.get(b)):v.ai.getTargetData(g,p)}(i,u,xi(t)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.bs.getDocumentsMatchingQuery(u,t,e?a:wt.min(),e?o:Ft())).next(h=>(TR(i,f2(t),h),{documents:h,Ns:o})))}function TR(n,t,e){let i=n.vs.get(t)||wt.min();e.forEach((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.vs.set(t,i)}class Lv{constructor(){this.activeTargetIds=_2()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SR{constructor(){this.So=new Lv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,i){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Lv,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="ConnectivityMonitor";class Bv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){dt(zv,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){dt(zv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function vm(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="RestConnection",AR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wR{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${i}/databases/${a}`,this.qo=this.databaseId.database===Uh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Qo(t,e,i,a,o){const u=vm(),h=this.$o(t,e.toUriEncodedString());dt(Pg,`Sending RPC '${t}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,a,o);const{host:g}=new URL(h),p=jm(g);return this.Ko(t,h,f,i,p).then(v=>(dt(Pg,`Received RPC '${t}' ${u}: `,v),v),v=>{throw go(Pg,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",i),v})}Wo(t,e,i,a,o,u){return this.Qo(t,e,i,a,o)}Uo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,o)=>t[o]=a),i&&i.headers.forEach((a,o)=>t[o]=a)}$o(t,e){const i=AR[t];return`${this.Lo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class MR extends wR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,i,a,o){const u=vm();return new Promise((h,f)=>{const g=new G1;g.setWithCredentials(!0),g.listenOnce(Q1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Sh.NO_ERROR:const v=g.getResponseJson();dt(sn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case Sh.TIMEOUT:dt(sn,`RPC '${t}' ${u} timed out`),f(new Et(ut.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const b=g.getStatus();if(dt(sn,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const M=function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(H)>=0?H:ut.UNKNOWN}(A.status);f(new Et(M,A.message))}else f(new Et(ut.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Et(ut.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{s_:t,streamId:u,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{dt(sn,`RPC '${t}' ${u} completed.`)}});const p=JSON.stringify(a);dt(sn,`RPC '${t}' ${u} sending request:`,a),g.send(e,"POST",p,i,15)})}a_(t,e,i){const a=vm(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=W1(),h=K1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const p=o.join("");dt(sn,`Creating RPC '${t}' stream ${a}: ${p}`,f);const v=u.createWebChannel(p,f);let b=!1,S=!1;const A=new RR({Go:C=>{S?dt(sn,`Not sending because RPC '${t}' stream ${a} is closed:`,C):(b||(dt(sn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),b=!0),dt(sn,`RPC '${t}' stream ${a} sending:`,C),v.send(C))},zo:()=>v.close()}),M=(C,B,H)=>{C.listen(B,X=>{try{H(X)}catch($){setTimeout(()=>{throw $},0)}})};return M(v,Gl.EventType.OPEN,()=>{S||(dt(sn,`RPC '${t}' stream ${a} transport opened.`),A.t_())}),M(v,Gl.EventType.CLOSE,()=>{S||(S=!0,dt(sn,`RPC '${t}' stream ${a} transport closed`),A.r_())}),M(v,Gl.EventType.ERROR,C=>{S||(S=!0,go(sn,`RPC '${t}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),A.r_(new Et(ut.UNAVAILABLE,"The operation could not be completed")))}),M(v,Gl.EventType.MESSAGE,C=>{var B;if(!S){const H=C.data[0];de(!!H,16349);const X=H,$=(X==null?void 0:X.error)||((B=X[0])===null||B===void 0?void 0:B.error);if($){dt(sn,`RPC '${t}' stream ${a} received error:`,$);const G=$.status;let et=function(O){const k=Ce[O];if(k!==void 0)return TE(k)}(G),I=$.message;et===void 0&&(et=ut.INTERNAL,I="Unknown error status: "+G+" with message "+$.message),S=!0,A.r_(new Et(et,I)),v.close()}else dt(sn,`RPC '${t}' stream ${a} received:`,H),A.i_(H)}}),M(h,X1.STAT_EVENT,C=>{C.stat===am.PROXY?dt(sn,`RPC '${t}' stream ${a} detected buffering proxy`):C.stat===am.NOPROXY&&dt(sn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n){return new N2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,e,i=1e3,a=1.5,o=6e4){this.bi=t,this.timerId=e,this.u_=i,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),a=Math.max(0,e-i);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="PersistentStream";class DR{constructor(t,e,i,a,o,u,h,f){this.bi=t,this.R_=i,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new PE(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===ut.RESOURCE_EXHAUSTED?(ls(e.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.m_===e&&this.B_(i,a)},i=>{t(()=>{const a=new Et(ut.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(a)})})}B_(t,e){const i=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{i(()=>this.L_(a))}),this.stream.onMessage(a=>{i(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return dt(Uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(dt(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CR extends DR{constructor(t,e,i,a,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=o}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=U2(this.serializer,t),i=function(o){if(!("targetChange"in o))return wt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?uo(u.readTime):wt.min()}(t);return this.listener.Q_(e,i)}U_(t){const e={};e.database=Iv(this.serializer),e.addTarget=function(o,u){let h;const f=u.target;if(h=fm(f)?{documents:H2(o,f)}:{query:j2(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=L2(o,u.resumeToken);const g=pm(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(wt.min())>0){h.readTime=P2(o,u.snapshotVersion.toTimestamp());const g=pm(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=q2(this.serializer,t);i&&(e.labels=i),this.F_(e)}K_(t){const e={};e.database=Iv(this.serializer),e.removeTarget=t,this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{}class IR extends OR{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Et(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(t,ym(e,i),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Et(ut.UNKNOWN,o.toString())})}Wo(t,e,i,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(t,ym(e,i),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Et(ut.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class kR{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ls(e),this.ea=!1):dt("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="RemoteStore";class VR{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{i.enqueueAndForget(async()=>{Cu(this)&&(dt(vo,"Restarting streams for network reachability change."),await async function(f){const g=jt(f);g.aa.add(4),await Du(g),g.la.set("Unknown"),g.aa.delete(4),await gf(g)}(this))})}),this.la=new kR(i,a)}}async function gf(n){if(Cu(n))for(const t of n.ua)await t(!0)}async function Du(n){for(const t of n.ua)await t(!1)}function LE(n,t){const e=jt(n);e._a.has(t.targetId)||(e._a.set(t.targetId,t),ap(e)?sp(e):Ro(e).b_()&&ip(e,t))}function np(n,t){const e=jt(n),i=Ro(e);e._a.delete(t),i.b_()&&zE(e,t),e._a.size===0&&(i.b_()?i.v_():Cu(e)&&e.la.set("Unknown"))}function ip(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ro(n).U_(t)}function zE(n,t){n.ha.Ke(t),Ro(n).K_(t)}function sp(n){n.ha=new O2({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),Ro(n).start(),n.la.ta()}function ap(n){return Cu(n)&&!Ro(n).w_()&&n._a.size>0}function Cu(n){return jt(n).aa.size===0}function BE(n){n.ha=void 0}async function NR(n){n.la.set("Online")}async function PR(n){n._a.forEach((t,e)=>{ip(n,t)})}async function LR(n,t){BE(n),ap(n)?(n.la.ia(t),sp(n)):n.la.set("Unknown")}async function zR(n,t,e){if(n.la.set("Online"),t instanceof xE&&t.state===2&&t.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a._a.delete(h),a.ha.removeTarget(h))}(n,t)}catch(i){dt(vo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Hv(n,i)}else if(t instanceof wh?n.ha.Xe(t):t instanceof SE?n.ha.ot(t):n.ha.nt(t),!e.isEqual(wt.min()))try{const i=await VE(n.localStore);e.compareTo(i)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const p=o._a.get(g);p&&o._a.set(g,p.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,g)=>{const p=o._a.get(f);if(!p)return;o._a.set(f,p.withResumeToken(Je.EMPTY_BYTE_STRING,p.snapshotVersion)),zE(o,f);const v=new js(p.target,f,g,p.sequenceNumber);ip(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){dt(vo,"Failed to raise snapshot:",i),await Hv(n,i)}}async function Hv(n,t,e){if(!wo(t))throw t;n.aa.add(1),await Du(n),n.la.set("Offline"),e||(e=()=>VE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{dt(vo,"Retrying IndexedDB access"),await e(),n.aa.delete(1),await gf(n)})}async function jv(n,t){const e=jt(n);e.asyncQueue.verifyOperationInProgress(),dt(vo,"RemoteStore received new credentials");const i=Cu(e);e.aa.add(3),await Du(e),i&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await gf(e)}async function BR(n,t){const e=jt(n);t?(e.aa.delete(2),await gf(e)):t||(e.aa.add(2),await Du(e),e.la.set("Unknown"))}function Ro(n){return n.Pa||(n.Pa=function(e,i,a){const o=jt(e);return o.Y_(),new CR(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:NR.bind(null,n),Jo:PR.bind(null,n),Zo:LR.bind(null,n),Q_:zR.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),ap(n)?sp(n):n.la.set("Unknown")):(await n.Pa.stop(),BE(n))})),n.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const u=Date.now()+i,h=new rp(t,e,u,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UE(n,t){if(ls("AsyncQueue",`${t}: ${n}`),wo(n))return new Et(ut.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(t){return new co(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||xt.comparator(e.key,i.key):(e,i)=>xt.comparator(e.key,i.key),this.keyedMap=Ql(),this.sortedSet=new Ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof co)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new co;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.Ia=new Ae(xt.comparator)}track(t){const e=t.doc.key,i=this.Ia.get(e);i?t.type!==0&&i.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&i.type!==1?this.Ia=this.Ia.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Ia=this.Ia.remove(e):t.type===1&&i.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):Rt(63341,{Vt:t,Ea:i}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,i)=>{t.push(i)}),t}}class bo{constructor(t,e,i,a,o,u,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,a,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new bo(t,e,co.emptySet(e),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class HR{constructor(){this.queries=qv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,i){const a=jt(e),o=a.queries;a.queries=qv(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(i)})})(this,new Et(ut.ABORTED,"Firestore shutting down"))}}function qv(){return new or(n=>dE(n),uf)}async function jR(n,t){const e=jt(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.Va()&&t.ma()&&(i=2):(o=new UR,i=t.ma()?0:1);try{switch(i){case 0:o.Aa=await e.onListen(a,!0);break;case 1:o.Aa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=UE(u,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Ra.push(t),t.ga(e.onlineState),o.Aa&&t.pa(o.Aa)&&op(e)}async function FR(n,t){const e=jt(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const u=o.Ra.indexOf(t);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=t.ma()?0:1:!o.Va()&&t.ma()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function qR(n,t){const e=jt(n);let i=!1;for(const a of t){const o=a.query,u=e.queries.get(o);if(u){for(const h of u.Ra)h.pa(a)&&(i=!0);u.Aa=a}}i&&op(e)}function YR(n,t,e){const i=jt(n),a=i.queries.get(t);if(a)for(const o of a.Ra)o.onError(e);i.queries.delete(t)}function op(n){n.fa.forEach(t=>{t.next()})}var bm,Yv;(Yv=bm||(bm={})).ya="default",Yv.Cache="cache";class GR{constructor(t,e,i){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new bo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const i=e!=="Offline";return(!this.options.Fa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t){this.key=t}}class jE{constructor(t){this.key=t}}class QR{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ft(),this.mutatedKeys=Ft(),this.Ua=gE(t),this.Ka=new co(this.Ua)}get Wa(){return this.qa}Ga(t,e){const i=e?e.za:new Fv,a=e?e.Ka:this.Ka;let o=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((p,v)=>{const b=a.get(p),S=cf(this.query,v)?v:null,A=!!b&&this.mutatedKeys.has(b.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;b&&S?b.data.isEqual(S.data)?A!==M&&(i.track({type:3,doc:S}),C=!0):this.ja(b,S)||(i.track({type:2,doc:S}),C=!0,(f&&this.Ua(S,f)>0||g&&this.Ua(S,g)<0)&&(h=!0)):!b&&S?(i.track({type:0,doc:S}),C=!0):b&&!S&&(i.track({type:1,doc:b}),C=!0,(f||g)&&(h=!0)),C&&(S?(u=u.add(S),o=M?o.add(p):o.delete(p)):(u=u.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const p=this.query.limitType==="F"?u.last():u.first();u=u.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{Ka:u,za:i,ys:h,mutatedKeys:o}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const u=t.za.da();u.sort((p,v)=>function(S,A){const M=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Vt:C})}};return M(S)-M(A)}(p.type,v.type)||this.Ua(p.doc,v.doc)),this.Ha(i),a=a!=null&&a;const h=e&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,g=f!==this.Qa;return this.Qa=f,u.length!==0||g?{snapshot:new bo(this.query,t.Ka,o,u,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Fv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Ft(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const e=[];return t.forEach(i=>{this.$a.has(i)||e.push(new jE(i))}),this.$a.forEach(i=>{t.has(i)||e.push(new HE(i))}),e}Xa(t){this.qa=t.Ns,this.$a=Ft();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return bo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const lp="SyncEngine";class XR{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class KR{constructor(t){this.key=t,this.tu=!1}}class WR{constructor(t,e,i,a,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new or(h=>dE(h),uf),this.iu=new Map,this.su=new Set,this.ou=new Ae(xt.comparator),this._u=new Map,this.au=new Zm,this.uu={},this.cu=new Map,this.lu=_o.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function $R(n,t,e=!0){const i=QE(n);let a;const o=i.ru.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await FE(i,t,e,!0),a}async function ZR(n,t){const e=QE(n);await FE(e,t,!0,!1)}async function FE(n,t,e,i){const a=await ER(n.localStore,xi(t)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await JR(n,t,o,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&LE(n.remoteStore,a),h}async function JR(n,t,e,i,a){n.Pu=(v,b,S)=>async function(M,C,B,H){let X=C.view.Ga(B);X.ys&&(X=await Pv(M.localStore,C.query,!1).then(({documents:I})=>C.view.Ga(I,X)));const $=H&&H.targetChanges.get(C.targetId),G=H&&H.targetMismatches.get(C.targetId)!=null,et=C.view.applyChanges(X,M.isPrimaryClient,$,G);return Qv(M,C.targetId,et.Ya),et.snapshot}(n,v,b,S);const o=await Pv(n.localStore,t,!0),u=new QR(t,o.Ns),h=u.Ga(o.documents),f=Mu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),g=u.applyChanges(h,n.isPrimaryClient,f);Qv(n,e,g.Ya);const p=new XR(t,e,u);return n.ru.set(t,p),n.iu.has(e)?n.iu.get(e).push(t):n.iu.set(e,[t]),g.snapshot}async function tM(n,t,e){const i=jt(n),a=i.ru.get(t),o=i.iu.get(a.targetId);if(o.length>1)return i.iu.set(a.targetId,o.filter(u=>!uf(u,t))),void i.ru.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await _m(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),e&&np(i.remoteStore,a.targetId),Em(i,a.targetId)}).catch(sf)):(Em(i,a.targetId),await _m(i.localStore,a.targetId,!0))}async function eM(n,t){const e=jt(n),i=e.ru.get(t),a=e.iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),np(e.remoteStore,i.targetId))}async function qE(n,t){const e=jt(n);try{const i=await vR(e.localStore,t);t.targetChanges.forEach((a,o)=>{const u=e._u.get(o);u&&(de(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?de(u.tu,14607):a.removedDocuments.size>0&&(de(u.tu,42227),u.tu=!1))}),await GE(e,i,t)}catch(i){await sf(i)}}function Gv(n,t,e){const i=jt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.ru.forEach((o,u)=>{const h=u.view.ga(t);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=jt(u);f.onlineState=h;let g=!1;f.queries.forEach((p,v)=>{for(const b of v.Ra)b.ga(h)&&(g=!0)}),g&&op(f)}(i.eventManager,t),a.length&&i.nu.Q_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function nM(n,t,e){const i=jt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i._u.get(t),o=a&&a.key;if(o){let u=new Ae(xt.comparator);u=u.insert(o,on.newNoDocument(o,wt.min()));const h=Ft().add(o),f=new df(wt.min(),new Map,new Ae(It),u,h);await qE(i,f),i.ou=i.ou.remove(o),i._u.delete(t),up(i)}else await _m(i.localStore,t,!1).then(()=>Em(i,t,e)).catch(sf)}function Em(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.iu.get(t))n.ru.delete(i),e&&n.nu.Tu(i,e);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(i=>{n.au.containsKey(i)||YE(n,i)})}function YE(n,t){n.su.delete(t.path.canonicalString());const e=n.ou.get(t);e!==null&&(np(n.remoteStore,e),n.ou=n.ou.remove(t),n._u.delete(e),up(n))}function Qv(n,t,e){for(const i of e)i instanceof HE?(n.au.addReference(i.key,t),iM(n,i)):i instanceof jE?(dt(lp,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,t),n.au.containsKey(i.key)||YE(n,i.key)):Rt(19791,{Iu:i})}function iM(n,t){const e=t.key,i=e.path.canonicalString();n.ou.get(e)||n.su.has(i)||(dt(lp,"New document in limbo: "+e),n.su.add(i),up(n))}function up(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const e=new xt(ye.fromString(t)),i=n.lu.next();n._u.set(i,new KR(e)),n.ou=n.ou.insert(e,i),LE(n.remoteStore,new js(xi(fE(e.path)),i,"TargetPurposeLimboResolution",af.le))}}async function GE(n,t,e){const i=jt(n),a=[],o=[],u=[];i.ru.isEmpty()||(i.ru.forEach((h,f)=>{u.push(i.Pu(f,t,e).then(g=>{var p;if((g||e)&&i.isPrimaryClient){const v=g?!g.fromCache:(p=e==null?void 0:e.targetChanges.get(f.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){a.push(g);const v=tp.Ps(f.targetId,g);o.push(v)}}))}),await Promise.all(u),i.nu.Q_(a),await async function(f,g){const p=jt(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>nt.forEach(g,b=>nt.forEach(b.ls,S=>p.persistence.referenceDelegate.addReference(v,b.targetId,S)).next(()=>nt.forEach(b.hs,S=>p.persistence.referenceDelegate.removeReference(v,b.targetId,S)))))}catch(v){if(!wo(v))throw v;dt(ep,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const S=p.Ss.get(b),A=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(A);p.Ss=p.Ss.insert(b,M)}}}(i.localStore,o))}async function sM(n,t){const e=jt(n);if(!e.currentUser.isEqual(t)){dt(lp,"User change. New user:",t.toKey());const i=await kE(e.localStore,t);e.currentUser=t,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new Et(ut.CANCELLED,u))})}),o.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await GE(e,i.Ms)}}function aM(n,t){const e=jt(n),i=e._u.get(t);if(i&&i.tu)return Ft().add(i.key);{let a=Ft();const o=e.iu.get(t);if(!o)return a;for(const u of o){const h=e.ru.get(u);a=a.unionWith(h.view.Wa)}return a}}function QE(n){const t=jt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=qE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nM.bind(null,t),t.nu.Q_=qR.bind(null,t.eventManager),t.nu.Tu=YR.bind(null,t.eventManager),t}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=NE(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return _R(this.persistence,new mR,t.initialUser,this.serializer)}Ru(t){return new IE(Jm.Ei,this.serializer)}Au(t){return new SR}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class rM extends Gh{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){de(this.persistence.referenceDelegate instanceof Yh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new tR(i,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new IE(i=>Yh.Ei(i,e),this.serializer)}}class Tm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Gv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sM.bind(null,this.syncEngine),await BR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new HR}()}createDatastore(t){const e=NE(t.databaseInfo.databaseId),i=function(o){return new MR(o)}(t.databaseInfo);return function(o,u,h,f){return new IR(o,u,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,a,o,u,h){return new VR(i,a,o,u,h)}(this.localStore,this.datastore,t.asyncQueue,e=>Gv(this.syncEngine,e,0),function(){return Bv.C()?new Bv:new xR}())}createSyncEngine(t,e){return function(a,o,u,h,f,g,p){const v=new WR(a,o,u,h,f,g);return p&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const o=jt(a);dt(vo,"RemoteStore shutting down."),o.aa.add(5),await Du(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="FirestoreClient";class lM{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=rn.UNAUTHENTICATED,this.clientId=kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{dt(na,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(dt(na,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=UE(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function zg(n,t){n.asyncQueue.verifyOperationInProgress(),dt(na,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await kE(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function Xv(n,t){n.asyncQueue.verifyOperationInProgress();const e=await uM(n);dt(na,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>jv(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>jv(t.remoteStore,a)),n._onlineComponents=t}async function uM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(na,"Using user provided OfflineComponentProvider");try{await zg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===ut.FAILED_PRECONDITION||a.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;go("Error using user provided cache. Falling back to memory cache: "+e),await zg(n,new Gh)}}else dt(na,"Using default OfflineComponentProvider"),await zg(n,new rM(void 0));return n._offlineComponents}async function cM(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(na,"Using user provided OnlineComponentProvider"),await Xv(n,n._uninitializedComponentsProvider._online)):(dt(na,"Using default OnlineComponentProvider"),await Xv(n,new Tm))),n._onlineComponents}async function hM(n){const t=await cM(n),e=t.eventManager;return e.onListen=$R.bind(null,t.syncEngine),e.onUnlisten=tM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=ZR.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=eM.bind(null,t.syncEngine),e}function fM(n,t,e={}){const i=new tr;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,g){const p=new oM({next:b=>{p.yu(),u.enqueueAndForget(()=>FR(o,v)),b.fromCache&&f.source==="server"?g.reject(new Et(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new GR(h,p,{includeMetadataChanges:!0,Fa:!0});return jR(o,v)}(await hM(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;function dM(n,t,e,i){if(t===!0&&i===!0)throw new Et(ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Wv(n){if(xt.isDocumentKey(n))throw new Et(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gM(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function Sm(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Et(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=gM(n);throw new Et(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firestore.googleapis.com",$v=!0;class Zv{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Et(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=$v}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Z2)throw new Et(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XE((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Et(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Et(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Et(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cp{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ww;switch(i.type){case"firstParty":return new Cw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Et(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,L1("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Kv.get(e);i&&(dt("ComponentProvider","Removing Datastore"),Kv.delete(e),i.terminate())}(this),Promise.resolve()}}function mM(n,t,e,i={}){var a;n=Sm(n,cp);const o=jm(t),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;u.host!==KE&&u.host!==f&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:i});if(!Lh(g,h)&&(n._setSettings(g),o&&(Jx(`https://${f}`),L1("Firestore",!0)),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=rn.MOCK_USER;else{p=tA(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Et(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rn(b)}n._authCredentials=new Rw(new Z1(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new mf(this.firestore,t,this._query)}}class Mo{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Mo(this.firestore,t,this._key)}}class ho extends mf{constructor(t,e,i){super(t,e,fE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Mo(this.firestore,null,new xt(t))}withConverter(t){return new ho(this.firestore,t,this._path)}}function pM(n,t,...e){if(n=hA(n),n instanceof cp){const i=ye.fromString(t,...e);return Wv(i),new ho(n,null,i)}{if(!(n instanceof Mo||n instanceof ho))throw new Et(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ye.fromString(t,...e));return Wv(i),new ho(n.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="AsyncQueue";class tb{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new PE(this,"async_queue_retry"),this.ju=()=>{const i=Lg();i&&dt(Jv,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=t;const e=Lg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=Lg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new tr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!wo(t))throw t;dt(Jv,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(i=>{throw this.Ku=i,this.Wu=!1,ls("INTERNAL UNHANDLED ERROR: ",eb(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=e,e}enqueueAfterDelay(t,e,i){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const a=rp.createAndSchedule(this,t,e,i,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Rt(47125,{ec:eb(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function eb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class WE extends cp{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new tb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tb(t),this._firestoreClient=void 0,await t}}}function yM(n,t){const e=typeof n=="object"?n:dw(),i=typeof n=="string"?n:Uh,a=lw(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=$x("firestore");o&&mM(a,...o)}return a}function _M(n){if(n._terminated)throw new Et(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vM(n),n._firestoreClient}function vM(n){var t,e,i;const a=n._freezeSettings(),o=function(h,f,g,p){return new Qw(h,f,g,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,XE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new lM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qh(Je.fromBase64String(t))}catch(e){throw new Et(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Qh(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Et(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Et(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Et(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0}(this._values,t._values)}}const TM=new RegExp("[~\\*/\\[\\]]");function SM(n,t,e){if(t.search(TM)>=0)throw nb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new $E(...t.split("."))._internalPath}catch{throw nb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function nb(n,t,e,i,a){let o=`Function ${t}() called with invalid data`;o+=". ";let u="";return new Et(ut.INVALID_ARGUMENT,o+n+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(JE("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class xM extends ZE{data(){return super.data()}}function JE(n,t){return typeof t=="string"?SM(n,t):t instanceof $E?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Et(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wM{convertValue(t,e="none"){switch(ta(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ru(t,(a,o)=>{i[a]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,a;const o=(a=(i=(e=t.fields)===null||e===void 0?void 0:e[lm].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>Se(u.doubleValue));return new EM(o)}convertGeoPoint(t){return new bM(Se(t.latitude),Se(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=of(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(mu(t));default:return null}}convertTimestamp(t){const e=Zs(t);return new En(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ye.fromString(t);de(CE(i),9688,{name:t});const a=new pu(i.get(1),i.get(3)),o=new xt(i.popFirst(5));return a.isEqual(e)||ls(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class RM extends ZE{constructor(t,e,i,a,o,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(JE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Rh extends RM{data(t={}){return super.data(t)}}class MM{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new lh(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Rh(this._firestore,this._userDataWriter,i.key,i,new lh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Et(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new Rh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new lh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Rh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new lh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,p=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),p=u.indexOf(h.doc.key)),{type:DM(h.type),doc:f,oldIndex:g,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function DM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}class CM extends wM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Mo(this.firestore,null,e)}}function OM(n){n=Sm(n,mf);const t=Sm(n.firestore,WE),e=_M(t),i=new CM(t);return AM(n._query),fM(e,n._query).then(a=>new MM(t,i,n,a))}(function(t,e=!0){(function(a){Ao=a})(fw),Bh(new fu("firestore",(i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new WE(new Mw(i.getProvider("auth-internal")),new Ow(u,i.getProvider("app-check-internal")),function(g,p){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Et(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,p)}(u,a),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),lo(rv,ov,t),lo(rv,ov,"esm2017")})();const IM={apiKey:"AIzaSyAWvHQuHxroAGd3z620v5I1l7_LWNeI2bI",authDomain:"tcc-timetocode.firebaseapp.com",projectId:"tcc-timetocode",storageBucket:"tcc-timetocode.appspot.com",messagingSenderId:"803148399009",appId:"1:803148399009:web:29a78f54a3a686f2af8be0",measurementId:"G-PSW4MK3P0K"},kM=j1(IM),VM=yM(kM);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ou(n){return n+.5|0}const Fs=(n,t,e)=>Math.max(Math.min(n,e),t);function Kl(n){return Fs(Ou(n*2.55),0,255)}function Ws(n){return Fs(Ou(n*255),0,255)}function is(n){return Fs(Ou(n/2.55)/100,0,1)}function ib(n){return Fs(Ou(n*100),0,100)}const Qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xm=[..."0123456789ABCDEF"],NM=n=>xm[n&15],PM=n=>xm[(n&240)>>4]+xm[n&15],uh=n=>(n&240)>>4===(n&15),LM=n=>uh(n.r)&&uh(n.g)&&uh(n.b)&&uh(n.a);function zM(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Qn[n[1]]*17,g:255&Qn[n[2]]*17,b:255&Qn[n[3]]*17,a:t===5?Qn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Qn[n[1]]<<4|Qn[n[2]],g:Qn[n[3]]<<4|Qn[n[4]],b:Qn[n[5]]<<4|Qn[n[6]],a:t===9?Qn[n[7]]<<4|Qn[n[8]]:255})),e}const BM=(n,t)=>n<255?t(n):"";function UM(n){var t=LM(n)?NM:PM;return n?"#"+t(n.r)+t(n.g)+t(n.b)+BM(n.a,t):void 0}const HM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tT(n,t,e){const i=t*Math.min(e,1-e),a=(o,u=(o+n/30)%12)=>e-i*Math.max(Math.min(u-3,9-u,1),-1);return[a(0),a(8),a(4)]}function jM(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function FM(n,t,e){const i=tT(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function qM(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function hp(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),u=Math.min(e,i,a),h=(o+u)/2;let f,g,p;return o!==u&&(p=o-u,g=h>.5?p/(2-o-u):p/(o+u),f=qM(e,i,a,p,o),f=f*60+.5),[f|0,g||0,h]}function fp(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Ws)}function dp(n,t,e){return fp(tT,n,t,e)}function YM(n,t,e){return fp(FM,n,t,e)}function GM(n,t,e){return fp(jM,n,t,e)}function eT(n){return(n%360+360)%360}function QM(n){const t=HM.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Kl(+t[5]):Ws(+t[5]));const a=eT(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?i=YM(a,o,u):t[1]==="hsv"?i=GM(a,o,u):i=dp(a,o,u),{r:i[0],g:i[1],b:i[2],a:e}}function XM(n,t){var e=hp(n);e[0]=eT(e[0]+t),e=dp(e),n.r=e[0],n.g=e[1],n.b=e[2]}function KM(n){if(!n)return;const t=hp(n),e=t[0],i=ib(t[1]),a=ib(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${is(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const sb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ab={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function WM(){const n={},t=Object.keys(ab),e=Object.keys(sb);let i,a,o,u,h;for(i=0;i<t.length;i++){for(u=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,sb[o]);o=parseInt(ab[u],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let ch;function $M(n){ch||(ch=WM(),ch.transparent=[0,0,0,0]);const t=ch[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ZM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JM(n){const t=ZM.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const u=+t[7];e=t[8]?Kl(u):Fs(u*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?Kl(i):Fs(i,0,255)),a=255&(t[4]?Kl(a):Fs(a,0,255)),o=255&(t[6]?Kl(o):Fs(o,0,255)),{r:i,g:a,b:o,a:e}}}function tD(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${is(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Bg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,eo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function eD(n,t,e){const i=eo(is(n.r)),a=eo(is(n.g)),o=eo(is(n.b));return{r:Ws(Bg(i+e*(eo(is(t.r))-i))),g:Ws(Bg(a+e*(eo(is(t.g))-a))),b:Ws(Bg(o+e*(eo(is(t.b))-o))),a:n.a+e*(t.a-n.a)}}function hh(n,t,e){if(n){let i=hp(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=dp(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function nT(n,t){return n&&Object.assign(t||{},n)}function rb(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ws(n[3]))):(t=nT(n,{r:0,g:0,b:0,a:1}),t.a=Ws(t.a)),t}function nD(n){return n.charAt(0)==="r"?JM(n):QM(n)}class _u{constructor(t){if(t instanceof _u)return t;const e=typeof t;let i;e==="object"?i=rb(t):e==="string"&&(i=zM(t)||$M(t)||nD(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=nT(this._rgb);return t&&(t.a=is(t.a)),t}set rgb(t){this._rgb=rb(t)}rgbString(){return this._valid?tD(this._rgb):void 0}hexString(){return this._valid?UM(this._rgb):void 0}hslString(){return this._valid?KM(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const u=e===o?.5:e,h=2*u-1,f=i.a-a.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*a.r+.5,i.g=255&g*i.g+o*a.g+.5,i.b=255&g*i.b+o*a.b+.5,i.a=u*i.a+(1-u)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=eD(this._rgb,t._rgb,e)),this}clone(){return new _u(this.rgb)}alpha(t){return this._rgb.a=Ws(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ou(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return hh(this._rgb,2,t),this}darken(t){return hh(this._rgb,2,-t),this}saturate(t){return hh(this._rgb,1,t),this}desaturate(t){return hh(this._rgb,1,-t),this}rotate(t){return XM(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ts(){}const iD=(()=>{let n=0;return()=>n++})();function Nt(n){return n==null}function ce(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Pt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function _e(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function In(n,t){return _e(n)?n:t}function Mt(n,t){return typeof n>"u"?t:n}const sD=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,iT=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ae(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function $t(n,t,e,i){let a,o,u;if(ce(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(Pt(n))for(u=Object.keys(n),o=u.length,a=0;a<o;a++)t.call(e,n[u[a]],u[a])}function Xh(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Kh(n){if(ce(n))return n.map(Kh);if(Pt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Kh(n[e[a]]);return t}return n}function sT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function aD(n,t,e,i){if(!sT(n))return;const a=t[n],o=e[n];Pt(a)&&Pt(o)?vu(a,o,i):t[n]=Kh(o)}function vu(n,t,e){const i=ce(t)?t:[t],a=i.length;if(!Pt(n))return n;e=e||{};const o=e.merger||aD;let u;for(let h=0;h<a;++h){if(u=i[h],!Pt(u))continue;const f=Object.keys(u);for(let g=0,p=f.length;g<p;++g)o(f[g],n,u,e)}return n}function ru(n,t){return vu(n,t,{merger:rD})}function rD(n,t,e){if(!sT(n))return;const i=t[n],a=e[n];Pt(i)&&Pt(a)?ru(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Kh(a))}const ob={"":n=>n,x:n=>n.x,y:n=>n.y};function oD(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function lD(n){const t=oD(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function ia(n,t){return(ob[t]||(ob[t]=lD(t)))(n)}function gp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const bu=n=>typeof n<"u",sa=n=>typeof n=="function",lb=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function uD(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const oe=Math.PI,re=2*oe,cD=re+oe,Wh=Number.POSITIVE_INFINITY,hD=oe/180,xe=oe/2,qa=oe/4,ub=oe*2/3,qs=Math.log10,Ai=Math.sign;function ou(n,t,e){return Math.abs(n-t)<e}function cb(n){const t=Math.round(n);n=ou(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(qs(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function fD(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function dD(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Eo(n){return!dD(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function gD(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function aT(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ti(n){return n*(oe/180)}function mp(n){return n*(180/oe)}function hb(n){if(!_e(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function rT(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*oe&&(o+=re),{angle:o,distance:a}}function Am(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function mD(n,t){return(n-t+cD)%re-oe}function kn(n){return(n%re+re)%re}function Eu(n,t,e,i){const a=kn(n),o=kn(t),u=kn(e),h=kn(o-a),f=kn(u-a),g=kn(a-o),p=kn(a-u);return a===o||a===u||i&&o===u||h>f&&g<p}function Ge(n,t,e){return Math.max(t,Math.min(e,n))}function pD(n){return Ge(n,-32768,32767)}function ss(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function pp(n,t,e){e=e||(u=>n[u]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const as=(n,t,e,i)=>pp(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),yD=(n,t,e)=>pp(n,e,i=>n[i][t]>=e);function _D(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const oT=["push","pop","shift","splice","unshift"];function vD(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),oT.forEach(e=>{const i="_onData"+gp(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const u=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),u}})})}function fb(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(oT.forEach(o=>{delete n[o]}),delete n._chartjs)}function lT(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const uT=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function cT(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,uT.call(window,()=>{i=!1,n.apply(t,e)}))}}function bD(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const yp=n=>n==="start"?"left":n==="end"?"right":"center",an=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,ED=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function hT(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:u,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=u.axis,{min:v,max:b,minDefined:S,maxDefined:A}=u.getUserBounds();if(S){if(a=Math.min(as(f,p,v).lo,e?i:as(t,p,u.getPixelForValue(v)).lo),g){const M=f.slice(0,a+1).reverse().findIndex(C=>!Nt(C[h.axis]));a-=Math.max(0,M)}a=Ge(a,0,i-1)}if(A){let M=Math.max(as(f,u.axis,b,!0).hi+1,e?0:as(t,p,u.getPixelForValue(b),!0).hi+1);if(g){const C=f.slice(M-1).findIndex(B=>!Nt(B[h.axis]));M+=Math.max(0,C)}o=Ge(M,a,i)-a}else o=i-a}return{start:a,count:o}}function fT(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const fh=n=>n===0||n===1,db=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*re/e)),gb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*re/e)+1,lu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*xe)+1,easeOutSine:n=>Math.sin(n*xe),easeInOutSine:n=>-.5*(Math.cos(oe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>fh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>fh(n)?n:db(n,.075,.3),easeOutElastic:n=>fh(n)?n:gb(n,.075,.3),easeInOutElastic(n){return fh(n)?n:n<.5?.5*db(n*2,.1125,.45):.5+.5*gb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-lu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?lu.easeInBounce(n*2)*.5:lu.easeOutBounce(n*2-1)*.5+.5};function _p(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function mb(n){return _p(n)?n:new _u(n)}function Ug(n){return _p(n)?n:new _u(n).saturate(.5).darken(.1).hexString()}const TD=["x","y","borderWidth","radius","tension"],SD=["color","borderColor","backgroundColor"];function xD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:SD},numbers:{type:"number",properties:TD}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function AD(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const pb=new Map;function wD(n,t){t=t||{};const e=n+JSON.stringify(t);let i=pb.get(e);return i||(i=new Intl.NumberFormat(n,t),pb.set(e,i)),i}function Iu(n,t,e){return wD(t,e).format(n)}const dT={values(n){return ce(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(a="scientific"),o=RD(n,e)}const u=qs(Math.abs(o)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Iu(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(qs(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?dT.numeric.call(this,n,t,e):""}};function RD(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var pf={formatters:dT};function MD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ar=Object.create(null),wm=Object.create(null);function uu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Hg(n,t,e){return typeof t=="string"?vu(uu(n,t),e):vu(uu(n,""),t)}class DD{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Ug(a.backgroundColor),this.hoverBorderColor=(i,a)=>Ug(a.borderColor),this.hoverColor=(i,a)=>Ug(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Hg(this,t,e)}get(t){return uu(this,t)}describe(t,e){return Hg(wm,t,e)}override(t,e){return Hg(ar,t,e)}route(t,e,i,a){const o=uu(this,t),u=uu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=u[a];return Pt(f)?Object.assign({},g,f):Mt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var he=new DD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[xD,AD,MD]);function CD(n){return!n||Nt(n.size)||Nt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function $h(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function OD(n,t,e,i){i=i||{};let a=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(a=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let u=0;const h=e.length;let f,g,p,v,b;for(f=0;f<h;f++)if(v=e[f],v!=null&&!ce(v))u=$h(n,a,o,u,v);else if(ce(v))for(g=0,p=v.length;g<p;g++)b=v[g],b!=null&&!ce(b)&&(u=$h(n,a,o,u,b));n.restore();const S=o.length/2;if(S>e.length){for(f=0;f<S;f++)delete a[o[f]];o.splice(0,S)}return u}function Ya(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function yb(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Rm(n,t,e,i){gT(n,t,e,i,null)}function gT(n,t,e,i,a){let o,u,h,f,g,p,v,b;const S=t.pointStyle,A=t.rotation,M=t.radius;let C=(A||0)*hD;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(M)||M<=0)){switch(n.beginPath(),S){default:a?n.ellipse(e,i,a/2,M,0,0,re):n.arc(e,i,M,0,re),n.closePath();break;case"triangle":p=a?a/2:M,n.moveTo(e+Math.sin(C)*p,i-Math.cos(C)*M),C+=ub,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*M),C+=ub,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*M),n.closePath();break;case"rectRounded":g=M*.516,f=M-g,u=Math.cos(C+qa)*f,v=Math.cos(C+qa)*(a?a/2-g:f),h=Math.sin(C+qa)*f,b=Math.sin(C+qa)*(a?a/2-g:f),n.arc(e-v,i-h,g,C-oe,C-xe),n.arc(e+b,i-u,g,C-xe,C),n.arc(e+v,i+h,g,C,C+xe),n.arc(e-b,i+u,g,C+xe,C+oe),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*M,p=a?a/2:f,n.rect(e-p,i-f,2*p,2*f);break}C+=qa;case"rectRot":v=Math.cos(C)*(a?a/2:M),u=Math.cos(C)*M,h=Math.sin(C)*M,b=Math.sin(C)*(a?a/2:M),n.moveTo(e-v,i-h),n.lineTo(e+b,i-u),n.lineTo(e+v,i+h),n.lineTo(e-b,i+u),n.closePath();break;case"crossRot":C+=qa;case"cross":v=Math.cos(C)*(a?a/2:M),u=Math.cos(C)*M,h=Math.sin(C)*M,b=Math.sin(C)*(a?a/2:M),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"star":v=Math.cos(C)*(a?a/2:M),u=Math.cos(C)*M,h=Math.sin(C)*M,b=Math.sin(C)*(a?a/2:M),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u),C+=qa,v=Math.cos(C)*(a?a/2:M),u=Math.cos(C)*M,h=Math.sin(C)*M,b=Math.sin(C)*(a?a/2:M),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"line":u=a?a/2:Math.cos(C)*M,h=Math.sin(C)*M,n.moveTo(e-u,i-h),n.lineTo(e+u,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(a?a/2:M),i+Math.sin(C)*M);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function rs(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function yf(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function _f(n){n.restore()}function ID(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function kD(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function VD(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Nt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function ND(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,p=a.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(u,p),n.lineTo(h,p),n.stroke()}}function PD(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function rr(n,t,e,i,a,o={}){const u=ce(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=a.string,VD(n,o),f=0;f<u.length;++f)g=u[f],o.backdrop&&PD(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Nt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),ND(n,e,i,g,o),i+=Number(a.lineHeight);n.restore()}function Tu(n,t){const{x:e,y:i,w:a,h:o,radius:u}=t;n.arc(e+u.topLeft,i+u.topLeft,u.topLeft,1.5*oe,oe,!0),n.lineTo(e,i+o-u.bottomLeft),n.arc(e+u.bottomLeft,i+o-u.bottomLeft,u.bottomLeft,oe,xe,!0),n.lineTo(e+a-u.bottomRight,i+o),n.arc(e+a-u.bottomRight,i+o-u.bottomRight,u.bottomRight,xe,0,!0),n.lineTo(e+a,i+u.topRight),n.arc(e+a-u.topRight,i+u.topRight,u.topRight,0,-xe,!0),n.lineTo(e+u.topLeft,i)}const LD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function BD(n,t){const e=(""+n).match(LD);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const UD=n=>+n||0;function vp(n,t){const e={},i=Pt(t),a=i?Object.keys(t):t,o=Pt(n)?i?u=>Mt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of a)e[u]=UD(o(u));return e}function mT(n){return vp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function nr(n){return vp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function un(n){const t=mT(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Le(n,t){n=n||{},t=t||he.font;let e=Mt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Mt(n.style,t.style);i&&!(""+i).match(zD)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Mt(n.family,t.family),lineHeight:BD(Mt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Mt(n.weight,t.weight),string:""};return a.string=CD(a),a}function Wl(n,t,e,i){let a,o,u;for(a=0,o=n.length;a<o;++a)if(u=n[a],u!==void 0&&u!==void 0)return u}function HD(n,t,e){const{min:i,max:a}=n,o=iT(t,(a-i)/2),u=(h,f)=>e&&h===0?0:h+f;return{min:u(i,-Math.abs(o)),max:u(a,o)}}function ra(n,t){return Object.assign(Object.create(n),t)}function bp(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=vT("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>bp([h,...n],t,o,i)};return new Proxy(u,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return yT(h,f,()=>KD(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return vb(h).includes(f)},ownKeys(h){return vb(h)},set(h,f,g){const p=h._storage||(h._storage=a());return h[f]=p[f]=g,delete h._keys,!0}})}function To(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:pT(n,i),setContext:o=>To(n,o,e,i),override:o=>To(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,u){return delete o[u],delete n[u],!0},get(o,u,h){return yT(o,u,()=>FD(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(o,u,h){return n[u]=h,delete o[u],!0}})}function pT(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:sa(e)?e:()=>e,isIndexable:sa(i)?i:()=>i}}const jD=(n,t)=>n?n+gp(t):t,Ep=(n,t)=>Pt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function yT(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function FD(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:u}=n;let h=i[t];return sa(h)&&u.isScriptable(t)&&(h=qD(t,h,n,e)),ce(h)&&h.length&&(h=YD(t,h,n,u.isIndexable)),Ep(t,h)&&(h=To(h,a,o&&o[t],u)),h}function qD(n,t,e,i){const{_proxy:a,_context:o,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,u||i);return h.delete(n),Ep(n,f)&&(f=Tp(a._scopes,a,n,f)),f}function YD(n,t,e,i){const{_proxy:a,_context:o,_subProxy:u,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Pt(t[0])){const f=t,g=a._scopes.filter(p=>p!==f);t=[];for(const p of f){const v=Tp(g,a,n,p);t.push(To(v,o,u&&u[n],h))}}return t}function _T(n,t,e){return sa(n)?n(t,e):n}const GD=(n,t)=>n===!0?t:typeof n=="string"?ia(t,n):void 0;function QD(n,t,e,i,a){for(const o of t){const u=GD(e,o);if(u){n.add(u);const h=_T(u._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(u===!1&&typeof i<"u"&&e!==i)return null}return!1}function Tp(n,t,e,i){const a=t._rootScopes,o=_T(t._fallback,e,i),u=[...n,...a],h=new Set;h.add(i);let f=_b(h,u,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=_b(h,u,o,f,i),f===null)?!1:bp(Array.from(h),[""],a,o,()=>XD(t,e,i))}function _b(n,t,e,i,a){for(;e;)e=QD(n,t,e,i,a);return e}function XD(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return ce(a)&&Pt(e)?e:a||{}}function KD(n,t,e,i){let a;for(const o of t)if(a=vT(jD(o,n),e),typeof a<"u")return Ep(n,a)?Tp(e,i,n,a):a}function vT(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function vb(n){let t=n._keys;return t||(t=n._keys=WD(n._scopes)),t}function WD(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}function bT(n,t,e,i){const{iScale:a}=n,{key:o="r"}=this._parsing,u=new Array(i);let h,f,g,p;for(h=0,f=i;h<f;++h)g=h+e,p=t[g],u[h]={r:a.parse(ia(p,o),g)};return u}const $D=Number.EPSILON||1e-14,So=(n,t)=>t<n.length&&!n[t].skip&&n[t],ET=n=>n==="x"?"y":"x";function ZD(n,t,e,i){const a=n.skip?t:n,o=t,u=e.skip?t:e,h=Am(o,a),f=Am(u,o);let g=h/(h+f),p=f/(h+f);g=isNaN(g)?0:g,p=isNaN(p)?0:p;const v=i*g,b=i*p;return{previous:{x:o.x-v*(u.x-a.x),y:o.y-v*(u.y-a.y)},next:{x:o.x+b*(u.x-a.x),y:o.y+b*(u.y-a.y)}}}function JD(n,t,e){const i=n.length;let a,o,u,h,f,g=So(n,0);for(let p=0;p<i-1;++p)if(f=g,g=So(n,p+1),!(!f||!g)){if(ou(t[p],0,$D)){e[p]=e[p+1]=0;continue}a=e[p]/t[p],o=e[p+1]/t[p],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(u=3/Math.sqrt(h),e[p]=a*u*t[p],e[p+1]=o*u*t[p])}}function tC(n,t,e="x"){const i=ET(e),a=n.length;let o,u,h,f=So(n,0);for(let g=0;g<a;++g){if(u=h,h=f,f=So(n,g+1),!h)continue;const p=h[e],v=h[i];u&&(o=(p-u[e])/3,h[`cp1${e}`]=p-o,h[`cp1${i}`]=v-o*t[g]),f&&(o=(f[e]-p)/3,h[`cp2${e}`]=p+o,h[`cp2${i}`]=v+o*t[g])}}function eC(n,t="x"){const e=ET(t),i=n.length,a=Array(i).fill(0),o=Array(i);let u,h,f,g=So(n,0);for(u=0;u<i;++u)if(h=f,f=g,g=So(n,u+1),!!f){if(g){const p=g[t]-f[t];a[u]=p!==0?(g[e]-f[e])/p:0}o[u]=h?g?Ai(a[u-1])!==Ai(a[u])?0:(a[u-1]+a[u])/2:a[u-1]:a[u]}JD(n,a,o),tC(n,o,t)}function dh(n,t,e){return Math.max(Math.min(n,e),t)}function nC(n,t){let e,i,a,o,u,h=rs(n[0],t);for(e=0,i=n.length;e<i;++e)u=o,o=h,h=e<i-1&&rs(n[e+1],t),o&&(a=n[e],u&&(a.cp1x=dh(a.cp1x,t.left,t.right),a.cp1y=dh(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=dh(a.cp2x,t.left,t.right),a.cp2y=dh(a.cp2y,t.top,t.bottom)))}function iC(n,t,e,i,a){let o,u,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")eC(n,a);else{let g=i?n[n.length-1]:n[0];for(o=0,u=n.length;o<u;++o)h=n[o],f=ZD(g,h,n[Math.min(o+1,u-(i?0:1))%u],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&nC(n,e)}function Sp(){return typeof window<"u"&&typeof document<"u"}function xp(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Zh(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const vf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function sC(n,t){return vf(n).getPropertyValue(t)}const aC=["top","right","bottom","left"];function ir(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=aC[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const rC=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function oC(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let u=!1,h,f;if(rC(a,o,n.target))h=a,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,u=!0}return{x:h,y:f,box:u}}function Ka(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=vf(e),o=a.boxSizing==="border-box",u=ir(a,"padding"),h=ir(a,"border","width"),{x:f,y:g,box:p}=oC(n,e),v=u.left+(p&&h.left),b=u.top+(p&&h.top);let{width:S,height:A}=t;return o&&(S-=u.width+h.width,A-=u.height+h.height),{x:Math.round((f-v)/S*e.width/i),y:Math.round((g-b)/A*e.height/i)}}function lC(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&xp(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const u=o.getBoundingClientRect(),h=vf(o),f=ir(h,"border","width"),g=ir(h,"padding");t=u.width-g.width-f.width,e=u.height-g.height-f.height,i=Zh(h.maxWidth,o,"clientWidth"),a=Zh(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Wh,maxHeight:a||Wh}}const gh=n=>Math.round(n*10)/10;function uC(n,t,e,i){const a=vf(n),o=ir(a,"margin"),u=Zh(a.maxWidth,n,"clientWidth")||Wh,h=Zh(a.maxHeight,n,"clientHeight")||Wh,f=lC(n,t,e);let{width:g,height:p}=f;if(a.boxSizing==="content-box"){const b=ir(a,"border","width"),S=ir(a,"padding");g-=S.width+b.width,p-=S.height+b.height}return g=Math.max(0,g-o.width),p=Math.max(0,i?g/i:p-o.height),g=gh(Math.min(g,u,f.maxWidth)),p=gh(Math.min(p,h,f.maxHeight)),g&&!p&&(p=gh(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,g=gh(Math.floor(p*i))),{width:g,height:p}}function bb(n,t,e){const i=t||1,a=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||u.height!==a||u.width!==o?(n.currentDevicePixelRatio=i,u.height=a,u.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const cC=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Sp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Eb(n,t){const e=sC(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Wa(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function hC(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function fC(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},u=Wa(n,a,e),h=Wa(a,o,e),f=Wa(o,t,e),g=Wa(u,h,e),p=Wa(h,f,e);return Wa(g,p,e)}const dC=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},gC=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function fo(n,t,e){return n?dC(t,e):gC()}function TT(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function ST(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function xT(n){return n==="angle"?{between:Eu,compare:mD,normalize:kn}:{between:ss,compare:(t,e)=>t-e,normalize:t=>t}}function Tb({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function mC(n,t,e){const{property:i,start:a,end:o}=e,{between:u,normalize:h}=xT(i),f=t.length;let{start:g,end:p,loop:v}=n,b,S;if(v){for(g+=f,p+=f,b=0,S=f;b<S&&u(h(t[g%f][i]),a,o);++b)g--,p--;g%=f,p%=f}return p<g&&(p+=f),{start:g,end:p,loop:v,style:n.style}}function AT(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,u=t.length,{compare:h,between:f,normalize:g}=xT(i),{start:p,end:v,loop:b,style:S}=mC(n,t,e),A=[];let M=!1,C=null,B,H,X;const $=()=>f(a,X,B)&&h(a,X)!==0,G=()=>h(o,B)===0||f(o,X,B),et=()=>M||$(),I=()=>!M||G();for(let w=p,O=p;w<=v;++w)H=t[w%u],!H.skip&&(B=g(H[i]),B!==X&&(M=f(B,a,o),C===null&&et()&&(C=h(B,a)===0?w:O),C!==null&&I()&&(A.push(Tb({start:C,end:w,loop:b,count:u,style:S})),C=null),O=w,X=B));return C!==null&&A.push(Tb({start:C,end:v,loop:b,count:u,style:S})),A}function wT(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=AT(i[a],n.points,t);o.length&&e.push(...o)}return e}function pC(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function yC(n,t,e,i){const a=n.length,o=[];let u=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%a];g.skip||g.stop?h.skip||(i=!1,o.push({start:t%a,end:(f-1)%a,loop:i}),t=u=g.stop?f:null):(u=f,h.skip&&(t=f)),h=g}return u!==null&&o.push({start:t%a,end:u%a,loop:i}),o}function _C(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:u,end:h}=pC(e,a,o,i);if(i===!0)return Sb(n,[{start:u,end:h,loop:o}],e,t);const f=h<u?h+a:h,g=!!n._fullLoop&&u===0&&h===a-1;return Sb(n,yC(e,u,f,g),e,t)}function Sb(n,t,e,i){return!i||!i.setContext||!e?t:vC(n,t,e,i)}function vC(n,t,e,i){const a=n._chart.getContext(),o=xb(n.options),{_datasetIndex:u,options:{spanGaps:h}}=n,f=e.length,g=[];let p=o,v=t[0].start,b=v;function S(A,M,C,B){const H=h?-1:1;if(A!==M){for(A+=f;e[A%f].skip;)A-=H;for(;e[M%f].skip;)M+=H;A%f!==M%f&&(g.push({start:A%f,end:M%f,loop:C,style:B}),p=B,v=M%f)}}for(const A of t){v=h?v:A.start;let M=e[v%f],C;for(b=v+1;b<=A.end;b++){const B=e[b%f];C=xb(i.setContext(ra(a,{type:"segment",p0:M,p1:B,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:u}))),bC(C,p)&&S(v,b-1,A.loop,p),M=B,p=C}v<b-1&&S(v,b-1,A.loop,p)}return g}function xb(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function bC(n,t){if(!t)return!1;const e=[],i=function(a,o){return _p(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function mh(n,t,e){return n.options.clip?n[e]:t[e]}function EC(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:mh(e,t,"left"),right:mh(e,t,"right"),top:mh(i,t,"top"),bottom:mh(i,t,"bottom")}:t}function RT(n,t){const e=t._clip;if(e.disabled)return!1;const i=EC(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class TC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],u=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(i-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=uT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let u=o.length-1,h=!1,f;for(;u>=0;--u)f=o[u],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var es=new TC;const Ab="transparent",SC={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=mb(n||Ab),a=i.valid&&mb(t||Ab);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class xC{constructor(t,e,i,a){const o=e[i];a=Wl([t.to,a,o,t.from]);const u=Wl([t.from,o,a]);this._active=!0,this._fn=t.fn||SC[t.type||typeof u],this._easing=lu[t.easing]||lu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=u,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,u=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Wl([t.to,e,a,t.from]),this._from=Wl([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,u=this._loop,h=this._to;let f;if(this._active=o!==h&&(u||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class MT{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Pt(t))return;const e=Object.keys(he.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Pt(o))return;const u={};for(const h of e)u[h]=o[h];(ce(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,u)})})}_animateOptions(t,e){const i=e.options,a=wC(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&AC(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){a.push(...this._animateOptions(t,e));continue}const p=e[g];let v=o[g];const b=i.get(g);if(v)if(b&&v.active()){v.update(b,p,h);continue}else v.cancel();if(!b||!b.duration){t[g]=p;continue}o[g]=v=new xC(b,t,g,p),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return es.add(this._chart,i),!0}}function AC(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function wC(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function wb(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function RC(n,t,e){if(e===!1)return!1;const i=wb(n,e),a=wb(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function MC(n){let t,e,i,a;return Pt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function DT(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function Rb(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let u,h,f,g;if(t===null)return;let p=!1;for(u=0,h=a.length;u<h;++u){if(f=+a[u],f===e){if(p=!0,i.all)continue;break}g=n.values[f],_e(g)&&(o||t===0||Ai(t)===Ai(g))&&(t+=g)}return!p&&!i.all?0:t}function DC(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let f,g,p;for(f=0,g=u.length;f<g;++f)p=u[f],h[f]={[a]:p,[o]:n[p]};return h}function jg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function CC(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function OC(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function IC(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Mb(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function Db(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:h}=i,f=o.axis,g=u.axis,p=CC(o,u,i),v=t.length;let b;for(let S=0;S<v;++S){const A=t[S],{[f]:M,[g]:C}=A,B=A._stacks||(A._stacks={});b=B[g]=IC(a,p,M),b[h]=C,b._top=Mb(b,u,!0,i.type),b._bottom=Mb(b,u,!1,i.type);const H=b._visualValues||(b._visualValues={});H[h]=C}}function Fg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function kC(n,t){return ra(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function VC(n,t,e){return ra(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Bl(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const qg=n=>n==="reset"||n==="none",Cb=(n,t)=>t?n:Object.assign({},n),NC=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:DT(e,!0),values:null};class ei{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=jg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Bl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(v,b,S,A)=>v==="x"?b:v==="r"?A:S,o=e.xAxisID=Mt(i.xAxisID,Fg(t,"x")),u=e.yAxisID=Mt(i.yAxisID,Fg(t,"y")),h=e.rAxisID=Mt(i.rAxisID,Fg(t,"r")),f=e.indexAxis,g=e.iAxisID=a(f,o,u,h),p=e.vAxisID=a(f,u,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&fb(this._data,this),t._stacked&&Bl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Pt(e)){const a=this._cachedMeta;this._data=DC(e,a)}else if(i!==e){if(i){fb(i,this);const a=this._cachedMeta;Bl(a),a._parsed=[]}e&&Object.isExtensible(e)&&vD(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=jg(e.vScale,e),e.stack!==i.stack&&(a=!0,Bl(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(Db(this,e._parsed),e._stacked=jg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:u}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,g=t>0&&i._parsed[t-1],p,v,b;if(this._parsing===!1)i._parsed=a,i._sorted=!0,b=a;else{ce(a[t])?b=this.parseArrayData(i,a,t,e):Pt(a[t])?b=this.parseObjectData(i,a,t,e):b=this.parsePrimitiveData(i,a,t,e);const S=()=>v[h]===null||g&&v[h]<g[h];for(p=0;p<e;++p)i._parsed[p+t]=v=b[p],f&&(S()&&(f=!1),g=v);i._sorted=f}u&&Db(this,b)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:u}=t,h=o.axis,f=u.axis,g=o.getLabels(),p=o===u,v=new Array(a);let b,S,A;for(b=0,S=a;b<S;++b)A=b+i,v[b]={[h]:p||o.parse(g[A],A),[f]:u.parse(e[A],A)};return v}parseArrayData(t,e,i,a){const{xScale:o,yScale:u}=t,h=new Array(a);let f,g,p,v;for(f=0,g=a;f<g;++f)p=f+i,v=e[p],h[f]={x:o.parse(v[0],p),y:u.parse(v[1],p)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(a);let p,v,b,S;for(p=0,v=a;p<v;++p)b=p+i,S=e[b],g[p]={x:o.parse(ia(S,h),b),y:u.parse(ia(S,f),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,u=e[t.axis],h={keys:DT(a,!0),values:e._stacks[t.axis]._visualValues};return Rb(h,u,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let u=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,u=Rb(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,u=a.length,h=this._getOtherScale(t),f=NC(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=OC(h);let b,S;function A(){S=a[b];const M=S[h.axis];return!_e(S[t.axis])||p>M||v<M}for(b=0;b<u&&!(!A()&&(this.updateRangeFromParsed(g,t,S,f),o));++b);if(o){for(b=u-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(g,t,S,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,u;for(a=0,o=e.length;a<o;++a)u=e[a][t.axis],_e(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=MC(Mt(this.options.clip,RC(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,u=[],h=this._drawStart||0,f=this._drawCount||a.length-h,g=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,h,f),p=h;p<h+f;++p){const v=a[p];v.hidden||(v.active&&g?u.push(v):v.draw(t,o))}for(p=0;p<u.length;++p)u[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=VC(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=kC(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,u=t+"-"+e,h=o[u],f=this.enableOptionSharing&&bu(i);if(h)return Cb(h,f);const g=this.chart.config,p=g.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),p),S=Object.keys(he.elements[t]),A=()=>this.getContext(i,a,e),M=g.resolveNamedOptions(b,S,A,v);return M.$shared&&(M.$shared=f,o[u]=Object.freeze(Cb(M,f))),M}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,h=o[u];if(h)return h;let f;if(a.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,e),b=p.getOptionScopes(this.getDataset(),v);f=p.createResolver(b,this.getContext(t,i,e))}const g=new MT(a,f&&f.animations);return f&&f._cacheable&&(o[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||qg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),u=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:u}}updateElement(t,e,i,a){qg(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!qg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const a=i.length,o=e.length,u=Math.min(o,a);u&&this.parse(0,u),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,u=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(f(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&Bl(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}lt(ei,"defaults",{}),lt(ei,"datasetElementType",null),lt(ei,"dataElementType",null);function PC(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let a=0,o=e.length;a<o;a++)i=i.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=lT(i.sort((a,o)=>a-o))}return n._cache.$bar}function LC(n){const t=n.iScale,e=PC(t,n.type);let i=t._length,a,o,u,h;const f=()=>{u===32767||u===-32768||(bu(h)&&(i=Math.min(i,Math.abs(u-h)||i)),h=u)};for(a=0,o=e.length;a<o;++a)u=t.getPixelForValue(e[a]),f();for(h=void 0,a=0,o=t.ticks.length;a<o;++a)u=t.getPixelForTick(a),f();return i}function zC(n,t,e,i){const a=e.barThickness;let o,u;return Nt(a)?(o=t.min*e.categoryPercentage,u=e.barPercentage):(o=a*i,u=1),{chunk:o/i,ratio:u,start:t.pixels[n]-o/2}}function BC(n,t,e,i){const a=t.pixels,o=a[n];let u=n>0?a[n-1]:null,h=n<a.length-1?a[n+1]:null;const f=e.categoryPercentage;u===null&&(u=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-u);const g=o-(o-Math.min(u,h))/2*f;return{chunk:Math.abs(h-u)/2*f/i,ratio:e.barPercentage,start:g}}function UC(n,t,e,i){const a=e.parse(n[0],i),o=e.parse(n[1],i),u=Math.min(a,o),h=Math.max(a,o);let f=u,g=h;Math.abs(u)>Math.abs(h)&&(f=h,g=u),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:a,end:o,min:u,max:h}}function CT(n,t,e,i){return ce(n)?UC(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Ob(n,t,e,i){const a=n.iScale,o=n.vScale,u=a.getLabels(),h=a===o,f=[];let g,p,v,b;for(g=e,p=e+i;g<p;++g)b=t[g],v={},v[a.axis]=h||a.parse(u[g],g),f.push(CT(b,v,o,g));return f}function Yg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function HC(n,t,e){return n!==0?Ai(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function jC(n){let t,e,i,a,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(a="end",o="start"):(a="start",o="end"),{start:e,end:i,reverse:t,top:a,bottom:o}}function FC(n,t,e,i){let a=t.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:u,end:h,reverse:f,top:g,bottom:p}=jC(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?a=g:(e._bottom||0)===i?a=p:(o[Ib(p,u,h,f)]=!0,a=g)),o[Ib(a,u,h,f)]=!0,n.borderSkipped=o}function Ib(n,t,e,i){return i?(n=qC(n,t,e),n=kb(n,e,t)):n=kb(n,t,e),n}function qC(n,t,e){return n===t?e:n===e?t:n}function kb(n,t,e){return n==="start"?t:n==="end"?e:n}function YC(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class cu extends ei{parsePrimitiveData(t,e,i,a){return Ob(t,e,i,a)}parseArrayData(t,e,i,a){return Ob(t,e,i,a)}parseObjectData(t,e,i,a){const{iScale:o,vScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,p=u.axis==="x"?h:f,v=[];let b,S,A,M;for(b=i,S=i+a;b<S;++b)M=e[b],A={},A[o.axis]=o.parse(ia(M,g),b),v.push(CT(ia(M,p),A,u,b));return v}updateRangeFromParsed(t,e,i,a){super.updateRangeFromParsed(t,e,i,a);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:a}=e,o=this.getParsed(t),u=o._custom,h=Yg(u)?"["+u.start+", "+u.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,a){const o=a==="reset",{index:u,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),p=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(e,a);for(let S=e;S<e+i;S++){const A=this.getParsed(S),M=o||Nt(A[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),C=this._calculateBarIndexPixels(S,p),B=(A._stacks||{})[h.axis],H={horizontal:g,base:M.base,enableBorderRadius:!B||Yg(A._custom)||u===B._top||u===B._bottom,x:g?M.head:C.center,y:g?C.center:M.head,height:g?C.size:Math.abs(M.size),width:g?Math.abs(M.size):C.size};b&&(H.options=v||this.resolveDataElementOptions(S,t[S].active?"active":a));const X=H.options||t[S].options;FC(H,X,B,u),YC(H,X,p.ratio),this.updateElement(t[S],S,H,a)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,u=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=p=>{const v=p._parsed.find(S=>S[i.axis]===f),b=v&&v[p.vScale.axis];if(Nt(b)||isNaN(b))return!0};for(const p of a)if(!(e!==void 0&&g(p))&&((o===!1||u.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&u.push(p.stack),p.index===t))break;return u.length||u.push(void 0),u}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const a=this._getStacks(t,i),o=e!==void 0?a.indexOf(e):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,a=[];let o,u;for(o=0,u=e.data.length;o<u;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||LC(e),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:a},options:{base:o,minBarLength:u}}=this,h=o||0,f=this.getParsed(t),g=f._custom,p=Yg(g);let v=f[e.axis],b=0,S=i?this.applyStack(e,f,i):v,A,M;S!==v&&(b=S-v,S=v),p&&(v=g.barStart,S=g.barEnd-g.barStart,v!==0&&Ai(v)!==Ai(g.barEnd)&&(b=0),b+=v);const C=!Nt(o)&&!p?o:b;let B=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(b+S):A=B,M=A-B,Math.abs(M)<u){M=HC(M,e,h)*u,v===h&&(B-=M/2);const H=e.getPixelForDecimal(0),X=e.getPixelForDecimal(1),$=Math.min(H,X),G=Math.max(H,X);B=Math.max(Math.min(B,G),$),A=B+M,i&&!p&&(f._stacks[e.axis]._visualValues[a]=e.getValueForPixel(A)-e.getValueForPixel(B))}if(B===e.getPixelForValue(h)){const H=Ai(M)*e.getLineWidthForValue(h)/2;B+=H,M-=H}return{size:M,base:B,head:A,center:A+M/2}}_calculateBarIndexPixels(t,e){const i=e.scale,a=this.options,o=a.skipNull,u=Mt(a.maxBarThickness,1/0);let h,f;if(e.grouped){const g=o?this._getStackCount(t):e.stackCount,p=a.barThickness==="flex"?BC(t,e,a,g):zC(t,e,a,g),v=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);h=p.start+p.chunk*v+p.chunk/2,f=Math.min(u,p.chunk*p.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(u,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}lt(cu,"id","bar"),lt(cu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),lt(cu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Mh extends ei{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,a){const o=super.parsePrimitiveData(t,e,i,a);for(let u=0;u<o.length;u++)o[u]._custom=this.resolveDataElementOptions(u+i).radius;return o}parseArrayData(t,e,i,a){const o=super.parseArrayData(t,e,i,a);for(let u=0;u<o.length;u++){const h=e[i+u];o[u]._custom=Mt(h[2],this.resolveDataElementOptions(u+i).radius)}return o}parseObjectData(t,e,i,a){const o=super.parseObjectData(t,e,i,a);for(let u=0;u<o.length;u++){const h=e[i+u];o[u]._custom=Mt(h&&h.r&&+h.r,this.resolveDataElementOptions(u+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=e,u=this.getParsed(t),h=a.getLabelForValue(u.x),f=o.getLabelForValue(u.y),g=u._custom;return{label:i[t]||"",value:"("+h+", "+f+(g?", "+g:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:u,vScale:h}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,a),p=u.axis,v=h.axis;for(let b=e;b<e+i;b++){const S=t[b],A=!o&&this.getParsed(b),M={},C=M[p]=o?u.getPixelForDecimal(.5):u.getPixelForValue(A[p]),B=M[v]=o?h.getBasePixel():h.getPixelForValue(A[v]);M.skip=isNaN(C)||isNaN(B),g&&(M.options=f||this.resolveDataElementOptions(b,S.active?"active":a),o&&(M.options.radius=0)),this.updateElement(S,b,M,a)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return e!=="active"&&(a.radius=0),a.radius+=Mt(i&&i._custom,o),a}}lt(Mh,"id","bubble"),lt(Mh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),lt(Mh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function GC(n,t,e){let i=1,a=1,o=0,u=0;if(t<re){const h=n,f=h+t,g=Math.cos(h),p=Math.sin(h),v=Math.cos(f),b=Math.sin(f),S=(X,$,G)=>Eu(X,h,f,!0)?1:Math.max($,$*e,G,G*e),A=(X,$,G)=>Eu(X,h,f,!0)?-1:Math.min($,$*e,G,G*e),M=S(0,g,v),C=S(xe,p,b),B=A(oe,g,v),H=A(oe+xe,p,b);i=(M-B)/2,a=(C-H)/2,o=-(M+B)/2,u=-(C+H)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:u}}class Ja extends ei{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=f=>+i[f];if(Pt(i[t])){const{key:f="value"}=this._parsing;o=g=>+ia(i[g],f)}let u,h;for(u=t,h=t+e;u<h;++u)a._parsed[u]=o(u)}}_getRotation(){return ti(this.options.rotation-90)}_getCircumference(){return ti(this.options.circumference)}_getRotationExtents(){let t=re,e=-re;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),u=a._getCircumference();t=Math.min(t,o),e=Math.max(e,o+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,a=this._cachedMeta,o=a.data,u=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-u)/2,0),f=Math.min(sD(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:p,rotation:v}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:A,offsetY:M}=GC(v,p,f),C=(i.width-u)/b,B=(i.height-u)/S,H=Math.max(Math.min(C,B)/2,0),X=iT(this.options.radius,H),$=Math.max(X*f,0),G=(X-$)/this._getVisibleDatasetWeightTotal();this.offsetX=A*X,this.offsetY=M*X,a.total=this.calculateTotal(),this.outerRadius=X-G*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-G*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/re)}updateElements(t,e,i,a){const o=a==="reset",u=this.chart,h=u.chartArea,g=u.options.animation,p=(h.left+h.right)/2,v=(h.top+h.bottom)/2,b=o&&g.animateScale,S=b?0:this.innerRadius,A=b?0:this.outerRadius,{sharedOptions:M,includeOptions:C}=this._getSharedOptions(e,a);let B=this._getRotation(),H;for(H=0;H<e;++H)B+=this._circumference(H,o);for(H=e;H<e+i;++H){const X=this._circumference(H,o),$=t[H],G={x:p+this.offsetX,y:v+this.offsetY,startAngle:B,endAngle:B+X,circumference:X,outerRadius:A,innerRadius:S};C&&(G.options=M||this.resolveDataElementOptions(H,$.active?"active":a)),B+=X,this.updateElement($,H,G,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,a;for(a=0;a<e.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?re*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Iu(e._parsed[t],i.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let a,o,u,h,f;if(!t){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){u=i.getDatasetMeta(a),t=u.data,h=u.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=h.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,a=t.length;i<a;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Mt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}lt(Ja,"id","doughnut"),lt(Ja,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),lt(Ja,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),lt(Ja,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:a}}=t.legend.options;return e.labels.map((o,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Dh extends ei{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,u=this.chart._animationsDisabled;let{start:h,count:f}=hT(e,a,u);this._drawStart=h,this._drawCount=f,fT(e)&&(h=0,f=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!u,options:g},t),this.updateElements(a,h,f,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:u,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(e,a),b=u.axis,S=h.axis,{spanGaps:A,segment:M}=this.options,C=Eo(A)?A:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||o||a==="none",H=e+i,X=t.length;let $=e>0&&this.getParsed(e-1);for(let G=0;G<X;++G){const et=t[G],I=B?et:{};if(G<e||G>=H){I.skip=!0;continue}const w=this.getParsed(G),O=Nt(w[S]),k=I[b]=u.getPixelForValue(w[b],G),N=I[S]=o||O?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,w,f):w[S],G);I.skip=isNaN(k)||isNaN(N)||O,I.stop=G>0&&Math.abs(w[b]-$[b])>C,M&&(I.parsed=w,I.raw=g.data[G]),v&&(I.options=p||this.resolveDataElementOptions(G,et.active?"active":a)),B||this.updateElement(et,G,I,a),$=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),u=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}lt(Dh,"id","line"),lt(Dh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),lt(Dh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class hu extends ei{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Iu(e._parsed[t].r,i.options.locale);return{label:a[t]||"",value:o}}parseObjectData(t,e,i,a){return bT.bind(this)(t,e,i,a)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,a)=>{const o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(a/2,0),u=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),h=(o-u)/t.getVisibleDatasetCount();this.outerRadius=o-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,e,i,a){const o=a==="reset",u=this.chart,f=u.options.animation,g=this._cachedMeta.rScale,p=g.xCenter,v=g.yCenter,b=g.getIndexAngle(0)-.5*oe;let S=b,A;const M=360/this.countVisibleElements();for(A=0;A<e;++A)S+=this._computeAngle(A,a,M);for(A=e;A<e+i;A++){const C=t[A];let B=S,H=S+this._computeAngle(A,a,M),X=u.getDataVisibility(A)?g.getDistanceFromCenterForValue(this.getParsed(A).r):0;S=H,o&&(f.animateScale&&(X=0),f.animateRotate&&(B=H=b));const $={x:p,y:v,innerRadius:0,outerRadius:X,startAngle:B,endAngle:H,options:this.resolveDataElementOptions(A,C.active?"active":a)};this.updateElement(C,A,$,a)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ti(this.resolveDataElementOptions(t,e).angle||i):0}}lt(hu,"id","polarArea"),lt(hu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),lt(hu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:a}}=t.legend.options;return e.labels.map((o,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Mm extends Ja{}lt(Mm,"id","pie"),lt(Mm,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ch extends ei{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,a){return bT.bind(this)(t,e,i,a)}update(t){const e=this._cachedMeta,i=e.dataset,a=e.data||[],o=e.iScale.getLabels();if(i.points=a,t!=="resize"){const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0);const h={_loop:!0,_fullLoop:o.length===a.length,options:u};this.updateElement(i,void 0,h,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,i,a){const o=this._cachedMeta.rScale,u=a==="reset";for(let h=e;h<e+i;h++){const f=t[h],g=this.resolveDataElementOptions(h,f.active?"active":a),p=o.getPointPositionForValue(h,this.getParsed(h).r),v=u?o.xCenter:p.x,b=u?o.yCenter:p.y,S={x:v,y:b,angle:p.angle,skip:isNaN(v)||isNaN(b),options:g};this.updateElement(f,h,S,a)}}}lt(Ch,"id","radar"),lt(Ch,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),lt(Ch,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Oh extends ei{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=e,u=this.getParsed(t),h=a.getLabelForValue(u.x),f=o.getLabelForValue(u.y);return{label:i[t]||"",value:"("+h+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,a=this.chart._animationsDisabled;let{start:o,count:u}=hT(e,i,a);if(this._drawStart=o,this._drawCount=u,fT(e)&&(o=0,u=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:f}=e;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!f._decimated,h.points=i;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(h,void 0,{animated:!a,options:g},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,u,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,a){const o=a==="reset",{iScale:u,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,p=this.resolveDataElementOptions(e,a),v=this.getSharedOptions(p),b=this.includeOptions(a,v),S=u.axis,A=h.axis,{spanGaps:M,segment:C}=this.options,B=Eo(M)?M:Number.POSITIVE_INFINITY,H=this.chart._animationsDisabled||o||a==="none";let X=e>0&&this.getParsed(e-1);for(let $=e;$<e+i;++$){const G=t[$],et=this.getParsed($),I=H?G:{},w=Nt(et[A]),O=I[S]=u.getPixelForValue(et[S],$),k=I[A]=o||w?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,et,f):et[A],$);I.skip=isNaN(O)||isNaN(k)||w,I.stop=$>0&&Math.abs(et[S]-X[S])>B,C&&(I.parsed=et,I.raw=g.data[$]),b&&(I.options=v||this.resolveDataElementOptions($,G.active?"active":a)),H||this.updateElement(G,$,I,a),X=et}this.updateSharedOptions(v,a,p)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let h=0;for(let f=e.length-1;f>=0;--f)h=Math.max(h,e[f].size(this.resolveDataElementOptions(f))/2);return h>0&&h}const i=t.dataset,a=i.options&&i.options.borderWidth||0;if(!e.length)return a;const o=e[0].size(this.resolveDataElementOptions(0)),u=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,o,u)/2}}lt(Oh,"id","scatter"),lt(Oh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),lt(Oh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var QC=Object.freeze({__proto__:null,BarController:cu,BubbleController:Mh,DoughnutController:Ja,LineController:Dh,PieController:Mm,PolarAreaController:hu,RadarController:Ch,ScatterController:Oh});function Ga(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ap{constructor(t){lt(this,"options");this.options=t||{}}static override(t){Object.assign(Ap.prototype,t)}init(){}formats(){return Ga()}parse(){return Ga()}format(){return Ga()}add(){return Ga()}diff(){return Ga()}startOf(){return Ga()}endOf(){return Ga()}}var XC={_date:Ap};function KC(n,t,e,i){const{controller:a,data:o,_sorted:u}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const g=h._reversePixels?yD:as;if(i){if(a._sharedOptions){const p=o[0],v=typeof p.getRange=="function"&&p.getRange(t);if(v){const b=g(o,t,e-v),S=g(o,t,e+v);return{lo:b.lo,hi:S.hi}}}}else{const p=g(o,t,e);if(f){const{vScale:v}=a._cachedMeta,{_parsed:b}=n,S=b.slice(0,p.lo+1).reverse().findIndex(M=>!Nt(M[v.axis]));p.lo-=Math.max(0,S);const A=b.slice(p.hi).findIndex(M=>!Nt(M[v.axis]));p.hi+=Math.max(0,A)}return p}}return{lo:0,hi:o.length-1}}function bf(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:p}=o[h],{lo:v,hi:b}=KC(o[h],t,u,a);for(let S=v;S<=b;++S){const A=p[S];A.skip||i(A,g,S)}}}function WC(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,u=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function Gg(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||bf(n,e,t,function(h,f,g){!a&&!rs(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function $C(n,t,e,i){let a=[];function o(u,h,f){const{startAngle:g,endAngle:p}=u.getProps(["startAngle","endAngle"],i),{angle:v}=rT(u,{x:t.x,y:t.y});Eu(v,g,p)&&a.push({element:u,datasetIndex:h,index:f})}return bf(n,e,t,o),a}function ZC(n,t,e,i,a,o){let u=[];const h=WC(e);let f=Number.POSITIVE_INFINITY;function g(p,v,b){const S=p.inRange(t.x,t.y,a);if(i&&!S)return;const A=p.getCenterPoint(a);if(!(!!o||n.isPointInArea(A))&&!S)return;const C=h(t,A);C<f?(u=[{element:p,datasetIndex:v,index:b}],f=C):C===f&&u.push({element:p,datasetIndex:v,index:b})}return bf(n,e,t,g),u}function Qg(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?$C(n,t,e,a):ZC(n,t,e,i,a,o)}function Vb(n,t,e,i,a){const o=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return bf(n,e,t,(f,g,p)=>{f[u]&&f[u](t[e],a)&&(o.push({element:f,datasetIndex:g,index:p}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var JC={modes:{index(n,t,e,i){const a=Ka(t,n),o=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?Gg(n,a,o,i,u):Qg(n,a,o,!1,i,u),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const p=h[0].index,v=g.data[p];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:p})}),f):[]},dataset(n,t,e,i){const a=Ka(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?Gg(n,a,o,i,u):Qg(n,a,o,!1,i,u);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let p=0;p<g.length;++p)h.push({element:g[p],datasetIndex:f,index:p})}return h},point(n,t,e,i){const a=Ka(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return Gg(n,a,o,i,u)},nearest(n,t,e,i){const a=Ka(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return Qg(n,a,o,e.intersect,i,u)},x(n,t,e,i){const a=Ka(t,n);return Vb(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=Ka(t,n);return Vb(n,a,"y",e.intersect,i)}}};const OT=["left","top","right","bottom"];function Ul(n,t){return n.filter(e=>e.pos===t)}function Nb(n,t){return n.filter(e=>OT.indexOf(e.pos)===-1&&e.box.axis===t)}function Hl(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function tO(n){const t=[];let e,i,a,o,u,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:u,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:u&&o+u,stackWeight:h});return t}function eO(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!OT.includes(a))continue;const u=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function nO(n,t){const e=eO(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,u,h;for(o=0,u=n.length;o<u;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],p=g&&h.stackWeight/g.weight;h.horizontal?(h.width=p?p*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=p?p*a:f&&t.availableHeight)}return e}function iO(n){const t=tO(n),e=Hl(t.filter(g=>g.box.fullSize),!0),i=Hl(Ul(t,"left"),!0),a=Hl(Ul(t,"right")),o=Hl(Ul(t,"top"),!0),u=Hl(Ul(t,"bottom")),h=Nb(t,"x"),f=Nb(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(u).concat(h),chartArea:Ul(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(u).concat(h)}}function Pb(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function IT(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function sO(n,t,e,i){const{pos:a,box:o}=e,u=n.maxPadding;if(!Pt(a)){e.size&&(n[a]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[a]+=e.size}o.getPadding&&IT(u,o.getPadding());const h=Math.max(0,t.outerWidth-Pb(u,n,"left","right")),f=Math.max(0,t.outerHeight-Pb(u,n,"top","bottom")),g=h!==n.w,p=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:p}:{same:p,other:g}}function aO(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function rO(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return i(n?["left","right"]:["top","bottom"])}function $l(n,t,e,i){const a=[];let o,u,h,f,g,p;for(o=0,u=n.length,g=0;o<u;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,rO(h.horizontal,t));const{same:v,other:b}=sO(t,e,h,i);g|=v&&a.length,p=p||b,f.fullSize||a.push(h)}return g&&$l(a,t,e,i)||p}function ph(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function Lb(n,t,e,i){const a=e.padding;let{x:o,y:u}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},p=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*p,b=g.size||f.height;bu(g.start)&&(u=g.start),f.fullSize?ph(f,a.left,u,e.outerWidth-a.right-a.left,b):ph(f,t.left+g.placed,u,v,b),g.start=u,g.placed+=v,u=f.bottom}else{const v=t.h*p,b=g.size||f.width;bu(g.start)&&(o=g.start),f.fullSize?ph(f,o,a.top,b,e.outerHeight-a.bottom-a.top):ph(f,o,t.top+g.placed,b,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=u}var ln={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=un(n.options.layout.padding),o=Math.max(t-a.width,0),u=Math.max(e-a.height,0),h=iO(n.boxes),f=h.vertical,g=h.horizontal;$t(n.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const p=f.reduce((M,C)=>C.box.options&&C.box.options.display===!1?M:M+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/p,hBoxMaxHeight:u/2}),b=Object.assign({},a);IT(b,un(i));const S=Object.assign({maxPadding:b,w:o,h:u,x:a.left,y:a.top},a),A=nO(f.concat(g),v);$l(h.fullSize,S,v,A),$l(f,S,v,A),$l(g,S,v,A)&&$l(f,S,v,A),aO(S),Lb(h.leftAndTop,S,v,A),S.x+=S.w,S.y+=S.h,Lb(h.rightAndBottom,S,v,A),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},$t(h.chartArea,M=>{const C=M.box;Object.assign(C,n.chartArea),C.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class kT{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class oO extends kT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ih="$chartjs",lO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zb=n=>n===null||n==="";function uO(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[Ih]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",zb(a)){const o=Eb(n,"width");o!==void 0&&(n.width=o)}if(zb(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Eb(n,"height");o!==void 0&&(n.height=o)}return n}const VT=cC?{passive:!0}:!1;function cO(n,t,e){n&&n.addEventListener(t,e,VT)}function hO(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,VT)}function fO(n,t){const e=lO[n.type]||n.type,{x:i,y:a}=Ka(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Jh(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function dO(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||Jh(h.addedNodes,i),u=u&&!Jh(h.removedNodes,i);u&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function gO(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||Jh(h.removedNodes,i),u=u&&!Jh(h.addedNodes,i);u&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const Su=new Map;let Bb=0;function NT(){const n=window.devicePixelRatio;n!==Bb&&(Bb=n,Su.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function mO(n,t){Su.size||window.addEventListener("resize",NT),Su.set(n,t)}function pO(n){Su.delete(n),Su.size||window.removeEventListener("resize",NT)}function yO(n,t,e){const i=n.canvas,a=i&&xp(i);if(!a)return;const o=cT((h,f)=>{const g=a.clientWidth;e(h,f),g<a.clientWidth&&e()},window),u=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,p=f.contentRect.height;g===0&&p===0||o(g,p)});return u.observe(a),mO(n,o),u}function Xg(n,t,e){e&&e.disconnect(),t==="resize"&&pO(n)}function _O(n,t,e){const i=n.canvas,a=cT(o=>{n.ctx!==null&&e(fO(o,n))},n);return cO(i,t,a),a}class vO extends kT{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(uO(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Ih])return!1;const i=e[Ih].initial;["height","width"].forEach(o=>{const u=i[o];Nt(u)?e.removeAttribute(o):e.setAttribute(o,u)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[Ih],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),u={attach:dO,detach:gO,resize:yO}[e]||_O;a[e]=u(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:Xg,detach:Xg,resize:Xg}[e]||hO)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return uC(t,e,i,a)}isAttached(t){const e=t&&xp(t);return!!(e&&e.isConnected)}}function bO(n){return!Sp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?oO:vO}class ni{constructor(){lt(this,"x");lt(this,"y");lt(this,"active",!1);lt(this,"options");lt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Eo(this.x)&&Eo(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}lt(ni,"defaults",{}),lt(ni,"defaultRoutes");function EO(n,t){const e=n.options.ticks,i=TO(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?xO(t):[],u=o.length,h=o[0],f=o[u-1],g=[];if(u>a)return AO(t,g,o,u/a),g;const p=SO(o,t,a);if(u>0){let v,b;const S=u>1?Math.round((f-h)/(u-1)):null;for(yh(t,g,p,Nt(S)?0:h-S,h),v=0,b=u-1;v<b;v++)yh(t,g,p,o[v],o[v+1]);return yh(t,g,p,f,Nt(S)?t.length:f+S),g}return yh(t,g,p),g}function TO(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function SO(n,t,e){const i=wO(n),a=t.length/e;if(!i)return Math.max(a,1);const o=fD(i);for(let u=0,h=o.length-1;u<h;u++){const f=o[u];if(f>a)return f}return Math.max(a,1)}function xO(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function AO(n,t,e,i){let a=0,o=e[0],u;for(i=Math.ceil(i),u=0;u<n.length;u++)u===o&&(t.push(n[u]),a++,o=e[a*i])}function yh(n,t,e,i,a){const o=Mt(i,0),u=Math.min(Mt(a,n.length),n.length);let h=0,f,g,p;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),p=o;p<0;)h++,p=Math.round(o+h*e);for(g=Math.max(o,0);g<u;g++)g===p&&(t.push(n[g]),h++,p=Math.round(o+h*e))}function wO(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const RO=n=>n==="left"?"right":n==="right"?"left":n,Ub=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Hb=(n,t)=>Math.min(t||n,n);function jb(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function MO(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,u=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),g;if(!(e&&(i===1?g=Math.max(f-o,u-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(a-1))/2,f+=a<t?g:-g,f<o-h||f>u+h)))return f}function DO(n,t){$t(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function jl(n){return n.drawTicks?n.tickLength:0}function Fb(n,t){if(!n.display)return 0;const e=Le(n.font,t),i=un(n.padding);return(ce(n.text)?n.text.length:1)*e.lineHeight+i.height}function CO(n,t){return ra(n,{scale:t,type:"scale"})}function OO(n,t,e){return ra(n,{tick:e,index:t,type:"tick"})}function IO(n,t,e){let i=yp(n);return(e&&t!=="right"||!e&&t==="right")&&(i=RO(i)),i}function kO(n,t,e,i){const{top:a,left:o,bottom:u,right:h,chart:f}=n,{chartArea:g,scales:p}=f;let v=0,b,S,A;const M=u-a,C=h-o;if(n.isHorizontal()){if(S=an(i,o,h),Pt(e)){const B=Object.keys(e)[0],H=e[B];A=p[B].getPixelForValue(H)+M-t}else e==="center"?A=(g.bottom+g.top)/2+M-t:A=Ub(n,e,t);b=h-o}else{if(Pt(e)){const B=Object.keys(e)[0],H=e[B];S=p[B].getPixelForValue(H)-C+t}else e==="center"?S=(g.left+g.right)/2-C+t:S=Ub(n,e,t);A=an(i,u,a),v=e==="left"?-xe:xe}return{titleX:S,titleY:A,maxWidth:b,rotation:v}}class lr extends ni{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=In(t,Number.POSITIVE_INFINITY),e=In(e,Number.NEGATIVE_INFINITY),i=In(i,Number.POSITIVE_INFINITY),a=In(a,Number.NEGATIVE_INFINITY),{min:In(t,i),max:In(e,a),minDefined:_e(t),maxDefined:_e(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),u;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)u=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,u.min)),o||(i=Math.max(i,u.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:In(e,In(i,e)),max:In(i,In(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=HD(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?jb(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=EO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ae(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=ae(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Hb(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let u=a,h,f,g;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),v=p.widest.width,b=p.highest.height,S=Ge(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),v+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-jl(t.grid)-e.padding-Fb(t.title,this.chart.options.font),g=Math.sqrt(v*v+b*b),u=mp(Math.min(Math.asin(Ge((p.highest.height+6)/h,-1,1)),Math.asin(Ge(f/g,-1,1))-Math.asin(Ge(b/g,-1,1)))),u=Math.max(a,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const f=Fb(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=jl(o)+f):(t.height=this.maxHeight,t.width=jl(o)+f),i.display&&this.ticks.length){const{first:g,last:p,widest:v,highest:b}=this._getLabelSizes(),S=i.padding*2,A=ti(this.labelRotation),M=Math.cos(A),C=Math.sin(A);if(h){const B=i.mirror?0:C*v.width+M*b.height;t.height=Math.min(this.maxHeight,t.height+B+S)}else{const B=i.mirror?0:M*v.width+C*b.height;t.width=Math.min(this.maxWidth,t.width+B+S)}this._calculatePadding(g,p,C,M)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:u},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;f?g?(b=a*t.width,S=i*e.height):(b=i*t.height,S=a*e.width):o==="start"?S=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-p+u)*this.width/(this.width-p),0),this.paddingRight=Math.max((S-v+u)*this.width/(this.width-v),0)}else{let p=e.height/2,v=t.height/2;o==="start"?(p=0,v=t.height):o==="end"&&(p=e.height,v=0),this.paddingTop=p+u,this.paddingBottom=v+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Nt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=jb(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,u=[],h=[],f=Math.floor(e/Hb(e,i));let g=0,p=0,v,b,S,A,M,C,B,H,X,$,G;for(v=0;v<e;v+=f){if(A=t[v].label,M=this._resolveTickFontOptions(v),a.font=C=M.string,B=o[C]=o[C]||{data:{},gc:[]},H=M.lineHeight,X=$=0,!Nt(A)&&!ce(A))X=$h(a,B.data,B.gc,X,A),$=H;else if(ce(A))for(b=0,S=A.length;b<S;++b)G=A[b],!Nt(G)&&!ce(G)&&(X=$h(a,B.data,B.gc,X,G),$+=H);u.push(X),h.push($),g=Math.max(X,g),p=Math.max($,p)}DO(o,e);const et=u.indexOf(g),I=h.indexOf(p),w=O=>({width:u[O]||0,height:h[O]||0});return{first:w(0),last:w(e-1),widest:w(et),highest:w(I),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return pD(this._alignToPixels?Ya(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=OO(this.getContext(),t,i))}return this.$context||(this.$context=CO(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ti(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,f=o?o.highest.height+u:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:u,border:h}=a,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),b=jl(o),S=[],A=h.setContext(this.getContext()),M=A.display?A.width:0,C=M/2,B=function(j){return Ya(i,j,M)};let H,X,$,G,et,I,w,O,k,N,L,D;if(u==="top")H=B(this.bottom),I=this.bottom-b,O=H-C,N=B(t.top)+C,D=t.bottom;else if(u==="bottom")H=B(this.top),N=t.top,D=B(t.bottom)-C,I=H+C,O=this.top+b;else if(u==="left")H=B(this.right),et=this.right-b,w=H-C,k=B(t.left)+C,L=t.right;else if(u==="right")H=B(this.left),k=t.left,L=B(t.right)-C,et=H+C,w=this.left+b;else if(e==="x"){if(u==="center")H=B((t.top+t.bottom)/2+.5);else if(Pt(u)){const j=Object.keys(u)[0],it=u[j];H=B(this.chart.scales[j].getPixelForValue(it))}N=t.top,D=t.bottom,I=H+C,O=I+b}else if(e==="y"){if(u==="center")H=B((t.left+t.right)/2);else if(Pt(u)){const j=Object.keys(u)[0],it=u[j];H=B(this.chart.scales[j].getPixelForValue(it))}et=H-C,w=et-b,k=t.left,L=t.right}const ft=Mt(a.ticks.maxTicksLimit,v),ht=Math.max(1,Math.ceil(v/ft));for(X=0;X<v;X+=ht){const j=this.getContext(X),it=o.setContext(j),ct=h.setContext(j),vt=it.lineWidth,P=it.color,st=ct.dash||[],ot=ct.dashOffset,at=it.tickWidth,mt=it.tickColor,At=it.tickBorderDash||[],yt=it.tickBorderDashOffset;$=MO(this,X,f),$!==void 0&&(G=Ya(i,$,vt),g?et=w=k=L=G:I=O=N=D=G,S.push({tx1:et,ty1:I,tx2:w,ty2:O,x1:k,y1:N,x2:L,y2:D,width:vt,color:P,borderDash:st,borderDashOffset:ot,tickWidth:at,tickColor:mt,tickBorderDash:At,tickBorderDashOffset:yt}))}return this._ticksLength=v,this._borderValue=H,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,u=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:p,mirror:v}=o,b=jl(i.grid),S=b+p,A=v?-p:S,M=-ti(this.labelRotation),C=[];let B,H,X,$,G,et,I,w,O,k,N,L,D="middle";if(a==="top")et=this.bottom-A,I=this._getXAxisLabelAlignment();else if(a==="bottom")et=this.top+A,I=this._getXAxisLabelAlignment();else if(a==="left"){const ht=this._getYAxisLabelAlignment(b);I=ht.textAlign,G=ht.x}else if(a==="right"){const ht=this._getYAxisLabelAlignment(b);I=ht.textAlign,G=ht.x}else if(e==="x"){if(a==="center")et=(t.top+t.bottom)/2+S;else if(Pt(a)){const ht=Object.keys(a)[0],j=a[ht];et=this.chart.scales[ht].getPixelForValue(j)+S}I=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")G=(t.left+t.right)/2-S;else if(Pt(a)){const ht=Object.keys(a)[0],j=a[ht];G=this.chart.scales[ht].getPixelForValue(j)}I=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?D="top":f==="end"&&(D="bottom"));const ft=this._getLabelSizes();for(B=0,H=h.length;B<H;++B){X=h[B],$=X.label;const ht=o.setContext(this.getContext(B));w=this.getPixelForTick(B)+o.labelOffset,O=this._resolveTickFontOptions(B),k=O.lineHeight,N=ce($)?$.length:1;const j=N/2,it=ht.color,ct=ht.textStrokeColor,vt=ht.textStrokeWidth;let P=I;u?(G=w,I==="inner"&&(B===H-1?P=this.options.reverse?"left":"right":B===0?P=this.options.reverse?"right":"left":P="center"),a==="top"?g==="near"||M!==0?L=-N*k+k/2:g==="center"?L=-ft.highest.height/2-j*k+k:L=-ft.highest.height+k/2:g==="near"||M!==0?L=k/2:g==="center"?L=ft.highest.height/2-j*k:L=ft.highest.height-N*k,v&&(L*=-1),M!==0&&!ht.showLabelBackdrop&&(G+=k/2*Math.sin(M))):(et=w,L=(1-N)*k/2);let st;if(ht.showLabelBackdrop){const ot=un(ht.backdropPadding),at=ft.heights[B],mt=ft.widths[B];let At=L-ot.top,yt=0-ot.left;switch(D){case"middle":At-=at/2;break;case"bottom":At-=at;break}switch(I){case"center":yt-=mt/2;break;case"right":yt-=mt;break;case"inner":B===H-1?yt-=mt:B>0&&(yt-=mt/2);break}st={left:yt,top:At,width:mt+ot.width,height:at+ot.height,color:ht.backdropColor}}C.push({label:$,font:O,textOffset:L,options:{rotation:M,color:it,strokeColor:ct,strokeWidth:vt,textAlign:P,textBaseline:D,translation:[G,et],backdrop:st}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ti(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,f=u.widest.width;let g,p;return e==="left"?a?(p=this.right+o,i==="near"?g="left":i==="center"?(g="center",p+=f/2):(g="right",p+=f)):(p=this.right-h,i==="near"?g="right":i==="center"?(g="center",p-=f/2):(g="left",p=this.left)):e==="right"?a?(p=this.left+o,i==="near"?g="right":i==="center"?(g="center",p-=f/2):(g="left",p-=f)):(p=this.left+h,i==="near"?g="left":i==="center"?(g="center",p+=f/2):(g="right",p=this.right)):g="right",{textAlign:g,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(f,g,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,u=a.length;o<u;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),u=i.display?o.width:0;if(!u)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,p,v,b;this.isHorizontal()?(g=Ya(t,this.left,u)-u/2,p=Ya(t,this.right,h)+h/2,v=b=f):(v=Ya(t,this.top,u)-u/2,b=Ya(t,this.bottom,h)+h/2,g=p=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(p,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&yf(i,a);const o=this.getLabelItems(t);for(const u of o){const h=u.options,f=u.font,g=u.label,p=u.textOffset;rr(i,g,0,p,f,h)}a&&_f(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=Le(i.font),u=un(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Pt(e)?(f+=u.bottom,ce(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=u.top;const{titleX:g,titleY:p,maxWidth:v,rotation:b}=kO(this,f,e,h);rr(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:b,textAlign:IO(h,e,a),textBaseline:"middle",translation:[g,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Mt(t.grid&&t.grid.z,-1),a=Mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==lr.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,u;for(o=0,u=e.length;o<u;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Le(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class _h{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;PO(e)&&(i=this.register(e));const a=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,VO(t,u,i),this.override&&he.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in he[a]&&(delete he[a][i],this.override&&delete ar[i])}}function VO(n,t,e){const i=vu(Object.create(null),[e?he.get(e):{},he.get(t),n.defaults]);he.set(t,i),n.defaultRoutes&&NO(t,n.defaultRoutes),n.descriptors&&he.describe(t,n.descriptors)}function NO(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),u=t[e].split("."),h=u.pop(),f=u.join(".");he.route(o,a,f,h)})}function PO(n){return"id"in n&&"defaults"in n}class LO{constructor(){this.controllers=new _h(ei,"datasets",!0),this.elements=new _h(ni,"elements"),this.plugins=new _h(Object,"plugins"),this.scales=new _h(lr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):$t(a,u=>{const h=i||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,i){const a=gp(t);ae(i["before"+a],[],i),e[t](i),ae(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Ei=new LO;class zO{constructor(){this._init=[]}notify(t,e,i,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),u=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,i,a){a=a||{};for(const o of t){const u=o.plugin,h=u[i],f=[e,a,o.options];if(ae(h,f,u)===!1&&a.cancelable)return!1}return!0}invalidate(){Nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=Mt(i.options&&i.options.plugins,{}),o=BO(i);return a===!1&&!e?[]:HO(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,u)=>o.filter(h=>!u.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function BO(n){const t={},e=[],i=Object.keys(Ei.plugins.items);for(let o=0;o<i.length;o++)e.push(Ei.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const u=a[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function UO(n,t){return!t&&n===!1?null:n===!0?{}:n}function HO(n,{plugins:t,localIds:e},i,a){const o=[],u=n.getContext();for(const h of t){const f=h.id,g=UO(i[f],a);g!==null&&o.push({plugin:h,options:jO(n.config,{plugin:h,local:e[f]},g,u)})}return o}function jO(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),u=n.getOptionScopes(i,o);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dm(n,t){const e=he.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function FO(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function qO(n,t){return n===t?"_index_":"_value_"}function qb(n){if(n==="x"||n==="y"||n==="r")return n}function YO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Cm(n,...t){if(qb(n))return n;for(const e of t){const i=e.axis||YO(e.position)||n.length>1&&qb(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Yb(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function GO(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Yb(n,"x",e[0])||Yb(n,"y",e[0])}return{}}function QO(n,t){const e=ar[n.type]||{scales:{}},i=t.scales||{},a=Dm(n.type,t),o=Object.create(null);return Object.keys(i).forEach(u=>{const h=i[u];if(!Pt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=Cm(u,h,GO(u,n),he.scales[h.type]),g=qO(f,a),p=e.scales||{};o[u]=ru(Object.create(null),[{axis:f},h,p[f],p[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,f=u.indexAxis||Dm(h,t),p=(ar[h]||{}).scales||{};Object.keys(p).forEach(v=>{const b=FO(v,f),S=u[b+"AxisID"]||b;o[S]=o[S]||Object.create(null),ru(o[S],[{axis:b},i[S],p[v]])})}),Object.keys(o).forEach(u=>{const h=o[u];ru(h,[he.scales[h.type],he.scale])}),o}function PT(n){const t=n.options||(n.options={});t.plugins=Mt(t.plugins,{}),t.scales=QO(n,t)}function LT(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function XO(n){return n=n||{},n.data=LT(n.data),PT(n),n}const Gb=new Map,zT=new Set;function vh(n,t){let e=Gb.get(n);return e||(e=t(),Gb.set(n,e),zT.add(e)),e}const Fl=(n,t,e)=>{const i=ia(t,e);i!==void 0&&n.add(i)};class KO{constructor(t){this._config=XO(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=LT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),PT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return vh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return vh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return vh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return vh(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,u=this._cachedScopes(t,i),h=u.get(e);if(h)return h;const f=new Set;e.forEach(p=>{t&&(f.add(t),p.forEach(v=>Fl(f,t,v))),p.forEach(v=>Fl(f,a,v)),p.forEach(v=>Fl(f,ar[o]||{},v)),p.forEach(v=>Fl(f,he,v)),p.forEach(v=>Fl(f,wm,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),zT.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,ar[e]||{},he.datasets[e]||{},{type:e},he,wm]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=Qb(this._resolverCache,t,a);let f=u;if($O(u,e)){o.$shared=!1,i=sa(i)?i():i;const g=this.createResolver(t,i,h);f=To(u,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],a){const{resolver:o}=Qb(this._resolverCache,t,i);return Pt(e)?To(o,e,void 0,a):o}}function Qb(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:bp(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const WO=n=>Pt(n)&&Object.getOwnPropertyNames(n).some(t=>sa(n[t]));function $O(n,t){const{isScriptable:e,isIndexable:i}=pT(n);for(const a of t){const o=e(a),u=i(a),h=(u||o)&&n[a];if(o&&(sa(h)||WO(h))||u&&ce(h))return!0}return!1}var ZO="4.4.9";const JO=["top","bottom","left","right","chartArea"];function Xb(n,t){return n==="top"||n==="bottom"||JO.indexOf(n)===-1&&t==="x"}function Kb(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Wb(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ae(e&&e.onComplete,[n],t)}function t4(n){const t=n.chart,e=t.options.animation;ae(e&&e.onProgress,[n],t)}function BT(n){return Sp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const kh={},$b=n=>{const t=BT(n);return Object.values(kh).filter(e=>e.canvas===t).pop()};function e4(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const u=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=u)}}}function n4(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var Us;let Ef=(Us=class{static register(...t){Ei.add(...t),Zb()}static unregister(...t){Ei.remove(...t),Zb()}constructor(t,e){const i=this.config=new KO(e),a=BT(t),o=$b(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||bO(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,u.aspectRatio),f=h&&h.canvas,g=f&&f.height,p=f&&f.width;if(this.id=iD(),this.ctx=h,this.canvas=f,this.width=p,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bD(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],kh[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}es.listen(this,"complete",Wb),es.listen(this,"progress",t4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return Nt(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ei}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yb(this.canvas,this.ctx),this}stop(){return es.stop(this),this}resize(t,e){es.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,bb(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),ae(i.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};$t(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((u,h)=>(u[h]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const h=e[u],f=Cm(u,h),g=f==="r",p=f==="x";return{options:h,dposition:g?"chartArea":p?"bottom":"left",dtype:g?"radialLinear":p?"category":"linear"}}))),$t(o,u=>{const h=u.options,f=h.id,g=Cm(f,h),p=Mt(h.type,u.dtype);(h.position===void 0||Xb(h.position,g)!==Xb(u.dposition))&&(h.position=u.dposition),a[f]=!0;let v=null;if(f in i&&i[f].type===p)v=i[f];else{const b=Ei.getScale(p);v=new b({id:f,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),$t(a,(u,h)=>{u||delete i[h]}),$t(i,u=>{ln.configure(this,u,u.options),ln.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Kb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let u=this.getDatasetMeta(i);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=h,u.indexAxis=o.indexAxis||Dm(h,this.options),u.order=o.order||0,u.index=i,u.label=""+o.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const f=Ei.getController(h),{datasetElementType:g,dataElementType:p}=he.datasets[h];Object.assign(f,{dataElementType:Ei.getElement(p),datasetElementType:g&&Ei.getElement(g)}),u.controller=new f(this,i),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){$t(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,p=this.data.datasets.length;g<p;g++){const{controller:v}=this.getDatasetMeta(g),b=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),a||$t(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Kb("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){$t(this.scales,t=>{ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!lb(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const u=i==="_removeElements"?-o:o;e4(t,a,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!lb(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ln.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],$t(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,sa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(es.has(this)?this.attached&&!es.running(this)&&es.start(this):(this.draw(),Wb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const u=e[a];(!t||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=RT(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&yf(e,a),t.controller.draw(),a&&_f(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return rs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=JC.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=ra(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,a);bu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),u.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),es.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),yb(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete kh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},a=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};$t(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},a=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",u)};u=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){$t(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},$t(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,u,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[a+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!Xh(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,g)=>f.filter(p=>!g.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),u=o(e,t),h=i?t:o(t,e);u.length&&this.updateHoverStyle(u,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,u=e,h=this._getActiveElements(t,a,i,u),f=uD(t),g=n4(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ae(o.onHover,[t,h,this],this),f&&ae(o.onClick,[t,h,this],this));const p=!Xh(h,a);return(p||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=g,p}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}},lt(Us,"defaults",he),lt(Us,"instances",kh),lt(Us,"overrides",ar),lt(Us,"registry",Ei),lt(Us,"version",ZO),lt(Us,"getChart",$b),Us);function Zb(){return $t(Ef.instances,n=>n._plugins.invalidate())}function i4(n,t,e){const{startAngle:i,pixelMargin:a,x:o,y:u,outerRadius:h,innerRadius:f}=t;let g=a/h;n.beginPath(),n.arc(o,u,h,i-g,e+g),f>a?(g=a/f,n.arc(o,u,f,e+g,i-g,!0)):n.arc(o,u,a,e+xe,i-xe),n.closePath(),n.clip()}function s4(n){return vp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function a4(n,t,e,i){const a=s4(n.options.borderRadius),o=(e-t)/2,u=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return Ge(f,0,Math.min(o,g))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:Ge(a.innerStart,0,u),innerEnd:Ge(a.innerEnd,0,u)}}function no(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function tf(n,t,e,i,a,o){const{x:u,y:h,startAngle:f,pixelMargin:g,innerRadius:p}=t,v=Math.max(t.outerRadius+i+e-g,0),b=p>0?p+i+e+g:0;let S=0;const A=a-f;if(i){const ht=p>0?p-i:0,j=v>0?v-i:0,it=(ht+j)/2,ct=it!==0?A*it/(it+i):A;S=(A-ct)/2}const M=Math.max(.001,A*v-e/oe)/v,C=(A-M)/2,B=f+C+S,H=a-C-S,{outerStart:X,outerEnd:$,innerStart:G,innerEnd:et}=a4(t,b,v,H-B),I=v-X,w=v-$,O=B+X/I,k=H-$/w,N=b+G,L=b+et,D=B+G/N,ft=H-et/L;if(n.beginPath(),o){const ht=(O+k)/2;if(n.arc(u,h,v,O,ht),n.arc(u,h,v,ht,k),$>0){const vt=no(w,k,u,h);n.arc(vt.x,vt.y,$,k,H+xe)}const j=no(L,H,u,h);if(n.lineTo(j.x,j.y),et>0){const vt=no(L,ft,u,h);n.arc(vt.x,vt.y,et,H+xe,ft+Math.PI)}const it=(H-et/b+(B+G/b))/2;if(n.arc(u,h,b,H-et/b,it,!0),n.arc(u,h,b,it,B+G/b,!0),G>0){const vt=no(N,D,u,h);n.arc(vt.x,vt.y,G,D+Math.PI,B-xe)}const ct=no(I,B,u,h);if(n.lineTo(ct.x,ct.y),X>0){const vt=no(I,O,u,h);n.arc(vt.x,vt.y,X,B-xe,O)}}else{n.moveTo(u,h);const ht=Math.cos(O)*v+u,j=Math.sin(O)*v+h;n.lineTo(ht,j);const it=Math.cos(k)*v+u,ct=Math.sin(k)*v+h;n.lineTo(it,ct)}n.closePath()}function r4(n,t,e,i,a){const{fullCircles:o,startAngle:u,circumference:h}=t;let f=t.endAngle;if(o){tf(n,t,e,i,f,a);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=u+(h%re||re))}return tf(n,t,e,i,f,a),n.fill(),f}function o4(n,t,e,i,a){const{fullCircles:o,startAngle:u,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:p,borderDash:v,borderDashOffset:b}=f,S=f.borderAlign==="inner";if(!g)return;n.setLineDash(v||[]),n.lineDashOffset=b,S?(n.lineWidth=g*2,n.lineJoin=p||"round"):(n.lineWidth=g,n.lineJoin=p||"bevel");let A=t.endAngle;if(o){tf(n,t,e,i,A,a);for(let M=0;M<o;++M)n.stroke();isNaN(h)||(A=u+(h%re||re))}S&&i4(n,t,A),o||(tf(n,t,e,i,A,a),n.stroke())}class Zl extends ni{constructor(e){super();lt(this,"circumference");lt(this,"endAngle");lt(this,"fullCircles");lt(this,"innerRadius");lt(this,"outerRadius");lt(this,"pixelMargin");lt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,a){const o=this.getProps(["x","y"],a),{angle:u,distance:h}=rT(o,{x:e,y:i}),{startAngle:f,endAngle:g,innerRadius:p,outerRadius:v,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),S=(this.options.spacing+this.options.borderWidth)/2,A=Mt(b,g-f),M=Eu(u,f,g)&&f!==g,C=A>=re||M,B=ss(h,p+S,v+S);return C&&B}getCenterPoint(e){const{x:i,y:a,startAngle:o,endAngle:u,innerRadius:h,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:p}=this.options,v=(o+u)/2,b=(h+f+p+g)/2;return{x:i+Math.cos(v)*b,y:a+Math.sin(v)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:a}=this,o=(i.offset||0)/4,u=(i.spacing||0)/2,h=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=a>re?Math.floor(a/re):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o);const g=1-Math.sin(Math.min(oe,a||0)),p=o*g;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,r4(e,this,p,u,h),o4(e,this,p,u,h),e.restore()}}lt(Zl,"id","arc"),lt(Zl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),lt(Zl,"defaultRoutes",{backgroundColor:"backgroundColor"}),lt(Zl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function UT(n,t,e=t){n.lineCap=Mt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Mt(e.borderDash,t.borderDash)),n.lineDashOffset=Mt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Mt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Mt(e.borderWidth,t.borderWidth),n.strokeStyle=Mt(e.borderColor,t.borderColor)}function l4(n,t,e){n.lineTo(e.x,e.y)}function u4(n){return n.stepped?ID:n.tension||n.cubicInterpolationMode==="monotone"?kD:l4}function HT(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:u,end:h}=t,f=Math.max(a,u),g=Math.min(o,h),p=a<u&&o<u||a>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:g<f&&!p?i+g-f:g-f}}function c4(n,t,e,i){const{points:a,options:o}=t,{count:u,start:h,loop:f,ilen:g}=HT(a,e,i),p=u4(o);let{move:v=!0,reverse:b}=i||{},S,A,M;for(S=0;S<=g;++S)A=a[(h+(b?g-S:S))%u],!A.skip&&(v?(n.moveTo(A.x,A.y),v=!1):p(n,M,A,b,o.stepped),M=A);return f&&(A=a[(h+(b?g:0))%u],p(n,M,A,b,o.stepped)),!!f}function h4(n,t,e,i){const a=t.points,{count:o,start:u,ilen:h}=HT(a,e,i),{move:f=!0,reverse:g}=i||{};let p=0,v=0,b,S,A,M,C,B;const H=$=>(u+(g?h-$:$))%o,X=()=>{M!==C&&(n.lineTo(p,C),n.lineTo(p,M),n.lineTo(p,B))};for(f&&(S=a[H(0)],n.moveTo(S.x,S.y)),b=0;b<=h;++b){if(S=a[H(b)],S.skip)continue;const $=S.x,G=S.y,et=$|0;et===A?(G<M?M=G:G>C&&(C=G),p=(v*p+$)/++v):(X(),n.lineTo($,G),A=et,v=0,M=C=G),B=G}X()}function Om(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?h4:c4}function f4(n){return n.stepped?hC:n.tension||n.cubicInterpolationMode==="monotone"?fC:Wa}function d4(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),UT(n,t.options),n.stroke(a)}function g4(n,t,e,i){const{segments:a,options:o}=t,u=Om(t);for(const h of a)UT(n,o,h.style),n.beginPath(),u(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const m4=typeof Path2D=="function";function p4(n,t,e,i){m4&&!t.options.segment?d4(n,t,e,i):g4(n,t,e,i)}class Ys extends ni{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;iC(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_C(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,u=wT(this,{property:e,start:a,end:a});if(!u.length)return;const h=[],f=f4(i);let g,p;for(g=0,p=u.length;g<p;++g){const{start:v,end:b}=u[g],S=o[v],A=o[b];if(S===A){h.push(S);continue}const M=Math.abs((a-S[e])/(A[e]-S[e])),C=f(S,A,M,i.stepped);C[e]=t[e],h.push(C)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Om(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=Om(this);let u=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)u&=o(t,this,h,{start:e,end:e+i-1});return!!u}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),p4(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}lt(Ys,"id","line"),lt(Ys,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),lt(Ys,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),lt(Ys,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Jb(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class Vh extends ni{constructor(e){super();lt(this,"parsed");lt(this,"skip");lt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,a){const o=this.options,{x:u,y:h}=this.getProps(["x","y"],a);return Math.pow(e-u,2)+Math.pow(i-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return Jb(this,e,"x",i)}inYRange(e,i){return Jb(this,e,"y",i)}getCenterPoint(e){const{x:i,y:a}=this.getProps(["x","y"],e);return{x:i,y:a}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const a=i&&e.borderWidth||0;return(i+a)*2}draw(e,i){const a=this.options;this.skip||a.radius<.1||!rs(this,i,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,Rm(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}lt(Vh,"id","point"),lt(Vh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),lt(Vh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function jT(n,t){const{x:e,y:i,base:a,width:o,height:u}=n.getProps(["x","y","base","width","height"],t);let h,f,g,p,v;return n.horizontal?(v=u/2,h=Math.min(e,a),f=Math.max(e,a),g=i-v,p=i+v):(v=o/2,h=e-v,f=e+v,g=Math.min(i,a),p=Math.max(i,a)),{left:h,top:g,right:f,bottom:p}}function Gs(n,t,e,i){return n?0:Ge(t,e,i)}function y4(n,t,e){const i=n.options.borderWidth,a=n.borderSkipped,o=mT(i);return{t:Gs(a.top,o.top,0,e),r:Gs(a.right,o.right,0,t),b:Gs(a.bottom,o.bottom,0,e),l:Gs(a.left,o.left,0,t)}}function _4(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=nr(a),u=Math.min(t,e),h=n.borderSkipped,f=i||Pt(a);return{topLeft:Gs(!f||h.top||h.left,o.topLeft,0,u),topRight:Gs(!f||h.top||h.right,o.topRight,0,u),bottomLeft:Gs(!f||h.bottom||h.left,o.bottomLeft,0,u),bottomRight:Gs(!f||h.bottom||h.right,o.bottomRight,0,u)}}function v4(n){const t=jT(n),e=t.right-t.left,i=t.bottom-t.top,a=y4(n,e/2,i/2),o=_4(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Kg(n,t,e,i){const a=t===null,o=e===null,h=n&&!(a&&o)&&jT(n,i);return h&&(a||ss(t,h.left,h.right))&&(o||ss(e,h.top,h.bottom))}function b4(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function E4(n,t){n.rect(t.x,t.y,t.w,t.h)}function Wg(n,t,e={}){const i=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,u=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+i,y:n.y+a,w:n.w+o,h:n.h+u,radius:n.radius}}class Nh extends ni{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:u}=v4(this),h=b4(u.radius)?Tu:E4;t.save(),(u.w!==o.w||u.h!==o.h)&&(t.beginPath(),h(t,Wg(u,e,o)),t.clip(),h(t,Wg(o,-e,u)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Wg(o,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return Kg(this,t,e,i)}inXRange(t,e){return Kg(this,t,null,e)}inYRange(t,e){return Kg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+a)/2:e,y:o?i:(i+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}lt(Nh,"id","bar"),lt(Nh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),lt(Nh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var T4=Object.freeze({__proto__:null,ArcElement:Zl,BarElement:Nh,LineElement:Ys,PointElement:Vh});const Im=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],t1=Im.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function FT(n){return Im[n%Im.length]}function qT(n){return t1[n%t1.length]}function S4(n,t){return n.borderColor=FT(t),n.backgroundColor=qT(t),++t}function x4(n,t){return n.backgroundColor=n.data.map(()=>FT(t++)),t}function A4(n,t){return n.backgroundColor=n.data.map(()=>qT(t++)),t}function w4(n){let t=0;return(e,i)=>{const a=n.getDatasetMeta(i).controller;a instanceof Ja?t=x4(e,t):a instanceof hu?t=A4(e,t):a&&(t=S4(e,t))}}function e1(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function R4(n){return n&&(n.borderColor||n.backgroundColor)}function M4(){return he.borderColor!=="rgba(0,0,0,0.1)"||he.backgroundColor!=="rgba(0,0,0,0.1)"}var D4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:a}=n.config,{elements:o}=a,u=e1(i)||R4(a)||o&&e1(o)||M4();if(!e.forceOverride&&u)return;const h=w4(n);i.forEach(h)}};function C4(n,t,e,i,a){const o=a.samples||i;if(o>=e)return n.slice(t,t+e);const u=[],h=(e-2)/(o-2);let f=0;const g=t+e-1;let p=t,v,b,S,A,M;for(u[f++]=n[p],v=0;v<o-2;v++){let C=0,B=0,H;const X=Math.floor((v+1)*h)+1+t,$=Math.min(Math.floor((v+2)*h)+1,e)+t,G=$-X;for(H=X;H<$;H++)C+=n[H].x,B+=n[H].y;C/=G,B/=G;const et=Math.floor(v*h)+1+t,I=Math.min(Math.floor((v+1)*h)+1,e)+t,{x:w,y:O}=n[p];for(S=A=-1,H=et;H<I;H++)A=.5*Math.abs((w-C)*(n[H].y-O)-(w-n[H].x)*(B-O)),A>S&&(S=A,b=n[H],M=H);u[f++]=b,p=M}return u[f++]=n[g],u}function O4(n,t,e,i){let a=0,o=0,u,h,f,g,p,v,b,S,A,M;const C=[],B=t+e-1,H=n[t].x,$=n[B].x-H;for(u=t;u<t+e;++u){h=n[u],f=(h.x-H)/$*i,g=h.y;const G=f|0;if(G===p)g<A?(A=g,v=u):g>M&&(M=g,b=u),a=(o*a+h.x)/++o;else{const et=u-1;if(!Nt(v)&&!Nt(b)){const I=Math.min(v,b),w=Math.max(v,b);I!==S&&I!==et&&C.push({...n[I],x:a}),w!==S&&w!==et&&C.push({...n[w],x:a})}u>0&&et!==S&&C.push(n[et]),C.push(h),p=G,o=0,A=M=g,v=b=S=u}}return C}function YT(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function n1(n){n.data.datasets.forEach(t=>{YT(t)})}function I4(n,t){const e=t.length;let i=0,a;const{iScale:o}=n,{min:u,max:h,minDefined:f,maxDefined:g}=o.getUserBounds();return f&&(i=Ge(as(t,o.axis,u).lo,0,e-1)),g?a=Ge(as(t,o.axis,h).hi+1,i,e)-i:a=e-i,{start:i,count:a}}var k4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){n1(n);return}const i=n.width;n.data.datasets.forEach((a,o)=>{const{_data:u,indexAxis:h}=a,f=n.getDatasetMeta(o),g=u||a.data;if(Wl([h,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const p=n.scales[f.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:v,count:b}=I4(f,g);const S=e.threshold||4*i;if(b<=S){YT(a);return}Nt(u)&&(a._data=g,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(M){this._data=M}}));let A;switch(e.algorithm){case"lttb":A=C4(g,v,b,i,e);break;case"min-max":A=O4(g,v,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=A})},destroy(n){n1(n)}};function V4(n,t,e){const i=n.segments,a=n.points,o=t.points,u=[];for(const h of i){let{start:f,end:g}=h;g=wp(f,g,a);const p=km(e,a[f],a[g],h.loop);if(!t.segments){u.push({source:h,target:p,start:a[f],end:a[g]});continue}const v=wT(t,p);for(const b of v){const S=km(e,o[b.start],o[b.end],b.loop),A=AT(h,a,S);for(const M of A)u.push({source:M,target:b,start:{[e]:i1(p,S,"start",Math.max)},end:{[e]:i1(p,S,"end",Math.min)}})}}return u}function km(n,t,e,i){if(i)return;let a=t[n],o=e[n];return n==="angle"&&(a=kn(a),o=kn(o)),{property:n,start:a,end:o}}function N4(n,t){const{x:e=null,y:i=null}=n||{},a=t.points,o=[];return t.segments.forEach(({start:u,end:h})=>{h=wp(u,h,a);const f=a[u],g=a[h];i!==null?(o.push({x:f.x,y:i}),o.push({x:g.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:g.y}))}),o}function wp(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function i1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function GT(n,t){let e=[],i=!1;return ce(n)?(i=!0,e=n):e=N4(n,t),e.length?new Ys({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function s1(n){return n&&n.fill!==!1}function P4(n,t,e){let a=n[t].fill;const o=[t];let u;if(!e)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!_e(a))return a;if(u=n[a],!u)return!1;if(u.visible)return a;o.push(a),a=u.fill}return!1}function L4(n,t,e){const i=H4(n);if(Pt(i))return isNaN(i.value)?!1:i;let a=parseFloat(i);return _e(a)&&Math.floor(a)===a?z4(i[0],t,a,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function z4(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function B4(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Pt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function U4(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Pt(n)?i=n.value:i=t.getBaseValue(),i}function H4(n){const t=n.options,e=t.fill;let i=Mt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function j4(n){const{scale:t,index:e,line:i}=n,a=[],o=i.segments,u=i.points,h=F4(t,e);h.push(GT({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const g=o[f];for(let p=g.start;p<=g.end;p++)q4(a,u[p],h)}return new Ys({points:a,options:{}})}function F4(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const o=i[a];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function q4(n,t,e){const i=[];for(let a=0;a<e.length;a++){const o=e[a],{first:u,last:h,point:f}=Y4(o,t,"x");if(!(!f||u&&h)){if(u)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function Y4(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const a=i[e],o=n.segments,u=n.points;let h=!1,f=!1;for(let g=0;g<o.length;g++){const p=o[g],v=u[p.start][e],b=u[p.end][e];if(ss(a,v,b)){h=a===v,f=a===b;break}}return{first:h,last:f,point:i}}class QT{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:a,y:o,radius:u}=this;return e=e||{start:0,end:re},t.arc(a,o,u,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:a}=this,o=t.angle;return{x:e+Math.cos(o)*a,y:i+Math.sin(o)*a,angle:o}}}function G4(n){const{chart:t,fill:e,line:i}=n;if(_e(e))return Q4(t,e);if(e==="stack")return j4(n);if(e==="shape")return!0;const a=X4(n);return a instanceof QT?a:GT(a,i)}function Q4(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function X4(n){return(n.scale||{}).getPointPositionForValue?W4(n):K4(n)}function K4(n){const{scale:t={},fill:e}=n,i=B4(e,t);if(_e(i)){const a=t.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}function W4(n){const{scale:t,fill:e}=n,i=t.options,a=t.getLabels().length,o=i.reverse?t.max:t.min,u=U4(e,t,o),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new QT({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(u)})}for(let f=0;f<a;++f)h.push(t.getPointPositionForValue(f,u));return h}function $g(n,t,e){const i=G4(t),{chart:a,index:o,line:u,scale:h,axis:f}=t,g=u.options,p=g.fill,v=g.backgroundColor,{above:b=v,below:S=v}=p||{},A=a.getDatasetMeta(o),M=RT(a,A);i&&u.points.length&&(yf(n,e),$4(n,{line:u,target:i,above:b,below:S,area:e,scale:h,axis:f,clip:M}),_f(n))}function $4(n,t){const{line:e,target:i,above:a,below:o,area:u,scale:h,clip:f}=t,g=e._loop?"angle":t.axis;n.save(),g==="x"&&o!==a&&(a1(n,i,u.top),r1(n,{line:e,target:i,color:a,scale:h,property:g,clip:f}),n.restore(),n.save(),a1(n,i,u.bottom)),r1(n,{line:e,target:i,color:o,scale:h,property:g,clip:f}),n.restore()}function a1(n,t,e){const{segments:i,points:a}=t;let o=!0,u=!1;n.beginPath();for(const h of i){const{start:f,end:g}=h,p=a[f],v=a[wp(f,g,a)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),u=!!t.pathSegment(n,h,{move:u}),u?n.closePath():n.lineTo(v.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function r1(n,t){const{line:e,target:i,property:a,color:o,scale:u,clip:h}=t,f=V4(e,i,a);for(const{source:g,target:p,start:v,end:b}of f){const{style:{backgroundColor:S=o}={}}=g,A=i!==!0;n.save(),n.fillStyle=S,Z4(n,u,h,A&&km(a,v,b)),n.beginPath();const M=!!e.pathSegment(n,g);let C;if(A){M?n.closePath():o1(n,i,b,a);const B=!!i.pathSegment(n,p,{move:M,reverse:!0});C=M&&B,C||o1(n,i,v,a)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function Z4(n,t,e,i){const a=t.chart.chartArea,{property:o,start:u,end:h}=i||{};if(o==="x"||o==="y"){let f,g,p,v;o==="x"?(f=u,g=a.top,p=h,v=a.bottom):(f=a.left,g=u,p=a.right,v=h),n.beginPath(),e&&(f=Math.max(f,e.left),p=Math.min(p,e.right),g=Math.max(g,e.top),v=Math.min(v,e.bottom)),n.rect(f,g,p-f,v-g),n.clip()}}function o1(n,t,e,i){const a=t.interpolate(e,i);a&&n.lineTo(a.x,a.y)}var J4={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,a=[];let o,u,h,f;for(u=0;u<i;++u)o=n.getDatasetMeta(u),h=o.dataset,f=null,h&&h.options&&h instanceof Ys&&(f={visible:n.isDatasetVisible(u),index:u,fill:L4(h,u,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,a.push(f);for(u=0;u<i;++u)f=a[u],!(!f||f.fill===!1)&&(f.fill=P4(a,u,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let u=a.length-1;u>=0;--u){const h=a[u].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&$g(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;s1(o)&&$g(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!s1(i)||e.drawTime!=="beforeDatasetDraw"||$g(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const l1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},tI=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class u1 extends ni{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ae(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=Le(i.font),o=a.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=l1(i,o);let g,p;e.font=a.string,this.isHorizontal()?(g=this.maxWidth,p=this._fitRows(u,o,h,f)+10):(p=this.maxHeight,g=this._fitCols(u,a,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],p=a+h;let v=t;o.textAlign="left",o.textBaseline="middle";let b=-1,S=-p;return this.legendItems.forEach((A,M)=>{const C=i+e/2+o.measureText(A.text).width;(M===0||g[g.length-1]+C+2*h>u)&&(v+=p,g[g.length-(M>0?0:1)]=0,S+=p,b++),f[M]={left:0,top:S,row:b,width:C,height:a},g[g.length-1]+=C+h}),v}_fitCols(t,e,i,a){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],p=u-t;let v=h,b=0,S=0,A=0,M=0;return this.legendItems.forEach((C,B)=>{const{itemWidth:H,itemHeight:X}=eI(i,e,o,C,a);B>0&&S+X+2*h>p&&(v+=b+h,g.push({width:b,height:S}),A+=b+h,M++,b=S=0),f[B]={left:A,top:S,col:M,width:H,height:X},b=Math.max(b,H),S+=X+h}),v+=b,g.push({width:b,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,u=fo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=an(i,this.left+a,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=an(i,this.left+a,this.right-this.lineWidths[h])),g.top+=this.top+t+a,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+a}else{let h=0,f=an(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=an(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+a,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;yf(t,this),this._draw(),_f(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:u}=t,h=he.color,f=fo(t.rtl,this.left,this.width),g=Le(u.font),{padding:p}=u,v=g.size,b=v/2;let S;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=g.string;const{boxWidth:A,boxHeight:M,itemHeight:C}=l1(u,v),B=function(et,I,w){if(isNaN(A)||A<=0||isNaN(M)||M<0)return;a.save();const O=Mt(w.lineWidth,1);if(a.fillStyle=Mt(w.fillStyle,h),a.lineCap=Mt(w.lineCap,"butt"),a.lineDashOffset=Mt(w.lineDashOffset,0),a.lineJoin=Mt(w.lineJoin,"miter"),a.lineWidth=O,a.strokeStyle=Mt(w.strokeStyle,h),a.setLineDash(Mt(w.lineDash,[])),u.usePointStyle){const k={radius:M*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:O},N=f.xPlus(et,A/2),L=I+b;gT(a,k,N,L,u.pointStyleWidth&&A)}else{const k=I+Math.max((v-M)/2,0),N=f.leftForLtr(et,A),L=nr(w.borderRadius);a.beginPath(),Object.values(L).some(D=>D!==0)?Tu(a,{x:N,y:k,w:A,h:M,radius:L}):a.rect(N,k,A,M),a.fill(),O!==0&&a.stroke()}a.restore()},H=function(et,I,w){rr(a,w.text,et,I+C/2,g,{strikethrough:w.hidden,textAlign:f.textAlign(w.textAlign)})},X=this.isHorizontal(),$=this._computeTitleHeight();X?S={x:an(o,this.left+p,this.right-i[0]),y:this.top+p+$,line:0}:S={x:this.left+p,y:an(o,this.top+$+p,this.bottom-e[0].height),line:0},TT(this.ctx,t.textDirection);const G=C+p;this.legendItems.forEach((et,I)=>{a.strokeStyle=et.fontColor,a.fillStyle=et.fontColor;const w=a.measureText(et.text).width,O=f.textAlign(et.textAlign||(et.textAlign=u.textAlign)),k=A+b+w;let N=S.x,L=S.y;f.setWidth(this.width),X?I>0&&N+k+p>this.right&&(L=S.y+=G,S.line++,N=S.x=an(o,this.left+p,this.right-i[S.line])):I>0&&L+G>this.bottom&&(N=S.x=N+e[S.line].width+p,S.line++,L=S.y=an(o,this.top+$+p,this.bottom-e[S.line].height));const D=f.x(N);if(B(D,L,et),N=ED(O,N+A+b,X?N+k:this.right,t.rtl),H(f.x(N),L,et),X)S.x+=k+p;else if(typeof et.text!="string"){const ft=g.lineHeight;S.y+=XT(et,ft)+p}else S.y+=G}),ST(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Le(e.font),a=un(e.padding);if(!e.display)return;const o=fo(t.rtl,this.left,this.width),u=this.ctx,h=e.position,f=i.size/2,g=a.top+f;let p,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+g,v=an(t.align,v,this.right-b);else{const A=this.columnSizes.reduce((M,C)=>Math.max(M,C.height),0);p=g+an(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const S=an(h,v,v+b);u.textAlign=o.textAlign(yp(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=i.string,rr(u,e.text,S,p,i)}_computeTitleHeight(){const t=this.options.title,e=Le(t.font),i=un(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(ss(t,this.left,this.right)&&ss(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],ss(t,a.left,a.left+a.width)&&ss(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!sI(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=tI(a,i);a&&!o&&ae(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&ae(e.onHover,[t,i,this],this)}else i&&ae(e.onClick,[t,i,this],this)}}function eI(n,t,e,i,a){const o=nI(i,n,t,e),u=iI(a,i,t.lineHeight);return{itemWidth:o,itemHeight:u}}function nI(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+i.measureText(a).width}function iI(n,t,e){let i=n;return typeof t.text!="string"&&(i=XT(t,e)),i}function XT(n,t){const e=n.text?n.text.length:0;return t*e}function sI(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var aI={id:"legend",_element:u1,start(n,t,e){const i=n.legend=new u1({ctx:n.ctx,options:e,chart:n});ln.configure(n,i,e),ln.addBox(n,i)},stop(n){ln.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ln.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),p=un(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:a||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Rp extends ni{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=ce(i.text)?i.text.length:1;this._padding=un(i.padding);const o=a*Le(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:u}=this,h=u.align;let f=0,g,p,v;return this.isHorizontal()?(p=an(h,i,o),v=e+t,g=o-i):(u.position==="left"?(p=i+t,v=an(h,a,e),f=oe*-.5):(p=o-t,v=an(h,e,a),f=oe*.5),g=a-e),{titleX:p,titleY:v,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Le(e.font),o=i.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);rr(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:yp(e.align),textBaseline:"middle",translation:[u,h]})}}function rI(n,t){const e=new Rp({ctx:n.ctx,options:t,chart:n});ln.configure(n,e,t),ln.addBox(n,e),n.titleBlock=e}var oI={id:"title",_element:Rp,start(n,t,e){rI(n,e)},stop(n){const t=n.titleBlock;ln.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ln.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bh=new WeakMap;var lI={id:"subtitle",start(n,t,e){const i=new Rp({ctx:n.ctx,options:e,chart:n});ln.configure(n,i,e),ln.addBox(n,i),bh.set(n,i)},stop(n){ln.removeBox(n,bh.get(n)),bh.delete(n)},beforeUpdate(n,t,e){const i=bh.get(n);ln.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jl={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=n.length;o<u;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),p=Am(t,g);p<a&&(a=p,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function bi(n,t){return t&&(ce(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ns(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function uI(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:u,value:h}=o.getLabelAndValue(a);return{chart:n,label:u,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function c1(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:u,boxHeight:h}=t,f=Le(t.bodyFont),g=Le(t.titleFont),p=Le(t.footerFont),v=o.length,b=a.length,S=i.length,A=un(t.padding);let M=A.height,C=0,B=i.reduce(($,G)=>$+G.before.length+G.lines.length+G.after.length,0);if(B+=n.beforeBody.length+n.afterBody.length,v&&(M+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),B){const $=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;M+=S*$+(B-S)*f.lineHeight+(B-1)*t.bodySpacing}b&&(M+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let H=0;const X=function($){C=Math.max(C,e.measureText($).width+H)};return e.save(),e.font=g.string,$t(n.title,X),e.font=f.string,$t(n.beforeBody.concat(n.afterBody),X),H=t.displayColors?u+2+t.boxPadding:0,$t(i,$=>{$t($.before,X),$t($.lines,X),$t($.after,X)}),H=0,e.font=p.string,$t(n.footer,X),e.restore(),C+=A.width,{width:C,height:M}}function cI(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function hI(n,t,e,i){const{x:a,width:o}=i,u=e.caretSize+e.caretPadding;if(n==="left"&&a+o+u>t.width||n==="right"&&a-o-u<0)return!0}function fI(n,t,e,i){const{x:a,width:o}=e,{width:u,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=a<=(h+f)/2?"left":"right":a<=o/2?g="left":a>=u-o/2&&(g="right"),hI(g,n,t,e)&&(g="center"),g}function h1(n,t,e){const i=e.yAlign||t.yAlign||cI(n,e);return{xAlign:e.xAlign||t.xAlign||fI(n,t,e,i),yAlign:i}}function dI(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function gI(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function f1(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:u}=n,{xAlign:h,yAlign:f}=e,g=a+o,{topLeft:p,topRight:v,bottomLeft:b,bottomRight:S}=nr(u);let A=dI(t,h);const M=gI(t,f,g);return f==="center"?h==="left"?A+=g:h==="right"&&(A-=g):h==="left"?A-=Math.max(p,b)+a:h==="right"&&(A+=Math.max(v,S)+a),{x:Ge(A,0,i.width-t.width),y:Ge(M,0,i.height-t.height)}}function Eh(n,t,e){const i=un(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function d1(n){return bi([],ns(n))}function mI(n,t,e){return ra(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function g1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const KT={beforeTitle:ts,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ts,beforeBody:ts,beforeLabel:ts,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Nt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ts,afterBody:ts,beforeFooter:ts,footer:ts,afterFooter:ts};function _n(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?KT[t].call(e,i):a}class Vm extends ni{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new MT(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=mI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=_n(i,"beforeTitle",this,t),o=_n(i,"title",this,t),u=_n(i,"afterTitle",this,t);let h=[];return h=bi(h,ns(a)),h=bi(h,ns(o)),h=bi(h,ns(u)),h}getBeforeBody(t,e){return d1(_n(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return $t(t,o=>{const u={before:[],lines:[],after:[]},h=g1(i,o);bi(u.before,ns(_n(h,"beforeLabel",this,o))),bi(u.lines,_n(h,"label",this,o)),bi(u.after,ns(_n(h,"afterLabel",this,o))),a.push(u)}),a}getAfterBody(t,e){return d1(_n(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=_n(i,"beforeFooter",this,t),o=_n(i,"footer",this,t),u=_n(i,"afterFooter",this,t);let h=[];return h=bi(h,ns(a)),h=bi(h,ns(o)),h=bi(h,ns(u)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],u=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(uI(this.chart,e[f]));return t.filter&&(h=h.filter((p,v,b)=>t.filter(p,v,b,i))),t.itemSort&&(h=h.sort((p,v)=>t.itemSort(p,v,i))),$t(h,p=>{const v=g1(t.callbacks,p);a.push(_n(v,"labelColor",this,p)),o.push(_n(v,"labelPointStyle",this,p)),u.push(_n(v,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,u=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=Jl[i.position].call(this,a,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const f=this._size=c1(this,i),g=Object.assign({},h,f),p=h1(this.chart,i,g),v=f1(i,g,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:u,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:p,bottomRight:v}=nr(h),{x:b,y:S}=t,{width:A,height:M}=e;let C,B,H,X,$,G;return o==="center"?($=S+M/2,a==="left"?(C=b,B=C-u,X=$+u,G=$-u):(C=b+A,B=C+u,X=$-u,G=$+u),H=C):(a==="left"?B=b+Math.max(f,p)+u:a==="right"?B=b+A-Math.max(g,v)-u:B=this.caretX,o==="top"?(X=S,$=X-u,C=B-u,H=B+u):(X=S+M,$=X+u,C=B+u,H=B-u),G=X),{x1:C,x2:B,x3:H,y1:X,y2:$,y3:G}}drawTitle(t,e,i){const a=this.title,o=a.length;let u,h,f;if(o){const g=fo(i.rtl,this.x,this.width);for(t.x=Eh(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",u=Le(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=u.string,f=0;f<o;++f)e.fillText(a[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const u=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,p=Le(o.bodyFont),v=Eh(this,"left",o),b=a.x(v),S=f<p.lineHeight?(p.lineHeight-f)/2:0,A=e.y+S;if(o.usePointStyle){const M={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=a.leftForLtr(b,g)+g/2,B=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Rm(t,M,C,B),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Rm(t,M,C,B)}else{t.lineWidth=Pt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const M=a.leftForLtr(b,g),C=a.leftForLtr(a.xPlus(b,1),g-2),B=nr(u.borderRadius);Object.values(B).some(H=>H!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Tu(t,{x:M,y:A,w:g,h:f,radius:B}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Tu(t,{x:C,y:A+1,w:g-2,h:f-2,radius:B}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(M,A,g,f),t.strokeRect(M,A,g,f),t.fillStyle=u.backgroundColor,t.fillRect(C,A+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:p}=i,v=Le(i.bodyFont);let b=v.lineHeight,S=0;const A=fo(i.rtl,this.x,this.width),M=function(w){e.fillText(w,A.x(t.x+S),t.y+b/2),t.y+=b+o},C=A.textAlign(u);let B,H,X,$,G,et,I;for(e.textAlign=u,e.textBaseline="middle",e.font=v.string,t.x=Eh(this,C,i),e.fillStyle=i.bodyColor,$t(this.beforeBody,M),S=h&&C!=="right"?u==="center"?g/2+p:g+2+p:0,$=0,et=a.length;$<et;++$){for(B=a[$],H=this.labelTextColors[$],e.fillStyle=H,$t(B.before,M),X=B.lines,h&&X.length&&(this._drawColorBox(e,t,$,A,i),b=Math.max(v.lineHeight,f)),G=0,I=X.length;G<I;++G)M(X[G]),b=v.lineHeight;$t(B.after,M)}S=0,b=v.lineHeight,$t(this.afterBody,M),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let u,h;if(o){const f=fo(i.rtl,this.x,this.width);for(t.x=Eh(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",u=Le(i.footerFont),e.fillStyle=i.footerColor,e.font=u.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:u}=this,{x:h,y:f}=t,{width:g,height:p}=i,{topLeft:v,topRight:b,bottomLeft:S,bottomRight:A}=nr(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+v,f),u==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+g-b,f),e.quadraticCurveTo(h+g,f,h+g,f+b),u==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+g,f+p-A),e.quadraticCurveTo(h+g,f+p,h+g-A,f+p),u==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+S,f+p),e.quadraticCurveTo(h,f+p,h,f+p-S),u==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const u=Jl[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=c1(this,t),f=Object.assign({},u,this._size),g=h1(e,t,f),p=f1(t,f,g,e);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=un(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),TT(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),ST(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Xh(i,a),u=this._positionChanged(a,e);(o||u)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,i),h=this._positionChanged(u,t),f=e||!Xh(u,o)||h;return f&&(this._active=u,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,u=Jl[o.position].call(this,t,e);return u!==!1&&(i!==u.x||a!==u.y)}}lt(Vm,"positioners",Jl);var pI={id:"tooltip",_element:Vm,positioners:Jl,afterInit(n,t,e){e&&(n.tooltip=new Vm({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},yI=Object.freeze({__proto__:null,Colors:D4,Decimation:k4,Filler:J4,Legend:aI,SubTitle:lI,Title:oI,Tooltip:pI});const _I=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function vI(n,t,e,i){const a=n.indexOf(t);if(a===-1)return _I(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const bI=(n,t)=>n===null?null:Ge(Math.round(n),0,t);function m1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Nm extends lr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Nt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:vI(i,t,Mt(e,t),this._addedLabels),bI(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let u=t;u<=e;u++)a.push({value:u});return a}getLabelForValue(t){return m1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}lt(Nm,"id","category"),lt(Nm,"defaults",{ticks:{callback:m1}});function EI(n,t){const e=[],{bounds:a,step:o,min:u,max:h,precision:f,count:g,maxTicks:p,maxDigits:v,includeBounds:b}=n,S=o||1,A=p-1,{min:M,max:C}=t,B=!Nt(u),H=!Nt(h),X=!Nt(g),$=(C-M)/(v+1);let G=cb((C-M)/A/S)*S,et,I,w,O;if(G<1e-14&&!B&&!H)return[{value:M},{value:C}];O=Math.ceil(C/G)-Math.floor(M/G),O>A&&(G=cb(O*G/A/S)*S),Nt(f)||(et=Math.pow(10,f),G=Math.ceil(G*et)/et),a==="ticks"?(I=Math.floor(M/G)*G,w=Math.ceil(C/G)*G):(I=M,w=C),B&&H&&o&&gD((h-u)/o,G/1e3)?(O=Math.round(Math.min((h-u)/G,p)),G=(h-u)/O,I=u,w=h):X?(I=B?u:I,w=H?h:w,O=g-1,G=(w-I)/O):(O=(w-I)/G,ou(O,Math.round(O),G/1e3)?O=Math.round(O):O=Math.ceil(O));const k=Math.max(hb(G),hb(I));et=Math.pow(10,Nt(f)?k:f),I=Math.round(I*et)/et,w=Math.round(w*et)/et;let N=0;for(B&&(b&&I!==u?(e.push({value:u}),I<u&&N++,ou(Math.round((I+N*G)*et)/et,u,p1(u,$,n))&&N++):I<u&&N++);N<O;++N){const L=Math.round((I+N*G)*et)/et;if(H&&L>h)break;e.push({value:L})}return H&&b&&w!==h?e.length&&ou(e[e.length-1].value,h,p1(h,$,n))?e[e.length-1].value=h:e.push({value:h}):(!H||w===h)&&e.push({value:w}),e}function p1(n,t,{horizontal:e,minRotation:i}){const a=ti(i),o=(e?Math.sin(a):Math.cos(a))||.001,u=.75*t*(""+n).length;return Math.min(t/o,u)}class ef extends lr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Nt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const u=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=Ai(a),g=Ai(o);f<0&&g<0?h(0):f>0&&g>0&&u(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||u(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,u=EI(a,o);return t.bounds==="ticks"&&aT(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Iu(t,this.chart.options.locale,this.options.ticks.format)}}class Pm extends ef{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_e(t)?t:0,this.max=_e(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ti(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}lt(Pm,"id","linear"),lt(Pm,"defaults",{ticks:{callback:pf.formatters.numeric}});const xu=n=>Math.floor(qs(n)),Qa=(n,t)=>Math.pow(10,xu(n)+t);function y1(n){return n/Math.pow(10,xu(n))===1}function _1(n,t,e){const i=Math.pow(10,e),a=Math.floor(n/i);return Math.ceil(t/i)-a}function TI(n,t){const e=t-n;let i=xu(e);for(;_1(n,t,i)>10;)i++;for(;_1(n,t,i)<10;)i--;return Math.min(i,xu(n))}function SI(n,{min:t,max:e}){t=In(n.min,t);const i=[],a=xu(t);let o=TI(t,e),u=o<0?Math.pow(10,Math.abs(o)):1;const h=Math.pow(10,o),f=a>o?Math.pow(10,a):0,g=Math.round((t-f)*u)/u,p=Math.floor((t-f)/h/10)*h*10;let v=Math.floor((g-p)/Math.pow(10,o)),b=In(n.min,Math.round((f+p+v*Math.pow(10,o))*u)/u);for(;b<e;)i.push({value:b,major:y1(b),significand:v}),v>=10?v=v<15?15:20:v++,v>=20&&(o++,v=2,u=o>=0?1:u),b=Math.round((f+p+v*Math.pow(10,o))*u)/u;const S=In(n.max,b);return i.push({value:S,major:y1(S),significand:v}),i}class Lm extends lr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=ef.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return _e(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_e(t)?Math.max(0,t):null,this.max=_e(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_e(this._userMin)&&(this.min=t===Qa(this.min,0)?Qa(this.min,-1):Qa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,a=this.max;const o=h=>i=t?i:h,u=h=>a=e?a:h;i===a&&(i<=0?(o(1),u(10)):(o(Qa(i,-1)),u(Qa(a,1)))),i<=0&&o(Qa(a,-1)),a<=0&&u(Qa(i,1)),this.min=i,this.max=a}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=SI(e,this);return t.bounds==="ticks"&&aT(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Iu(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=qs(t),this._valueRange=qs(this.max)-qs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(qs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}lt(Lm,"id","logarithmic"),lt(Lm,"defaults",{ticks:{callback:pf.formatters.logarithmic,major:{enabled:!0}}});function zm(n){const t=n.ticks;if(t.display&&n.display){const e=un(t.backdropPadding);return Mt(t.font&&t.font.size,he.font.size)+e.height}return 0}function xI(n,t,e){return e=ce(e)?e:[e],{w:OD(n,t.string,e),h:e.length*t.lineHeight}}function v1(n,t,e,i,a){return n===i||n===a?{start:t-e/2,end:t+e/2}:n<i||n>a?{start:t-e,end:t}:{start:t,end:t+e}}function AI(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],a=[],o=n._pointLabels.length,u=n.options.pointLabels,h=u.centerPointLabels?oe/o:0;for(let f=0;f<o;f++){const g=u.setContext(n.getPointLabelContext(f));a[f]=g.padding;const p=n.getPointPosition(f,n.drawingArea+a[f],h),v=Le(g.font),b=xI(n.ctx,v,n._pointLabels[f]);i[f]=b;const S=kn(n.getIndexAngle(f)+h),A=Math.round(mp(S)),M=v1(A,p.x,b.w,0,180),C=v1(A,p.y,b.h,90,270);wI(e,t,S,M,C)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=DI(n,i,a)}function wI(n,t,e,i,a){const o=Math.abs(Math.sin(e)),u=Math.abs(Math.cos(e));let h=0,f=0;i.start<t.l?(h=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-h)):i.end>t.r&&(h=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+h)),a.start<t.t?(f=(t.t-a.start)/u,n.t=Math.min(n.t,t.t-f)):a.end>t.b&&(f=(a.end-t.b)/u,n.b=Math.max(n.b,t.b+f))}function RI(n,t,e){const i=n.drawingArea,{extra:a,additionalAngle:o,padding:u,size:h}=e,f=n.getPointPosition(t,i+a+u,o),g=Math.round(mp(kn(f.angle+xe))),p=II(f.y,h.h,g),v=CI(g),b=OI(f.x,h.w,v);return{visible:!0,x:f.x,y:p,textAlign:v,left:b,top:p,right:b+h.w,bottom:p+h.h}}function MI(n,t){if(!t)return!0;const{left:e,top:i,right:a,bottom:o}=n;return!(rs({x:e,y:i},t)||rs({x:e,y:o},t)||rs({x:a,y:i},t)||rs({x:a,y:o},t))}function DI(n,t,e){const i=[],a=n._pointLabels.length,o=n.options,{centerPointLabels:u,display:h}=o.pointLabels,f={extra:zm(o)/2,additionalAngle:u?oe/a:0};let g;for(let p=0;p<a;p++){f.padding=e[p],f.size=t[p];const v=RI(n,p,f);i.push(v),h==="auto"&&(v.visible=MI(v,g),v.visible&&(g=v))}return i}function CI(n){return n===0||n===180?"center":n<180?"left":"right"}function OI(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function II(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function kI(n,t,e){const{left:i,top:a,right:o,bottom:u}=e,{backdropColor:h}=t;if(!Nt(h)){const f=nr(t.borderRadius),g=un(t.backdropPadding);n.fillStyle=h;const p=i-g.left,v=a-g.top,b=o-i+g.width,S=u-a+g.height;Object.values(f).some(A=>A!==0)?(n.beginPath(),Tu(n,{x:p,y:v,w:b,h:S,radius:f}),n.fill()):n.fillRect(p,v,b,S)}}function VI(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let a=t-1;a>=0;a--){const o=n._pointLabelItems[a];if(!o.visible)continue;const u=i.setContext(n.getPointLabelContext(a));kI(e,u,o);const h=Le(u.font),{x:f,y:g,textAlign:p}=o;rr(e,n._pointLabels[a],f,g+h.lineHeight/2,h,{color:u.color,textAlign:p,textBaseline:"middle"})}}function WT(n,t,e,i){const{ctx:a}=n;if(e)a.arc(n.xCenter,n.yCenter,t,0,re);else{let o=n.getPointPosition(0,t);a.moveTo(o.x,o.y);for(let u=1;u<i;u++)o=n.getPointPosition(u,t),a.lineTo(o.x,o.y)}}function NI(n,t,e,i,a){const o=n.ctx,u=t.circular,{color:h,lineWidth:f}=t;!u&&!i||!h||!f||e<0||(o.save(),o.strokeStyle=h,o.lineWidth=f,o.setLineDash(a.dash||[]),o.lineDashOffset=a.dashOffset,o.beginPath(),WT(n,e,u,i),o.closePath(),o.stroke(),o.restore())}function PI(n,t,e){return ra(n,{label:e,index:t,type:"pointLabel"})}class tu extends ef{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=un(zm(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=_e(t)&&!isNaN(t)?t:0,this.max=_e(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/zm(this.options))}generateTickLabels(t){ef.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const a=ae(this.options.pointLabels.callback,[e,i],this);return a||a===0?a:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?AI(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,a))}getIndexAngle(t){const e=re/(this._pointLabels.length||1),i=this.options.startAngle||0;return kn(t*e+ti(i))}getDistanceFromCenterForValue(t){if(Nt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Nt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return PI(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const a=this.getIndexAngle(t)-xe+i;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:a,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:a,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),WT(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:a,border:o}=e,u=this._pointLabels.length;let h,f,g;if(e.pointLabels.display&&VI(this,u),a.display&&this.ticks.forEach((p,v)=>{if(v!==0||v===0&&this.min<0){f=this.getDistanceFromCenterForValue(p.value);const b=this.getContext(v),S=a.setContext(b),A=o.setContext(b);NI(this,S,f,u,A)}}),i.display){for(t.save(),h=u-1;h>=0;h--){const p=i.setContext(this.getPointLabelContext(h)),{color:v,lineWidth:b}=p;!b||!v||(t.lineWidth=b,t.strokeStyle=v,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),g=this.getPointPosition(h,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(g.x,g.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const a=this.getIndexAngle(0);let o,u;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((h,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const g=i.setContext(this.getContext(f)),p=Le(g.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){t.font=p.string,u=t.measureText(h.label).width,t.fillStyle=g.backdropColor;const v=un(g.backdropPadding);t.fillRect(-u/2-v.left,-o-p.size/2-v.top,u+v.width,p.size+v.height)}rr(t,h.label,0,-o,p,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),t.restore()}drawTitle(){}}lt(tu,"id","radialLinear"),lt(tu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),lt(tu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),lt(tu,"descriptors",{angleLines:{_fallback:"grid"}});const Tf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bn=Object.keys(Tf);function b1(n,t){return n-t}function E1(n,t){if(Nt(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let u=t;return typeof i=="function"&&(u=i(u)),_e(u)||(u=typeof i=="string"?e.parse(u,i):e.parse(u)),u===null?null:(a&&(u=a==="week"&&(Eo(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,a)),+u)}function T1(n,t,e,i){const a=bn.length;for(let o=bn.indexOf(n);o<a-1;++o){const u=Tf[bn[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=i)return bn[o]}return bn[a-1]}function LI(n,t,e,i,a){for(let o=bn.length-1;o>=bn.indexOf(e);o--){const u=bn[o];if(Tf[u].common&&n._adapter.diff(a,i,u)>=t-1)return u}return bn[e?bn.indexOf(e):0]}function zI(n){for(let t=bn.indexOf(n)+1,e=bn.length;t<e;++t)if(Tf[bn[t]].common)return bn[t]}function S1(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=pp(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function BI(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),u=t[t.length-1].value;let h,f;for(h=o;h<=u;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function x1(n,t,e){const i=[],a={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],a[h]=u,i.push({value:h,major:!1});return o===0||!e?i:BI(n,i,a,e)}class Au extends lr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new XC._date(t.adapters.date);a.init(e),ru(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:E1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(a=Math.min(a,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!u||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=_e(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=_e(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,u=this.max,h=_D(a,o,u);return this._unit=e.unit||(i.autoSkip?T1(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):LI(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:zI(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),x1(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=Ge(e,0,u),i=Ge(i,0,u),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,u=o.unit||T1(o.minUnit,e,i,this._getLabelCapacity(e)),h=Mt(a.ticks.stepSize,1),f=u==="week"?o.isoWeekday:!1,g=Eo(f)||f===!0,p={};let v=e,b,S;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":u),t.diff(i,e,u)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+u);const A=a.ticks.source==="data"&&this.getDataTimestamps();for(b=v,S=0;b<i;b=+t.add(b,h,u),S++)S1(p,b,A);return(b===i||a.bounds==="ticks"||S===1)&&S1(p,b,A),Object.keys(p).sort(b1).map(M=>+M)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,u=e||a[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,i,a){const o=this.options,u=o.ticks.callback;if(u)return ae(u,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,p=f&&h[f],v=g&&h[g],b=i[e],S=g&&v&&b&&b.major;return this._adapter.format(t,a||(S?v:p))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=ti(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),u=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*u,h:i*u+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,x1(this,[t],this._majorUnit),a),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(E1(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return lT(t.sort(b1))}}lt(Au,"id","time"),lt(Au,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Th(n,t,e){let i=0,a=n.length-1,o,u,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=as(n,"pos",t)),{pos:o,time:h}=n[i],{pos:u,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=as(n,"time",t)),{time:o,pos:h}=n[i],{time:u,pos:f}=n[a]);const g=u-o;return g?h+(f-h)*(t-o)/g:h}class Bm extends Au{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Th(e,this.min),this._tableRange=Th(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let u,h,f,g,p;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=i&&a.push(g);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(u=0,h=a.length;u<h;++u)p=a[u+1],f=a[u-1],g=a[u],Math.round((p+f)/2)!==g&&o.push({time:g,pos:u/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Th(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Th(this._table,i*this._tableRange+this._minPos,!0)}}lt(Bm,"id","timeseries"),lt(Bm,"defaults",Au.defaults);var UI=Object.freeze({__proto__:null,CategoryScale:Nm,LinearScale:Pm,LogarithmicScale:Lm,RadialLinearScale:tu,TimeScale:Au,TimeSeriesScale:Bm});const HI=[QC,T4,yI,UI],$T="label";function A1(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function jI(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function ZT(n,t){n.labels=t}function JT(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$T;const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(u=>u[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function FI(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$T;const e={labels:[],datasets:[]};return ZT(e,n.labels),JT(e,n.datasets,t),e}function qI(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:u,data:h,options:f,plugins:g=[],fallbackContent:p,updateMode:v,...b}=n,S=Te.useRef(null),A=Te.useRef(null),M=()=>{S.current&&(A.current=new Ef(S.current,{type:u,data:FI(h,o),options:f&&{...f},plugins:g}),A1(t,A.current))},C=()=>{A1(t,null),A.current&&(A.current.destroy(),A.current=null)};return Te.useEffect(()=>{!a&&A.current&&f&&jI(A.current,f)},[a,f]),Te.useEffect(()=>{!a&&A.current&&ZT(A.current.config.data,h.labels)},[a,h.labels]),Te.useEffect(()=>{!a&&A.current&&h.datasets&&JT(A.current.config.data,h.datasets,o)},[a,h.datasets]),Te.useEffect(()=>{A.current&&(a?(C(),setTimeout(M)):A.current.update(v))},[a,f,h.labels,h.datasets,v]),Te.useEffect(()=>{A.current&&(C(),setTimeout(M))},[u]),Te.useEffect(()=>(M(),()=>C()),[]),k1.createElement("canvas",{ref:S,role:"img",height:e,width:i,...b},p)}const YI=Te.forwardRef(qI);function GI(n,t){return Ef.register(t),Te.forwardRef((e,i)=>k1.createElement(YI,{...e,ref:i,type:n}))}const QI=GI("bar",cu);Ef.register(...HI);const tS=6048e5,XI=864e5,w1=Symbol.for("constructDateFrom");function aa(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&w1 in n?n[w1](t):n instanceof Date?new n.constructor(t):new Date(t)}function Tn(n,t){return aa(t||n,n)}let KI={};function Sf(){return KI}function wu(n,t){var h,f,g,p;const e=Sf(),i=(t==null?void 0:t.weekStartsOn)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??e.weekStartsOn??((p=(g=e.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??0,a=Tn(n,t==null?void 0:t.in),o=a.getDay(),u=(o<i?7:0)+o-i;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function nf(n,t){return wu(n,{...t,weekStartsOn:1})}function eS(n,t){const e=Tn(n,t==null?void 0:t.in),i=e.getFullYear(),a=aa(e,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const o=nf(a),u=aa(e,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const h=nf(u);return e.getTime()>=o.getTime()?i+1:e.getTime()>=h.getTime()?i:i-1}function R1(n){const t=Tn(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function WI(n,...t){const e=aa.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function M1(n,t){const e=Tn(n,t==null?void 0:t.in);return e.setHours(0,0,0,0),e}function $I(n,t,e){const[i,a]=WI(e==null?void 0:e.in,n,t),o=M1(i),u=M1(a),h=+o-R1(o),f=+u-R1(u);return Math.round((h-f)/XI)}function ZI(n,t){const e=eS(n,t),i=aa(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),nf(i)}function JI(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function tk(n){return!(!JI(n)&&typeof n!="number"||isNaN(+Tn(n)))}function ek(n,t){const e=Tn(n,t==null?void 0:t.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const nk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ik=(n,t,e)=>{let i;const a=nk[n];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function Zg(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const sk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ak={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ok={date:Zg({formats:sk,defaultWidth:"full"}),time:Zg({formats:ak,defaultWidth:"full"}),dateTime:Zg({formats:rk,defaultWidth:"full"})},lk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uk=(n,t,e,i)=>lk[n];function ql(n){return(t,e)=>{const i=e!=null&&e.context?String(e.context):"standalone";let a;if(i==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=e!=null&&e.width?String(e.width):u;a=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[h]||n.values[u]}const o=n.argumentCallback?n.argumentCallback(t):t;return a[o]}}const ck={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pk=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},yk={ordinalNumber:pk,era:ql({values:ck,defaultWidth:"wide"}),quarter:ql({values:hk,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ql({values:fk,defaultWidth:"wide"}),day:ql({values:dk,defaultWidth:"wide"}),dayPeriod:ql({values:gk,defaultWidth:"wide",formattingValues:mk,defaultFormattingWidth:"wide"})};function Yl(n){return(t,e={})=>{const i=e.width,a=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=t.match(a);if(!o)return null;const u=o[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?vk(h,v=>v.test(u)):_k(h,v=>v.test(u));let g;g=n.valueCallback?n.valueCallback(f):f,g=e.valueCallback?e.valueCallback(g):g;const p=t.slice(u.length);return{value:g,rest:p}}}function _k(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function vk(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function bk(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const a=i[0],o=t.match(n.parsePattern);if(!o)return null;let u=n.valueCallback?n.valueCallback(o[0]):o[0];u=e.valueCallback?e.valueCallback(u):u;const h=t.slice(a.length);return{value:u,rest:h}}}const Ek=/^(\d+)(th|st|nd|rd)?/i,Tk=/\d+/i,Sk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xk={any:[/^b/i,/^(a|c)/i]},Ak={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wk={any:[/1/i,/2/i,/3/i,/4/i]},Rk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ck={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ok={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ik={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kk={ordinalNumber:bk({matchPattern:Ek,parsePattern:Tk,valueCallback:n=>parseInt(n,10)}),era:Yl({matchPatterns:Sk,defaultMatchWidth:"wide",parsePatterns:xk,defaultParseWidth:"any"}),quarter:Yl({matchPatterns:Ak,defaultMatchWidth:"wide",parsePatterns:wk,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Yl({matchPatterns:Rk,defaultMatchWidth:"wide",parsePatterns:Mk,defaultParseWidth:"any"}),day:Yl({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Ck,defaultParseWidth:"any"}),dayPeriod:Yl({matchPatterns:Ok,defaultMatchWidth:"any",parsePatterns:Ik,defaultParseWidth:"any"})},Vk={code:"en-US",formatDistance:ik,formatLong:ok,formatRelative:uk,localize:yk,match:kk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nk(n,t){const e=Tn(n,t==null?void 0:t.in);return $I(e,ek(e))+1}function Pk(n,t){const e=Tn(n,t==null?void 0:t.in),i=+nf(e)-+ZI(e);return Math.round(i/tS)+1}function nS(n,t){var p,v,b,S;const e=Tn(n,t==null?void 0:t.in),i=e.getFullYear(),a=Sf(),o=(t==null?void 0:t.firstWeekContainsDate)??((v=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((S=(b=a.locale)==null?void 0:b.options)==null?void 0:S.firstWeekContainsDate)??1,u=aa((t==null?void 0:t.in)||n,0);u.setFullYear(i+1,0,o),u.setHours(0,0,0,0);const h=wu(u,t),f=aa((t==null?void 0:t.in)||n,0);f.setFullYear(i,0,o),f.setHours(0,0,0,0);const g=wu(f,t);return+e>=+h?i+1:+e>=+g?i:i-1}function Lk(n,t){var h,f,g,p;const e=Sf(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??e.firstWeekContainsDate??((p=(g=e.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,a=nS(n,t),o=aa((t==null?void 0:t.in)||n,0);return o.setFullYear(a,0,i),o.setHours(0,0,0,0),wu(o,t)}function zk(n,t){const e=Tn(n,t==null?void 0:t.in),i=+wu(e,t)-+Lk(e,t);return Math.round(i/tS)+1}function Wt(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const zs={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return Wt(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Wt(e+1,2)},d(n,t){return Wt(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Wt(n.getHours()%12||12,t.length)},H(n,t){return Wt(n.getHours(),t.length)},m(n,t){return Wt(n.getMinutes(),t.length)},s(n,t){return Wt(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),a=Math.trunc(i*Math.pow(10,e-3));return Wt(a,t.length)}},io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D1={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});case"GGGG":default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),a=i>0?i:1-i;return e.ordinalNumber(a,{unit:"year"})}return zs.y(n,t)},Y:function(n,t,e,i){const a=nS(n,i),o=a>0?a:1-a;if(t==="YY"){const u=o%100;return Wt(u,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):Wt(o,t.length)},R:function(n,t){const e=eS(n);return Wt(e,t.length)},u:function(n,t){const e=n.getFullYear();return Wt(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Wt(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Wt(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return zs.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return Wt(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const a=zk(n,i);return t==="wo"?e.ordinalNumber(a,{unit:"week"}):Wt(a,t.length)},I:function(n,t,e){const i=Pk(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):Wt(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):zs.d(n,t)},D:function(n,t,e){const i=Nk(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):Wt(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});case"EEEE":default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const a=n.getDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Wt(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});case"eeee":default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const a=n.getDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Wt(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});case"cccc":default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return Wt(a,t.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});case"iiii":default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const a=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let a;switch(i===12?a=io.noon:i===0?a=io.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let a;switch(i>=17?a=io.evening:i>=12?a=io.afternoon:i>=4?a=io.morning:a=io.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return zs.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):zs.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):Wt(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):Wt(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):zs.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):zs.s(n,t)},S:function(n,t){return zs.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return O1(i);case"XXXX":case"XX":return $a(i);case"XXXXX":case"XXX":default:return $a(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return O1(i);case"xxxx":case"xx":return $a(i);case"xxxxx":case"xxx":default:return $a(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+C1(i,":");case"OOOO":default:return"GMT"+$a(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+C1(i,":");case"zzzz":default:return"GMT"+$a(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return Wt(i,t.length)},T:function(n,t,e){return Wt(+n,t.length)}};function C1(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=Math.trunc(i/60),o=i%60;return o===0?e+String(a):e+String(a)+t+Wt(o,2)}function O1(n,t){return n%60===0?(n>0?"-":"+")+Wt(Math.abs(n)/60,2):$a(n,t)}function $a(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=Wt(Math.trunc(i/60),2),o=Wt(i%60,2);return e+a+t+o}const I1=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},iS=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Bk=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],a=e[2];if(!a)return I1(n,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",I1(i,t)).replace("{{time}}",iS(a,t))},Uk={p:iS,P:Bk},Hk=/^D+$/,jk=/^Y+$/,Fk=["D","DD","YY","YYYY"];function qk(n){return Hk.test(n)}function Yk(n){return jk.test(n)}function Gk(n,t,e){const i=Qk(n,t,e);if(console.warn(i),Fk.includes(n))throw new RangeError(i)}function Qk(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wk=/^'([^]*?)'?$/,$k=/''/g,Zk=/[a-zA-Z]/;function Jk(n,t,e){var p,v,b,S;const i=Sf(),a=i.locale??Vk,o=i.firstWeekContainsDate??((v=(p=i.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,u=i.weekStartsOn??((S=(b=i.locale)==null?void 0:b.options)==null?void 0:S.weekStartsOn)??0,h=Tn(n,e==null?void 0:e.in);if(!tk(h))throw new RangeError("Invalid time value");let f=t.match(Kk).map(A=>{const M=A[0];if(M==="p"||M==="P"){const C=Uk[M];return C(A,a.formatLong)}return A}).join("").match(Xk).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const M=A[0];if(M==="'")return{isToken:!1,value:tV(A)};if(D1[M])return{isToken:!0,value:A};if(M.match(Zk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:A}});a.localize.preprocessor&&(f=a.localize.preprocessor(h,f));const g={firstWeekContainsDate:o,weekStartsOn:u,locale:a};return f.map(A=>{if(!A.isToken)return A.value;const M=A.value;(Yk(M)||qk(M))&&Gk(M,t,String(n));const C=D1[M[0]];return C(h,M,a.localize,g)}).join("")}function tV(n){const t=n.match(Wk);return t?t[1].replace($k,"'"):n}function Bs(n,t,e){const i=+Tn(n,e==null?void 0:e.in),[a,o]=[+Tn(t.start,e==null?void 0:e.in),+Tn(t.end,e==null?void 0:e.in)].sort((u,h)=>u-h);return i>=a&&i<=o}function Jg(n){const t=Math.floor(n/1e3)%60,e=Math.floor(n/(1e3*60))%60,i=Math.floor(n/(1e3*60*60));return`${String(i).padStart(2,"0")}:${String(e).padStart(2,"0")}:${String(t).padStart(2,"0")}`}function eV(){const[n,t]=Te.useState([]),[e,i]=Te.useState(""),[a,o]=Te.useState([]),[u,h]=Te.useState(""),[f,g]=Te.useState([]),[p,v]=Te.useState(""),[b,S]=Te.useState(""),[A,M]=Te.useState([]);Te.useEffect(()=>{(async()=>{const ft=pM(VM,"relatorios"),ht=await OM(ft),j=[],it=new Set,ct=new Set;ht.forEach(vt=>{const P=vt.data();j.push(P),it.add(P.userId),ct.add(P.projeto||"sem-projeto")}),o(Array.from(it)),g(Array.from(ct)),t(j)})()},[]);const C=new Date,B=new Date(C.getFullYear(),C.getMonth(),C.getDate()),H=new Date(C.getFullYear(),C.getMonth(),C.getDate(),23,59,59),X=n.filter(D=>{const ft=!e||D.userId===e,ht=!u||D.projeto===u,j=new Date(D.timestamp),it=!p&&!b?Bs(j,{start:B,end:H}):Bs(j,{start:p?new Date(p):new Date("2000-01-01"),end:b?new Date(b+"T23:59:59"):new Date("2100-01-01")});return ft&&it&&ht}),$=X.reduce((D,ft)=>D+Object.values(ft.fileDurations).reduce((ht,j)=>ht+j,0),0),G=X.reduce((D,ft)=>D+ft.inactivityDuration,0),et=new Set(X.flatMap(D=>Object.keys(D.fileDurations))).size,I=X.reduce((D,ft)=>D+ft.activityLog.filter(ht=>{const j=new Date(ht.time);return!p||!b?Bs(j,{start:B,end:H}):Bs(j,{start:new Date(p),end:new Date(b+"T23:59:59")})}).length,0),w=$+G,O=w?$/w*100:0,k={};X.forEach(D=>{Object.entries(D.fileDurations).forEach(([ft,ht])=>{k[ft]=(k[ft]||0)+ht})});const N={labels:Object.keys(k).map(D=>D.split(/[/\\]/).pop()),datasets:[{label:"Tempo de Edição (hh:mm:ss)",data:Object.values(k).map(D=>D/1e3),backgroundColor:"#60a5fa"}]},L={responsive:!0,plugins:{tooltip:{callbacks:{label:function(D){const ft=D.raw*1e3;return`Tempo: ${Jg(ft)}`}}}}};return St.jsxs("div",{className:"container",children:[St.jsx("h1",{children:"Painel de Relatórios"}),St.jsxs("div",{className:"kpis",children:[St.jsxs("div",{className:"kpi",children:[St.jsx("h3",{children:"Tempo Produtivo"}),St.jsx("p",{children:Jg($)})]}),St.jsxs("div",{className:"kpi",children:[St.jsx("h3",{children:"Inatividade"}),St.jsx("p",{children:Jg(G)})]}),St.jsxs("div",{className:"kpi",children:[St.jsx("h3",{children:"Arquivos Editados"}),St.jsx("p",{children:et})]}),St.jsxs("div",{className:"kpi",children:[St.jsx("h3",{children:"Registros"}),St.jsx("p",{children:I})]})]}),St.jsxs("div",{className:"regua",children:[St.jsxs("div",{className:"regua-bar",children:[St.jsx("div",{className:"produtivo",style:{width:`${O}%`}}),St.jsx("div",{className:"inativo",style:{width:`${100-O}%`}})]}),St.jsxs("p",{children:[O.toFixed(1),"% produtivo"]})]}),St.jsxs("div",{className:"filtros",children:[St.jsx("label",{children:"Usuário:"}),St.jsxs("select",{value:e,onChange:D=>i(D.target.value),children:[St.jsx("option",{value:"",children:"Todos"}),a.map(D=>St.jsx("option",{value:D,children:D},D))]}),St.jsx("label",{children:"Projeto:"}),St.jsxs("select",{value:u,onChange:D=>h(D.target.value),children:[St.jsx("option",{value:"",children:"Todos"}),f.map(D=>St.jsx("option",{value:D,children:D},D))]}),St.jsx("label",{children:"De:"}),St.jsx("input",{type:"date",value:p,onChange:D=>v(D.target.value),className:"input"}),St.jsx("label",{children:"Até:"}),St.jsx("input",{type:"date",value:b,onChange:D=>S(D.target.value),className:"input"})]}),St.jsx("div",{className:"grafico",children:St.jsx(QI,{data:N,options:L})}),St.jsx("h2",{children:"Atividades Recentes"}),St.jsxs("div",{className:"filtros",children:[St.jsx("label",{children:"Tipo de Ação:"}),Array.from(new Set(X.flatMap(D=>D.activityLog.map(ft=>ft.action)))).map(D=>St.jsxs("label",{children:[St.jsx("input",{type:"checkbox",checked:A.includes(D),onChange:()=>{M(ft=>ft.includes(D)?ft.filter(ht=>ht!==D):[...ft,D])}})," ",D]},D))]}),St.jsx("ul",{className:"log",children:X.flatMap(D=>D.activityLog.filter(ft=>{const ht=new Date(ft.time),j=!p||!b?Bs(ht,{start:B,end:H}):Bs(ht,{start:new Date(p),end:new Date(b+"T23:59:59")}),it=A.length===0||A.includes(ft.action);return j&&it}).map(ft=>St.jsxs("li",{children:[Jk(new Date(ft.time),"dd/MM/yyyy HH:mm:ss")," — ",St.jsx("strong",{children:ft.action})," em ",St.jsx("em",{children:ft.file.split(/[/\\]/).pop()})," ",ft.duration&&` (${ft.duration})`]},`${ft.time}-${ft.action}-${ft.file}`)))}),St.jsxs("p",{children:["Total: ",X.reduce((D,ft)=>D+ft.activityLog.filter(ht=>{const j=new Date(ht.time),it=!p||!b?Bs(j,{start:B,end:H}):Bs(j,{start:new Date(p),end:new Date(b+"T23:59:59")}),ct=A.length===0||A.includes(ht.action);return it&&ct}).length,0)," registros exibidos"]}),St.jsx("button",{onClick:()=>{const D=JSON.stringify(X,null,2),ft=new Blob([D],{type:"application/json"}),ht=URL.createObjectURL(ft),j=document.createElement("a");j.href=ht,j.download="relatorio.json",j.click()},children:"Exportar JSON"})]})}Ux.createRoot(document.getElementById("root")).render(St.jsx(Te.StrictMode,{children:St.jsx(eV,{})}));
